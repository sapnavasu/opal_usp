(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"3zQM":function(e,t,n){"use strict";n.r(t),t.default='#vehicleformpage .txt-gry {\n  color: #848484;\n}\n#vehicleformpage .customform .mat-input-element {\n  width: 42%;\n}\n#vehicleformpage .customform .mat-form-field-infix {\n  display: flex;\n}\n#vehicleformpage .customform .mat-form-field-suffix {\n  display: flex;\n}\n#vehicleformpage .customform .mat-form-field-label {\n  display: flex;\n}\n#vehicleformpage .customform .mat-form-field-label mat-label {\n  width: 48%;\n}\n#vehicleformpage .arabiclanguage input,\n#vehicleformpage .arabiclanguage .mat-form-field-label {\n  text-align: right;\n}\n#vehicleformpage .arabiclanguage .mat-form-field-label {\n  text-align: right;\n}\n#vehicleformpage .arabiclanguage .mat-error {\n  text-align: right;\n}\n#vehicleformpage .timeaddpicker {\n  max-height: 59px;\n  min-height: 59px;\n  border: 1px solid #ddd;\n  padding: 10px;\n  border-radius: 4px;\n}\n#vehicleformpage .timeaddpicker .drpickerstartend .mat-icon {\n  color: #848484;\n  margin-top: -12px;\n  cursor: pointer;\n}\n#vehicleformpage .timeaddpicker .drpickerstartend .mat-form-field-wrapper {\n  margin-top: 0px !important;\n}\n#vehicleformpage .timeaddpicker .drpickerstartend .mat-form-field-underline {\n  display: none;\n}\n#vehicleformpage .timeaddpicker .drpickerstartend .mat-form-field-infix {\n  margin-top: 0px !important;\n  padding-top: 0px !important;\n  padding-bottom: 0px !important;\n  border: none;\n  cursor: pointer;\n}\n#vehicleformpage .timeaddpicker .drpickerstartend .beforrshow::before {\n  content: "";\n  position: absolute;\n  width: 1px;\n  right: -20px;\n  top: -17px;\n  background-color: #ddd;\n  height: 90%;\n}\n#vehicleformpage .timeaddpicker .drpickerstartend .mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper {\n  top: calc(100% - 1.1666666667em);\n}\n#vehicleformpage .transformbtn {\n  min-width: 110px;\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n  color: #262626;\n  padding-left: 0px;\n  padding-right: 0px;\n  height: 45px;\n}\n#vehicleformpage .submit_btn {\n  background-color: #ED1C27 !important;\n  color: #fff !important;\n  min-width: 110px;\n  height: 45px;\n}\n#vehicleformpage .mat-raised-button {\n  border-radius: 2px;\n  box-shadow: none;\n}\n#vehicleformpage .mat-form-field-appearance-outline.mat-form-field-readonly {\n  background-color: #009c3a !important;\n}\n#vehicleformpage .mat-form-field-appearance-outline .mat-form-field-outline {\n  color: #d9d9d9;\n}\n#vehicleformpage .mat-form-field-appearance-outline .mat-form-field-outline-start {\n  border-radius: 3px 0 0 3px;\n}\n#vehicleformpage .mat-form-field-appearance-outline .mat-form-field-outline-end {\n  border-radius: 0 3px 3px 0;\n}\n#vehicleformpage .mat-form-field-appearance-outline .mat-form-field-required-marker {\n  color: #ED1C27;\n}\n#vehicleformpage .mat-form-field-appearance-outline .mat-form-field-outline-thick {\n  color: #6ba5ec;\n  background-color: #f8f8f8;\n}\n#vehicleformpage .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick {\n  color: #0c4b9a;\n  background-color: #f8f8f8;\n}\n#vehicleformpage .mat-form-field-appearance-outline.mat-focused.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {\n  color: #0c4b9a;\n}\n#vehicleformpage .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline {\n  background-color: #f8f8f8;\n}\n#vehicleformpage .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick {\n  color: #dc4c64;\n  background-color: #f8f8f8;\n}\n#vehicleformpage .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {\n  transform: translateY(-0.9rem) scale(0.75);\n  color: #848484;\n}\n#vehicleformpage .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label .mat-form-field-required-marker {\n  color: #ED1C27;\n}\n#vehicleformpage .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap {\n  width: 0px !important;\n}\n#vehicleformpage .mat-form-field.mat-form-field-invalid .mat-form-field-label {\n  color: #dc4c64 !important;\n}\n.select_with_search {\n  overflow: hidden !important;\n  max-height: 100% !important;\n  margin-top: 40px !important;\n  margin-bottom: 15px !important;\n}\n.select_with_option {\n  overflow: hidden !important;\n  max-height: 100% !important;\n  margin-top: 50px !important;\n  margin-bottom: 15px !important;\n}\n.searchinmultiselect {\n  display: flex;\n  align-items: center;\n  padding: 10px 10px;\n  background: #e9edf0;\n  margin: 10px;\n}\n.searchselect {\n  width: calc(100% - 25px) !important;\n  padding-left: 10px;\n}\n.mat-option.mat-active {\n  background: #fff;\n  color: rgba(0, 0, 0, 0.87);\n}\n.option-listing {\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: 290px;\n}\n.option-listing::-webkit-scrollbar {\n  width: 7px;\n}\n/* Track */\n.option-listing::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n/* Handle */\n.option-listing::-webkit-scrollbar-thumb {\n  background: #ED1C27;\n}\n/* hover */\n.option-listing::-webkit-scrollbar-thumb:hover {\n  background: #ED1C27;\n}\n.myPanelClass {\n  margin: 36px 0px;\n}\n[dir=rtl] #vehicleformpage .timeaddpicker .drpickerstartend .beforrshow::before {\n  right: auto !important;\n  left: -20px;\n}'},"9t9e":function(e,t,n){"use strict";n.r(t),t.default='<div fxLayoutAlign="center start" id="inspectionApproval">\r\n    <app-responseloader *ngIf="loader"></app-responseloader>\r\n    <div fxFlex="100" fxFlex.gt-sm="100">\r\n        <app-vehicleinfobox [vehiclepk]="veiclepk"></app-vehicleinfobox>\r\n        <div>\r\n            <div class="m-l-0 m-r-0 m-b-30"  *ngIf="declineDtls && declineDtls.declinedOn"\r\n                [ngClass]="\'declinecmd\'">\r\n                <h4 class="18 m-5 m-l-0">{{\'Comments\' | translate}}</h4>\r\n                <p class="fs-16 txt-gry3 m-b-30"\r\n                    [innerHTML]="declineDtls?.declinedComments ? declineDtls?.declinedComments :\'Nil\'"></p>\r\n                <mat-divider></mat-divider>\r\n                <div class="validinfo" fxLayout="row wrap">\r\n                    <p class="fs-16 txt-gry m-r-40">{{\'Verified on\' | translate}} : <span\r\n                            class="fs-16 txt-gry3">{{declineDtls?.declinedOn}}</span></p>\r\n                    <p class="fs-16 txt-gry m-l-30">{{\'Verified by\' | translate}} : <span\r\n                            class="fs-16 txt-gry3">{{declineDtls?.declinedBy}}</span></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <form autocomplete="off" [formGroup]="approveDecline"  #form="ngForm" (ngSubmit)="movetoverifier()">\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class=" ">\r\n                <div fxFlex.gt-sm="35" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-select [errorStateMatcher]="matcher" required formControlName="inspctiontype"\r\n                            panelClass="select_with_search" (selectionChange)="ChkInspType(Form.inspctiontype.value)">\r\n                            <mat-option [value]="1">{{\'Online Form\' | translate}}</mat-option>\r\n                            <mat-option [value]="2">{{\'Scanned Copy (Physical)\' | translate}}</mat-option>\r\n                            \x3c!-- <mat-option [value]="3">{{\'staff.fail\' | translate}}</mat-option> --\x3e\r\n                        </mat-select>\r\n                        <mat-label>{{\'Select Inspected Report Type\' | translate}}</mat-label>\r\n                        <mat-error *ngIf="Form.inspctiontype.errors?.required || (Form.inspctiontype.touched) || form.submitted">\r\n                            {{\'Select the inspected report type from the drop-down\' | translate}}\r\n                        </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="Form.inspctiontype.value">\r\n                <div [ngSwitch]="InspectionTemplate" class="rightsideinfodetail m-t-8 m-b-10">\r\n                    <ng-template [ngSwitchCase]="\'Offline\'">\r\n                        <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="">\r\n                            <div fxFlex.gt-sm="70" fxFlex="100">\r\n                                <app-filee #assesmentrepot [notePosition]="\'bottom\'"  [fileMstRef]="report"\r\n                                    [deleteicon]="deleteicon" (filesSelected)="fileeSelected($event,report)"\r\n                                    formControlName="reportdocument" [notecontentrequired]="true">\r\n                                </app-filee>\r\n                                \x3c!-- <mat-hint>{{\'Only (3) JPG, JPEG, PNG, PDF are allowed up to 3MB in size.\' | translate}} </mat-hint> --\x3e\r\n                             \r\n                                <mat-error class="error fs-13" *ngIf="approveDecline.get(\'reportdocument\').invalid && form.submitted">\r\n                                    {{\'Upload a Inspected Report\' | translate}} </mat-error>\r\n                            \r\n                             \x3c!-- <div  class="error fs-13" *ngIf="approveDecline.get(\'reportdocument\').errors?.required && this.approveDecline.submitted">\r\n                                {{\'Upload a Inspected Report\' | translate}} </div> --\x3e\r\n            \r\n                            </div>\r\n                           <div>\r\n                            \x3c!-- <mat-hint class="fs-13">{{\'Only (3) JPG, JPEG, PNG, PDF are allowed up to 3MB in size.\' | translate}} </mat-hint> <br>\r\n                            <mat-error class="error fs-13" *ngIf="approveDecline.get(\'reportdocument\').invalid && form.submitted">\r\n                                {{\'Upload a Inspected Report\' | translate}} </mat-error> --\x3e\r\n                           </div>\r\n                        </div>\r\n                        \r\n                        </ng-template>\r\n                    <ng-template [ngSwitchCase]="\'Online\'">\r\n                        <h4 class="fs-18 blue m-t-0">{{\'Checklist for Inspection\' | translate}}</h4>\r\n                        <mat-checkbox *ngIf="passanswrslist && passanswrslist.length > 0"   #editchkbox  (change)="checkAllFun($event.checked)"> {{ \'All Pass\' | translate}}\r\n                        </mat-checkbox>\r\n                        <div *ngIf="checklist && checklist?.length > 0" formArrayName="onlinechecklist" class="m-b-30">\r\n                            <div class="contents m-t-20"  *ngFor="let list of checklist; let i = index">\r\n                                <div [formGroupName]="i">\r\n                                    <div fxLayout="row wrap" fxLayoutAlign="start center" *ngIf="checklist[i]">\r\n                                        <div fxLayout="row"  class="questions">{{i + 1}}.&nbsp;<h4 class="fs-16 txy-gry3 m-0">{{list.aqm_question_en}}\r\n                                        \x3c!-- <span fxLayout="row"> --\x3e\r\n                                            \x3c!-- <span class="passfailcount"> --\x3e\r\n                                                <button  class="p-l-15" type="button" class="btns" *ngIf="!isopen[i]" (click)="toggle(i)">\r\n                                                    <mat-icon fxLayoutAlign="start center">chat_bubble_outline</mat-icon></button>\r\n                                            \x3c!-- </span> --\x3e\r\n                                        \x3c!-- </span> --\x3e\r\n                                    </h4>\r\n                                    </div>\r\n                                    </div>\r\n                                \x3c!-- <div fxLayout="row" fxLayoutAlign="start start" class="questions"><h4 class="fs-16 txt-gry3">{{i+1}}.</h4>&nbsp;<h4 class="fs-16 txt-gry3" fxLayout="row">{{list.aqm_question_en}} <span>  <button  class="p-l-15" type="button" class="btns" *ngIf="!isopen[i]" (click)="toggle(i)">\r\n                                    <mat-icon fxLayoutAlign="start center">chat_bubble_outline</mat-icon></button></span></h4> </div> --\x3e\r\n                                <mat-radio-group class="m-t-15" aria-label="Select an option" fxLayout="row" formControlName="answer" (change)="AnswerChangeValue($event, i);checkIfAllPass()">\r\n                                    <div *ngFor="let option of list.ansoptions">\r\n                                        <mat-radio-button [value]="option.auditanswerdtls_pk" class="m-r-30">{{option.aad_answer_en}}</mat-radio-button>\r\n                                    </div>\r\n                                </mat-radio-group>\r\n                                    <div *ngIf="isopen[i]" class="m-l-20">\r\n                                        <div class="secondtab" fxLayout="row wrap" fxLayoutAlign="flex-start center">\r\n                                            <div fxFlex.gt-sm="100" fxFlex="100" class="m-t-20">\r\n                                               \r\n                                                <mat-form-field appearance="outline">\r\n                                                    <mat-label>{{\'Comments\' | translate}}</mat-label>\r\n                                                    <textarea [readonly]="textareastatus" matInput   formControlName="chklistcomments" (change)="OnCommentAdd($event, i)"\r\n                                                        maxlength="1000" rows="3" [required]="isopen[i] == true"></textarea>\r\n                                                    <mat-error class="text-danger errormsgtext font-14"\r\n                                                        *ngIf="getChecklistForm(i).get(\'chklistcomments\').invalid || getChecklistForm(i).get(\'chklistcomments\').touched">\r\n                                                        {{\'validation.entemess\' | translate}}</mat-error>\r\n                                                </mat-form-field>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class="secondtab" fxLayout="row wrap" fxLayoutAlign="flex-start center">\r\n                                            <div fxFlex.gt-sm="70" fxFlex="100" class="m-t-10">\r\n                                                <app-filee #assesmentrepotre [notePosition]="\'bottom\'" [fileMstRef]="ChekclistDocuments[i]"  formControlName="chcklistdoc" \r\n                                                [deleteicon]="deleteicon" (filesSelected)="fileeSelectedChecklist($event,ChekclistDocuments[i])"\r\n                                                 [fileuploadcommon]="false" [notecontentrequired]="true" [uploaddocumentname]="\'Upload Proof of Document\' | translate" [requiredfield]="isopen[i] == true" >\r\n                                            </app-filee>\r\n                                            \x3c!-- <mat-hint>{{\'Only (3) JPG, JPEG, PNG, PDF are allowed up to 3MB in size.\' | translate}} </mat-hint> --\x3e\r\n                                            <mat-error class="error fs-13"\r\n                                            *ngIf="getChecklistForm(i).get(\'chcklistdoc\').errors?.required && form.submitted">\r\n                                            {{\'Upload document\' | translate}}</mat-error>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div fxLayoutAlign="end center">\r\n                                            <button mat-raised-button class="cancelbtn fs-16"  type="button" (click)="toggle(i)" color="primary">{{\'Cancel\' | translate}}</button>\r\n                                         </div>   \r\n                                    </div>  \r\n                                </div>  \r\n                            </div> \r\n                        </div>\r\n\r\n                        \r\n                    </ng-template>\r\n                </div>\r\n            </div>\r\n           \r\n            <div class="timeduration_contain p-t-10 p-b-10">\r\n                <h5 class="trainingdurationtitle m-0 fs-16">{{\'Inspection Status\' | translate}} \r\n                </h5>\r\n            </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-10">\r\n                <div fxFlex.gt-sm="35" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-select [errorStateMatcher]="matcher" required formControlName="status" (selectionChange)="statustype($event.value)"\r\n                            panelClass="select_with_search">\r\n                            <mat-option [value]="2">{{\'Approve\' | translate}}</mat-option>\r\n                            \x3c!-- <mat-option [value]="8">{{\'Reject\' | translate}}</mat-option> --\x3e\r\n                            <mat-option [value]="7">{{\'Decline (Reinspection Required)\' | translate}}</mat-option>\r\n                        </mat-select>\r\n                        <mat-label>{{\'Select Status\' | translate}}</mat-label>\r\n                        <mat-error *ngIf="Form.status.errors?.required || (Form.status.touched) || form.submitted">\r\n                            {{\'Select the Status from the drop-down\' | translate}}\r\n                        </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n            <div fxLayout="row wrap" fxFlexAlign="center" class="p-b-10" >\r\n                <div fxFlex.gt-sm="100" fxFlex="100">\r\n                    <div fxLayout="row wrap" (click)="editinfo()" *ngIf="!edittechinfo">\r\n                        <div class="m-t-10" fxFlex.gt-sm="100" fxFlex="100">\r\n                            <div class="ckeditorborder">\r\n                                <p class="editortitle importantfield txt-gry3">{{\'validation.comm\' | translate}}\r\n                                    <span class="error">*</span>\r\n                                </p>\r\n                                <div class="contenthere" [innerHTML]=\'techinfo\'>\r\n                                </div>\r\n                            </div>\r\n                            <div class="messagecount" fxLayoutAlign="flex-end">\r\n                                <p class="m-0 txt-gry"> {{ck.ckeditor_count(contact)}} / 1000</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div fxLayout="row wrap" *ngIf="edittechinfo" class="m-t-20">\r\n                        <div fxFlex.gt-sm="100" fxFlex="100" class="techapp m-b-20">\r\n                            <div class="d-flex">\r\n                                <span\r\n                                    class="d-block ckeditortitle p-b-5 importantfield txt-gry">{{\'validation.comm\'\r\n                                    | translate}}<span class="error"> *</span></span>\r\n                            </div>\r\n                            <div class="ckeditror finalgrade">\r\n                                <ckeditor\r\n                                    [ngClass]="{\'is-invalid\': Form.comments.touched && Form.comments.errors }"\r\n                                    (change)="onChangeeditor($event)" [(ngModel)]="contact"\r\n                                    [editor]="Editor" [config]="config" class="ck-editorbox"\r\n                                    [formControl]="approveDecline.controls[\'comments\']" appAlphanumsymb required>\r\n                                </ckeditor>\r\n                                <div *ngIf="(Form.comments.touched && Form.comments.errors?.required == true) || form.submitted">\r\n                                    <div class="error fs-13"\r\n                                        *ngIf="(Form.comments.touched &&  Form.comments.errors || form.submitted)">\r\n                                        {{\'validation.entemess\' | translate}}</div>\r\n                                </div>\r\n                            </div>\r\n                            <mat-hint *ngIf="(ck.ckeditor_count(contact)>1000)" class="error font-14"\r\n                                align="start">{{\'validation.cannexcechar\' | translate}}</mat-hint>\r\n                            <div class="messagecount txt-gry" fxLayoutAlign="flex-end">\r\n                                <p class="txt-gry"> {{ck.ckeditor_count(contact)}}/1000</p>\r\n                            </div>\r\n                            <div class="clearbut p-t-20 b-5" fxLayoutAlign="flex-end">\r\n                                <button type="button"\r\n                                    [disabled]="approveDecline.controls[\'comments\'].value?.length==0"\r\n                                    (click)="resinfo()" mat-raised-button\r\n                                    class="m-r-10 clearbutton button-40">{{\'Clear\' |\r\n                                    translate}}</button>\r\n                                <button mat-raised-button color="primary"\r\n                            [disabled]="ck.ckeditor_count(contact)>1000 || Form.comments.errors?.required == true"   (click)="messagedone()" class="button-40">{{\'Done\' |\r\n                                    translate}}</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n            \r\n            <div class="btngroup m-t-30 m-b-10" fxLayout="row" fxLayoutAlign="flex-end">\r\n                <button mat-raised-button class="transformbtn fs-15" type="button"\r\n                    (click)="cancel()">{{\'Cancel\' | translate}}</button>\r\n                <button mat-raised-button class="submit_btn m-l-20 fs-16"   *ngIf="approvalstatus" \r\n                    color="primary" type="submit">{{\'Move to Verifier\' | translate}}</button>\r\n                <button mat-raised-button class="submit_btn m-l-20 fs-16" *ngIf="!approvalstatus"\r\n                color="primary" type="submit" >{{\'Submit\' | translate}}</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},Arh1:function(e,t,n){"use strict";n.r(t),t.default='@charset "UTF-8";\n.excelimprtviewlist .mat-card-header {\n  align-items: center;\n}\n.excelimprtviewlist .arabicview {\n  display: flex;\n  flex-direction: row-reverse;\n}\n.excelimprtviewlist .englishview {\n  position: absolute;\n  left: 12px !important;\n  bottom: 15px;\n}\n.excelimprtviewlist .informationtext .selectforward {\n  position: absolute;\n  right: 12px;\n  bottom: 15px;\n}\n#excelimprtlistview {\n  border: 1px solid #f2f2f2;\n  box-shadow: 0 0 0 1px #efefef;\n}\n#excelimprtlistview .txt-blue {\n  color: #006ab5;\n}\n#excelimprtlistview .firstrowbtn {\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid #ddd;\n  padding: 20px;\n}\n#excelimprtlistview .firstrowbtn .auditbtn {\n  background: #f4f3f5 !important;\n  min-width: 110px !important;\n  box-shadow: none;\n  border: none !important;\n  color: #333;\n  font-size: 0.9375rem;\n  box-shadow: none;\n  cursor: pointer;\n}\n#excelimprtlistview .firstrowbtn .contractcategorybtn {\n  padding: 10px;\n  background: #f68220 !important;\n  min-width: 110px !important;\n  box-shadow: none;\n  border: none !important;\n  color: #fff;\n  font-size: 0.9375rem;\n  box-shadow: none;\n  cursor: pointer;\n}\n#excelimprtlistview .stepfollowrow, #excelimprtlistview .excelerrorreport {\n  padding: 20px;\n}\n#excelimprtlistview .stepfollowrow, #excelimprtlistview .highlightsrow {\n  margin-top: 5px;\n}\n#excelimprtlistview .stepfollowrow h2, #excelimprtlistview .highlightsrow h2 {\n  margin: 0 0 8px 0;\n  font-weight: normal;\n  text-transform: uppercase;\n  font-family: "segoesemibold";\n}\n#excelimprtlistview .stepfollowrow .listrow, #excelimprtlistview .highlightsrow .listrow {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n#excelimprtlistview .stepfollowrow .listrow li, #excelimprtlistview .highlightsrow .listrow li {\n  color: #333333;\n  font-size: 0.875rem;\n  margin: 0 0 10px 0;\n  padding-left: 1.3em;\n}\n#excelimprtlistview .stepfollowrow .listrow li:before, #excelimprtlistview .highlightsrow .listrow li:before {\n  content: "\uf18e";\n  font-family: FontAwesome;\n  display: inline-block;\n  margin-left: -1.3em;\n  width: 1.3em;\n  color: #006ab5;\n  font-size: 12px;\n}\n#excelimprtlistview .stepfollowrow .listrow li a, #excelimprtlistview .highlightsrow .listrow li a {\n  color: #f68220;\n  text-decoration: underline;\n}\n#excelimprtlistview .stepfollowrow .listrow li span, #excelimprtlistview .highlightsrow .listrow li span {\n  color: #000;\n  font-family: "segoesemibold";\n}\n#excelimprtlistview .stepfollowrow .fileuploaddiv, #excelimprtlistview .highlightsrow .fileuploaddiv {\n  /*padding: 5px;\n  border: 1px dashed #999;\n  border-radius: 2px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;*/\n  display: inline-block;\n  width: 100%;\n}\n#excelimprtlistview .stepfollowrow .fileuploaddiv .uploadbtn, #excelimprtlistview .highlightsrow .fileuploaddiv .uploadbtn {\n  border: 0;\n  color: #333;\n  background-color: white;\n  padding: 8px 20px;\n  border-radius: 2px;\n  font-size: 0.875rem;\n  height: 45px;\n  background: #f3f4f6;\n  width: 100%;\n  text-align: center;\n  font-family: "segoesemibold";\n  cursor: pointer;\n}\n#excelimprtlistview .stepfollowrow .fileuploaddiv .uploadbtn span, #excelimprtlistview .highlightsrow .fileuploaddiv .uploadbtn span {\n  color: #006ab5;\n}\n#excelimprtlistview .stepfollowrow .fileuploaddiv input[type=file], #excelimprtlistview .highlightsrow .fileuploaddiv input[type=file] {\n  font-size: 100px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  opacity: 0;\n  width: 100%;\n  cursor: pointer;\n}\n#resultview {\n  border: 1px solid #f2f2f2;\n  box-shadow: 0 0 0 1px #ddd;\n  margin-top: 30px;\n}\n#resultview .errorreportdiv {\n  display: flex;\n  justify-content: space-between;\n  padding: 20px;\n}\n#resultview .errorreportdiv .fullscreenbtn {\n  background: #f4f3f5 !important;\n  min-width: 110px !important;\n  box-shadow: none;\n  border: none !important;\n  color: #333;\n  font-size: 0.8125rem;\n  box-shadow: none;\n  cursor: pointer;\n  height: 32px;\n  line-height: 30px;\n  display: inline-flex;\n  justify-content: center;\n  justify-items: center;\n  align-items: center;\n}\n#resultview .errorreportdiv .fullscreenbtn .mat-icon {\n  width: 14px;\n  height: 14px;\n  line-height: 14px;\n  text-align: center;\n}\n#resultview .errorreportdiv .exportcsvbtn {\n  background: #f68220 !important;\n  min-width: 110px !important;\n  box-shadow: none;\n  border: none !important;\n  color: #fff;\n  font-size: 0.8125rem;\n  box-shadow: none;\n  cursor: pointer;\n  height: 32px;\n  line-height: 30px;\n}\n#resultview .successmsg {\n  color: #77c014;\n  margin-top: 20px;\n}\n.excelerrorreport .errorcountdiv ul {\n  list-style: none;\n  margin: 0;\n  padding: 10px 15px;\n  box-sizing: border-box;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  background: #f9f9fa;\n  display: flex;\n}\n.excelerrorreport .errorcountdiv ul li {\n  padding-right: 4.85%;\n  padding-left: 4%;\n  border-right: 1px solid #ddd;\n  display: flex;\n  flex-direction: column;\n}\n.excelerrorreport .errorcountdiv ul li:last-child {\n  border: 0;\n}\n.excelerrorreport .errorcountdiv ul li:nth-child(2), .excelerrorreport .errorcountdiv ul li:last-child {\n  padding-left: 30px;\n}\n.excelerrorreport .errorcountdiv ul li:first-child {\n  padding-left: 0;\n}\n.excelerrorreport .errorcountdiv ul li .txt-orange {\n  color: #f68220;\n}\n.excelerrorreport .errorcountdiv ul li .txt-green {\n  color: #77c014;\n}\n.excelerrorreport .errorcountdiv ul li .txt-red {\n  color: #fe3330;\n}\n.excelerrorreport .errorcountdiv ul li .errorcount {\n  font-size: 24px;\n  line-height: 22px;\n  margin-bottom: 5px;\n  font-family: "segoesemibold";\n}\n.excelerrorreport .errorcountdiv ul li span {\n  width: 100%;\n  font-size: 13px;\n}\n#reimportbtndiv {\n  margin-top: 30px;\n  margin-bottom: 10px;\n}\n#reimportbtndiv button {\n  min-width: 110px !important;\n  box-shadow: none;\n  border: none !important;\n  font-size: 0.9375rem;\n  box-shadow: none;\n  cursor: pointer;\n  padding: 10px 15px;\n  border-radius: 2px;\n  font-family: "segoeregular";\n}\n#skipandimport {\n  background: #006ab5 !important;\n  color: #fff;\n}\n#reimport {\n  background: #f68220 !important;\n  color: #fff;\n  margin-left: 10px;\n}\n#cancelimport {\n  background: #f4f3f5 !important;\n  color: #333;\n  margin-left: 10px;\n}\n.resulttablecontainer {\n  padding: 0 20px;\n  overflow-x: auto;\n}\n.resulttablecontainer table {\n  font-family: "segoeregular";\n  border-collapse: collapse;\n  width: 100%;\n  border: 1px solid #ddd;\n}\n.resulttablecontainer td, .resulttablecontainer th {\n  border: 1px solid #dddddd;\n  text-align: left;\n  padding: 5px 6px;\n  font-size: 13px;\n  text-align: left;\n}\n.resulttablecontainer th {\n  background: #f7f6f8;\n  font-family: "segoebold";\n}\n.resulttablecontainer .bgred {\n  background-color: #fae9ea;\n  color: #db1a35;\n}\n.resulttablecontainer .fontred {\n  color: #db1a35;\n}\n.innnerpartofdrwer.maxscreen {\n  padding: 10px !important;\n}\n.innnerpartofdrwer.maxscreen #excelimprtlistview {\n  display: none !important;\n}\n.innnerpartofdrwer.maxscreen #resultview {\n  margin-top: 10px;\n  border: 0px;\n  box-shadow: none;\n}\n.innnerpartofdrwer.maxscreen #resultview .errorreportdiv {\n  padding: 0 0 10px 0;\n}\n.innnerpartofdrwer.maxscreen #resultview .resulttablecontainer {\n  padding: 0;\n}\n@media (min-width: 1280px) {\n  .stepfollowrow {\n    width: 70%;\n  }\n\n  .highlightsrow, .errorcountdiv {\n    width: 75%;\n  }\n}\n.mat-drawer.excelfileupload, .mat-drawer.excelauditwidthsidenav {\n  position: relative;\n  min-width: 95%;\n  width: 95%;\n}\n.arabicview {\n  display: flex;\n  flex-direction: row-reverse;\n}\n.englishview {\n  position: absolute;\n  left: 12px !important;\n  bottom: 15px;\n}\n.informationtext .selectforward {\n  position: absolute;\n  right: 12px;\n  bottom: 15px;\n}'},BKD1:function(e,t,n){"use strict";n.r(t),t.default="#vehiclelistpage .mat-raised-button {\n  border-radius: 2px;\n  box-shadow: none;\n}\n#vehiclelistpage .paginationwithfilter {\n  display: flex !important;\n  justify-content: space-between !important;\n  align-items: center !important;\n}\n#vehiclelistpage .masterPageTop {\n  display: flex;\n}\n#vehiclelistpage .masterPageTop .mat-paginator-range-actions button {\n  display: none;\n}\n#vehiclelistpage .filter {\n  height: 45px;\n  min-width: 110px;\n}\n#vehiclelistpage .tabforclientelenew .mat-form-field-appearance-outline .mat-form-field-infix {\n  padding: 8px 0 !important;\n}\n#vehiclelistpage .tabforclientelenew .manageoptions .mat-icon {\n  color: #acacac;\n}\n#vehiclelistpage .mat-sort-header-arrow {\n  color: #ED1C27;\n}\n#vehiclelistpage .awaredtable {\n  border-radius: 2px;\n  background-clip: padding-box;\n  background-color: #fff;\n  margin: 10px 0px;\n}\n#vehiclelistpage .awaredtable .manageoptions {\n  padding-right: 15px;\n}\n#vehiclelistpage .awaredtable .mat-row {\n  width: -webkit-fit-content !important;\n  width: -moz-fit-content !important;\n  width: fit-content !important;\n}\n#vehiclelistpage .awaredtable .mat-row:hover {\n  background-color: #f5f5f5 !important;\n}\n#vehiclelistpage .awaredtable .mat-cell {\n  color: #262626;\n}\n#vehiclelistpage .awaredtable .mat-cell a {\n  display: flex;\n  align-items: end;\n}\n#vehiclelistpage .awaredtable .mat-cell a img {\n  width: 32px;\n}\n#vehiclelistpage .awaredtable .mat-cell .viewdocument {\n  cursor: pointer;\n}\n#vehiclelistpage .awaredtable .mat-header-cell {\n  color: #626366 !important;\n  background-color: #eaedf2;\n  font-size: 15px;\n}\n#vehiclelistpage .mat-paginator-container .mat-paginator-page-size-label {\n  color: #999;\n  font-size: 15px;\n}\n#vehiclelistpage .mat-paginator-container .mat-select-value {\n  color: #626366;\n  font-size: 15px;\n}\n#vehiclelistpage .mat-paginator-container .mat-paginator-range-label {\n  color: #999;\n  font-size: 15px;\n  margin: 0px 10px !important;\n}\n#vehiclelistpage .scrolldata {\n  position: relative;\n  z-index: 1;\n  display: block;\n  overflow-x: auto;\n  background-color: #fff;\n}\n#vehiclelistpage .scrolldata::-webkit-scrollbar {\n  width: 6px;\n  height: 5px;\n}\n#vehiclelistpage .scrolldata::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n#vehiclelistpage .scrolldata::-webkit-scrollbar-thumb {\n  background: #ccc;\n  border-radius: 2px;\n}\n#vehiclelistpage .scrolldata::-webkit-scrollbar-thumb:hover {\n  background: #ccc;\n}\n#vehiclelistpage .footerpaginator .mat-paginator-outer-container .mat-paginator-container {\n  padding: 0px !important;\n}\n@media (max-width: 768px) {\n  #vehiclelistpage .footerpaginator .mat-paginator-outer-container .mat-paginator-container {\n    display: block !important;\n  }\n}\n#vehiclelistpage .footerpaginator .mat-paginator-outer-container .mat-paginator-range-actions {\n  width: calc(100% - 186px);\n  color: #0c4b9a;\n}\n#vehiclelistpage .footerpaginator .mat-paginator-outer-container .mat-paginator-range-actions .mat-paginator-range-label {\n  width: calc(100% - 186px);\n}\n@media (max-width: 768px) {\n  #vehiclelistpage .footerpaginator .mat-paginator-outer-container .mat-paginator-range-actions {\n    width: auto !important;\n  }\n}\n#vehiclelistpage .transformbtns {\n  min-width: 160px;\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n  color: #262626;\n  padding-left: 10px;\n  padding-right: 10px;\n  height: 45px;\n  font-size: 15px;\n}\n#vehiclelistpage .transformbtn {\n  min-width: 110px;\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n  color: #262626;\n  padding-left: 0px;\n  padding-right: 0px;\n  height: 45px;\n}\n#vehiclelistpage .submit_btn {\n  background-color: #ED1C27 !important;\n  color: #fff !important;\n  min-width: 110px;\n  height: 45px;\n}\n#vehiclelistpage #searchrow,\n#vehiclelistpage #filtershow {\n  border: none;\n}\n#vehiclelistpage #searchrow .serachrow,\n#vehiclelistpage #filtershow .serachrow {\n  background: #f8f8f8 !important;\n  min-height: 73px !important;\n}\n#vehiclelistpage #searchrow .serachrow .mat-form-field-outline,\n#vehiclelistpage #filtershow .serachrow .mat-form-field-outline {\n  background-color: #fff !important;\n}\n.whentootltipadded {\n  background-color: #666666 !important;\n  color: #fff;\n  min-height: 45px !important;\n}\n.whentootltipadded .mat-menu-item {\n  color: #fff !important;\n  height: 30px !important;\n  line-height: 20px !important;\n}\n.whentootltipadded .mat-menu-item span {\n  color: #ffffff !important;\n}\n.whentootltipadded .mat-menu-item span a {\n  color: #ffffff !important;\n}\n.option-listing {\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: 290px;\n}\n.option-listing::-webkit-scrollbar {\n  width: 7px;\n}\n/* Track */\n.option-listing::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n/* Handle */\n.option-listing::-webkit-scrollbar-thumb {\n  background: #ED1C27;\n}\n/* hover */\n.option-listing::-webkit-scrollbar-thumb:hover {\n  background: #ED1C27;\n}\n.select_with_search {\n  overflow: hidden !important;\n  max-height: 100% !important;\n  margin-top: 40px !important;\n  margin-bottom: 15px !important;\n}"},GmXZ:function(e,t,n){"use strict";n.r(t),t.default=""},HolE:function(e,t,n){"use strict";n.r(t),t.default='#viewStatus .questions {\n  font-family: "opal_semibold", sans-serif;\n}\n#viewStatus .online .fonts {\n  font-family: "opal_regular", sans-serif;\n}\n#viewStatus .online .indication {\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  border: none;\n  border-radius: 1px;\n}\n#viewStatus .online .indication.blue {\n  color: #0c4b9a !important;\n}\n#viewStatus .online .indication.fail {\n  background-color: #ff3434 !important;\n}\n#viewStatus .online .indication.pass {\n  background-color: #00a551 !important;\n}\n#viewStatus .online .indication.na {\n  background-color: #f5b62e !important;\n}\n#viewStatus .online .mat-divider {\n  border-top-width: 2px !important;\n}\n#viewStatus .online .passfailcount {\n  display: inline-flex;\n  align-items: center;\n}\n#viewStatus .contenthere h4 {\n  margin: 0px;\n}\n#viewStatus .contenthere p {\n  margin-top: 3px;\n}\n#viewStatus .cancelbtn {\n  min-width: 100px;\n  background-color: #ffff;\n  border: 1px solid #e8e8e8;\n  color: #262626;\n  padding-left: 0px;\n  padding-right: 0px;\n  height: 45px;\n  font-size: 15px;\n  box-shadow: none;\n}\n#viewStatus .txt-gry {\n  color: #848484;\n}\n#viewStatus .txt-gry3 {\n  color: #262626;\n}\n#viewStatus .badge {\n  padding: 6px !important;\n}\n#viewStatus img.documents {\n  width: 32px;\n}\n#viewStatus .ckeditorborder {\n  height: auto;\n  border: 1px solid #d9d9d9;\n  cursor: text;\n  padding: 5px 10px;\n  min-height: 50px;\n}\n#viewStatus .ckeditorborder:hover {\n  border: 1px solid #6ba5ec;\n}\n#viewStatus #validmsg .validet {\n  background-color: #0c4b9a;\n  color: #fff !important;\n}\n#viewStatus #validmsg .btngroup .submitbtns {\n  min-width: 160px !important;\n}\n#viewStatus #validmsg .btngroup .cancel_btns {\n  min-width: 160px;\n  background-color: #ffff;\n  border: 1px solid #e8e8e8;\n  color: #262626 !important;\n  padding-left: 0px;\n  padding-right: 0px;\n  height: 40px;\n  font-size: 15px;\n  box-shadow: none;\n}\n#viewStatus .timeduration_contain .trainingdurationtitle {\n  color: #0c4b9a;\n  font-size: 1.125rem;\n  display: flex;\n  align-items: center;\n}\n#viewStatus .timeduration_contain .trainingdurationtitle .mat-icon {\n  color: #848484;\n  margin-top: 6px;\n}\n#viewStatus .company_dtlview h4 {\n  color: #262626;\n}\n#viewStatus .company_dtlview .view_dtl p {\n  min-width: 322px;\n  color: #848484;\n  font-size: 16px;\n}\n@media (max-width: 768px) {\n  #viewStatus .company_dtlview .view_dtl p {\n    min-width: 142px;\n    width: 141px;\n  }\n}\n#viewStatus .company_dtlview .view_dtl span {\n  color: #262626;\n  font-size: 16px;\n}\n#viewStatus .company_dtlview .view_dtl span .document {\n  width: 22px;\n  height: 28px;\n}'},Jwcu:function(e,t,n){"use strict";n.r(t),t.default='<div fxLayoutAlign="center start" id="viewStatus">\r\n    <app-responseloader *ngIf="loader"></app-responseloader>\r\n    <div fxFlex="100" fxFlex.gt-sm="100">\r\n        <app-vehicleinfobox *ngIf="vehiclepk" [vehiclepk]="vehiclepk"></app-vehicleinfobox>\r\n        <div class="viewstatus m-t-25">\r\n            <div class="m-l-0 m-r-0 m-b-10" *ngIf="status >= 4 && status < 7 && !ViewinspectStatus"\r\n                [ngClass]="approved == true ? \'successcmd\' : \'declinecmd\'">\r\n                <h4 class="18 m-5 m-l-0">{{\'Comments\' | translate}}</h4>\r\n                <p class="fs-16 txt-gry3 m-b-30"\r\n                    [innerHTML]="inspcData?.apprvdComments ? inspcData?.apprvdComments :\'Nil\'"></p>\r\n                <mat-divider></mat-divider>\r\n                <div class="validinfo" fxLayout="row wrap">\r\n                    <p class="fs-16 txt-gry m-r-40">{{\'Verified on\' | translate}} : <span\r\n                            class="fs-16 txt-gry3">{{inspcData?.apprvdOn}}</span></p>\r\n                    <p class="fs-16 txt-gry m-l-30">{{\'Verified by\' | translate}} : <span\r\n                            class="fs-16 txt-gry3">{{inspcData?.approvedBy}}</span></p>\r\n                </div>\r\n            </div>\r\n            <div class="company_dtlview" *ngIf="ViewinspectStatus">\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'Odometer Reading (in km)\' | translate}}</p>\r\n                    <span>{{viewdata?.rvrd_odometerreading ? viewdata?.rvrd_odometerreading : \'-\'}}</span>\r\n                </div>\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'IVMS Serial Number\' | translate}}</p>\r\n                    <span>{{viewdata?.rvrd_ivmsserialno ? viewdata?.rvrd_ivmsserialno : \'-\'}}</span>\r\n                </div>\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'IVMS Vendor Name\' | translate}}</p>\r\n                    <span>{{viewdata?.rvrd_ivmsvendorname ? viewdata?.rvrd_ivmsvendorname : \'-\'}}</span>\r\n                </div>\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'IVMS Device Model\' | translate}}</p>\r\n                    <span>{{viewdata?.rvrd_ivmsdevicemodel ? viewdata?.rvrd_ivmsdevicemodel : \'-\'}}</span>\r\n                </div>\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'Speed Limiter Serial Number\' | translate}}</p>\r\n                    <span>{{viewdata?.rvrd_speedlimitno ? viewdata?.rvrd_speedlimitno : \'-\'}}</span>\r\n                    \r\n                </div>\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'Vehicle Category\' | translate}}</p>\r\n                    <span>{{ifarbic == true ? (viewdata?.vehtype_ar):(viewdata?.vehtype_en)}}</span>\r\n                </div>\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'Vehicle Fleet Number\' | translate}}</p>\r\n                    <span>{{viewdata?.rvrd_vechiclefleetno ? viewdata?.rvrd_vechiclefleetno : \'-\'}}</span>\r\n                </div>\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'First ROP Registration Date\' | translate}}</p>\r\n                    <span>{{viewdata?.firstropregdate ? viewdata?.firstropregdate : \'-\'}}</span>\r\n                </div>\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'Model Year\' | translate}}</p>\r\n                    <span>{{viewdata?.rvrd_modelyear ? viewdata?.rvrd_modelyear : \'-\'}}</span>\r\n                </div>\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'RASIC Number\' | translate}}</p>\r\n                    <span>{{viewdata?.rvrd_applicationrefno ? viewdata?.rvrd_applicationrefno : \'-\'}}</span>\r\n                </div>\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'Verification Code\' | translate}}</p>\r\n                    <span>{{viewdata?.rvrd_verificationno ? viewdata?.rvrd_verificationno : \'-\'}}</span>\r\n                </div>\r\n                <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'Date of Inspection\' | translate}}</p>\r\n                    <span>{{viewdata?.dateofinspetcion ? viewdata?.dateofinspetcion : \'-\'}}</span>\r\n                </div>\r\n                \x3c!-- <div class="view_dtl m-t-25" fxLayout="row">\r\n                    <p class="m-0">{{\'Inspector Name\' | translate}}</p>\r\n                    <span>Al Rahman Mahmood</span>\r\n                </div> --\x3e\r\n            </div>\r\n            \x3c!-- <h4 class="fs-18 m-0 blue p-t-25" *ngIf="!ViewinspectStatus">{{\'Inspected Report\' | translate}} </h4> --\x3e\r\n            <div *ngIf="inspcData">\r\n                <div fxLayout="row wrap" fxLayoutAlign="space-between center" class="p-t-30 timeduration_contain">\r\n                    <h5 class="trainingdurationtitle m-0 fs-16" *ngIf="offline">{{\'Inspection Details\' | translate}} </h5>\r\n                    <h5 class="trainingdurationtitle m-0 fs-16" *ngIf="!offline">{{\'Inspection Reports\' | translate}}\r\n    \r\n                    </h5>\r\n                    <app-viewvalidation *ngIf="!ViewinspectStatus && canValidate && approvalaccess" [hidebtn]="true"\r\n                        [vehicleinspection]="true" [inspectionStatus]="status" (ApprovalEmitter)="moveToSupervisor($event)"\r\n                        (IssueStickerEmitter)="IssueSticker($event)" (InspEmitter)="moveToInspector($event)">\r\n                    </app-viewvalidation>\r\n    \r\n                </div>\r\n                <div class="company_dtlview info" fxLayout="row wrap">\r\n                    <div fxFlex.gt-sm="60" fxFlex="100" fxLayoutAlign="space-between center">\r\n                        <div class="m-t-20" fxLayout="column">\r\n                            <p class="m-0 txt-gry fs-14">{{\'Submitted On\' | translate}}</p>\r\n                            <span class="m-t-5 fs-14 txt-gry3">{{inspcData?.submittedOn}}</span>\r\n                        </div>\r\n                        <div class="m-t-20" fxLayout="column">\r\n                            <p class="m-0 txt-gry fs-14">{{\'Submitted By\' | translate}}</p>\r\n                            <span class="m-t-5 fs-14 txt-gry3">{{inspcData?.submittedBy }}</span>\r\n                        </div>\r\n                        <div class="m-t-20" fxLayout="column">\r\n                            <p class="m-0 txt-gry fs-14">{{\'Last Updated On\' | translate}}</p>\r\n                            <span class="m-t-5 fs-14 txt-gry3">{{inspcData?.lastupdatedOn ? inspcData?.lastupdatedOn :\r\n                                \'-\'}}</span>\r\n                        </div>\r\n                        <div class="m-t-20" fxLayout="column">\r\n                            <p class="m-0 txt-gry fs-14">{{\'Last Updated by\' | translate}}</p>\r\n                            <span class="m-t-5 fs-14 txt-gry3">{{inspcData?.lastupdatedBy ? inspcData?.lastupdatedBy :\r\n                                \'-\'}}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf="inspcData" [ngSwitch]="InspectionTemplate">\r\n    \r\n                    <ng-template [ngSwitchCase]="\'Offline\'">\r\n                        <div class="document p-t-25">\r\n                            <p class="fs-16 m-0 txt-gry p-t-15">{{\'Proof of Document\' | translate}} </p>\r\n    \r\n                            <div *ngFor="let file of inspcData?.prooflink">\r\n                                <div fxLayout="row wrap" fxLayoutAlign="start center" class="m-t-15"\r\n                                    *ngIf="file.filetype==\'pdf\' || file.filetype==\'PDF\'">\r\n                                    <a target="_blank" fxLayoutAlign="start center"\r\n                                        href="{{file.link}}" class="fs-14 txt-gry3">\r\n                                        <img src="assets/images/opalimages/pdf_new.svg" class="documents m-r-10"\r\n                                            alt="pdf">{{\'View\' | translate}}\r\n                                    </a>\r\n                                </div>\r\n                                <div fxLayout="row wrap" fxLayoutAlign="start center" class="m-t-15"\r\n                                    *ngIf="file.filetype==\'jpeg\' || file.filetype==\'JPEG\'">\r\n                                    <a target="_blank" fxLayoutAlign="start center"\r\n                                        href="{{file.link}}" class="imgsize fs-14 txt-gry3">\r\n                                        <img src="assets/images/opalimages/jpeg_new.svg" class="documents m-r-10"\r\n                                            alt="jpeg">{{\'View\' | translate}}\r\n                                    </a>\r\n                                </div>\r\n                                <div fxLayout="row wrap" fxLayoutAlign="start center" class="m-t-15"\r\n                                    *ngIf="file.filetype==\'jpg\' || file.filetype==\'JPG\'">\r\n                                    <a target="_blank" fxLayoutAlign="start center"\r\n                                        href="{{file.link}}" class="imgsize fs-14 txt-gry3">\r\n                                        <img src="assets/images/opalimages/jpg_new.svg" class="documents m-r-10"\r\n                                            alt="jpg">{{\'View\' | translate}}\r\n                                    </a>\r\n                                </div>\r\n                                <div fxLayout="row wrap" fxLayoutAlign="start center" class="m-t-15"\r\n                                    *ngIf="file.filetype==\'PNG\' || file.filetype==\'png\'">\r\n                                    <a target="_blank" fxLayoutAlign="start center"\r\n                                        href="{{file.link}}" class="imgsize fs-14 txt-gry3">\r\n                                        <img src="assets/images/opalimages/png_new.svg" class="documents m-r-10"\r\n                                            alt="png">{{\'View\' | translate}}\r\n                                    </a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </ng-template>\r\n                    <ng-template [ngSwitchCase]="\'Online\'">\r\n                        <div class="online m-t-30">\r\n                            <div fxLayout="row wrap" fxLayoutAlign="space-between center">\r\n                                <h4 class="fs-16 blue m-0">{{ \'Online Checklist for Inspection\'| translate}}</h4>\r\n                                <div fxLayout="row">\r\n                                    <div fxLayout="row" fxLayoutAlign="center center" class="m-r-20">\r\n                                        <span class="indication pass m-r-4"></span>\r\n                                        <span class="fs-13">{{\'Pass\' | translate }}</span>\r\n                                    </div>\r\n                                    <div fxLayout="row" fxLayoutAlign="center center">\r\n                                        <span class="indication fail m-r-4 fs-12"></span>\r\n                                        <span class="fs-13">{{ \'Fail\' | translate }}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <mat-divider class="m-b-10"></mat-divider>\r\n                            \r\n                                <div class="maincontent m-t-20" *ngFor="let list of onlinechklistresponse; let i = index">\r\n                                    <div fxLayout="row wrap" fxLayoutAlign="start center">\r\n                                        <div fxLayout="row" class="questions">{{i + 1}}.&nbsp;<h4 class="fs-16 txy-gry3 m-0">{{list.rviqd_question_en}}\r\n                                        \x3c!-- <span fxLayout="row"> --\x3e\r\n                                            <span class="passfailcount">\r\n                                                <span  *ngIf="list.colourcode == 1" class="indication pass m-r-4 m-l-7"></span>\r\n                                                <span *ngIf="list.colourcode == 2"  class="indication fail m-r-4 m-l-7"></span>\r\n                                                <span *ngIf="list.colourcode == 3"  class="indication na m-r-4 m-l-7"></span>\r\n                                                <span class="fonts">{{list.rviad_answer_en}}</span>\r\n                                            </span>\r\n                                        \x3c!-- </span> --\x3e\r\n                                    </h4>\r\n                                    </div>\r\n                                    </div>\r\n                                    <div class="m-t-16" >\r\n                                        <div *ngIf="list.comments">\r\n                                            <h4 class="editortitle importantfield txt-gry3 m-t-2 m-b-5 fs-16">{{\'validation.comm\' | translate}}\r\n                                            </h4>\r\n                                            <div class="contenthere txt-gry fs-15"\r\n                                                [innerHTML]="list.comments ? list.comments :\'-\'">\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n                                    </div>\r\n                                    <div  *ngIf="list.upload" class="m-t-20 m-b-35">\r\n                                        <div *ngFor="let file of list.prooflink" class="m-t-10" >\r\n                                            <div fxLayout="row wrap" fxLayoutAlign="start center" class="m-t-15"\r\n                                                *ngIf="file.filetype==\'pdf\' || file.filetype==\'PDF\'">\r\n                                                <a target="_blank"  fxLayoutAlign="start center"\r\n                                                    href="{{file.link}}" class="fs-14 txt-gry3">\r\n                                                    <img src="assets/images/opalimages/pdf_new.svg" class="documents m-r-10"\r\n                                                        alt="pdf">{{\'View\' | translate}}\r\n                                                </a>\r\n                                            </div>\r\n                                            <div fxLayout="row wrap" fxLayoutAlign="start center" class="m-t-15"\r\n                                                *ngIf="file.filetype==\'jpeg\' || file.filetype==\'JPEG\'">\r\n                                                <a target="_blank"  fxLayoutAlign="start center"\r\n                                                    href="{{file.link}}" class="imgsize fs-14 txt-gry3">\r\n                                                    <img src="assets/images/opalimages/jpeg_new.svg" class="documents m-r-10"\r\n                                                        alt="jpeg">{{\'View\' | translate}}\r\n                                                </a>\r\n                                            </div>\r\n                                            <div fxLayout="row wrap" fxLayoutAlign="start center" class="m-t-15"\r\n                                                *ngIf="file.filetype==\'jpg\' || file.filetype==\'JPG\'">\r\n                                                <a target="_blank"  fxLayoutAlign="start center"\r\n                                                    href="{{file.link}}" class="imgsize fs-14 txt-gry3">\r\n                                                    <img src="assets/images/opalimages/jpg_new.svg" class="documents m-r-10"\r\n                                                        alt="jpg">{{\'View\' | translate}}\r\n                                                </a>\r\n                                            </div>\r\n                                            <div fxLayout="row wrap" fxLayoutAlign="start center" class="m-t-15"\r\n                                                *ngIf="file.filetype==\'PNG\' || file.filetype==\'png\'">\r\n                                                <a target="_blank"  fxLayoutAlign="start center"\r\n                                                    href="{{file.link}}" class="imgsize fs-14 txt-gry3">\r\n                                                    <img src="assets/images/opalimages/png_new.svg" class="documents m-r-10"\r\n                                                        alt="png">{{\'View\' | translate}}\r\n                                                </a>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    \r\n                                </div>\r\n                        </div>\r\n                    </ng-template>\r\n    \r\n    \r\n                    <div class="m-t-40">\r\n                        <h4 class="editortitle importantfield blue m-b-3">{{\'validation.comm\' | translate}}\r\n                        </h4>\r\n                        <div class="contenthere txt-gry fs-15"\r\n                            [innerHTML]="inspcData?.inspComments ? inspcData?.inspComments :\'-\'">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n           \r\n\r\n        </div>\r\n        <div class="btns m-t-20" fxLayoutAlign="end center">\r\n            <button mat-raised-button class="cancelbtn fs-16" (click)="Vehiclelist()">{{ \'Back\' | translate }}</button>\r\n        </div>\r\n    </div>\r\n</div>'},PL4C:function(e,t,n){"use strict";n.r(t),t.default='<div id="vehicleformpage" fxLayoutAlign="center start">\r\n    <app-responseloader *ngIf="PageLoaders"></app-responseloader>\r\n    <div class="vehicleimport" fxFlex="100" fxFlex.gt-sm="100">\r\n        <div fxLayout="row wrap">\r\n            <div fxFlex.gt-sm="100" fxFlex="100" id="excelimprtlistview">\r\n                \r\n                <div [style.display]="!displaycounts ?\'block\':\'none\'" class="stepfollowrow">\r\n                    <h2 class="txt-blue fs-14">Steps to Follow</h2>\r\n                    <ul class="listrow">\r\n                        <li>Click here to <a  download href="{{sampleurl}}">Download Sample Template</a> Format</li>\r\n                        <li>Fill in the <span>New RAS Vehicle</span> details into the XLS and save the file</li>\r\n                        <li>Click on <span>Upload RAS Vehicle Data</span> and select the saved / updated file</li>\r\n                        <li>File upload is done and the next screen displays the status of the records which have all\r\n                        information correct as <span>Success</span> and records which have missing fields as <span>Failure</span></li>\r\n                    </ul>\r\n                    <div class="fileuploadcontainer m-t-30">\r\n                        <app-filee #assesmentrepot [notePosition]="\'bottom\'"  [fileMstRef]="drv_doc_upload" [fileuploadcommon]="false"\r\n                        [deleteicon]="true" (filesSelected)="fileeSelected($event,drv_doc_upload)"\r\n                         [notecontentrequired]="true" [uploaddocumentname]="\'Upload RAS Vehicle details XLS Sheet\' | translate">\r\n                    </app-filee> \r\n                    </div>\r\n                </div>\r\n                <div [style.display]="displaycounts?\'block\':\'none\'" class="excelerrorreport">\r\n                    <div class="errorcountdiv m-t-30">\r\n                        <div class="fs-15 m-b-10 txt-blue">Uploaded Record Status</div>\r\n                        <ul>\r\n                            <li>\r\n                                <span id="totalrecords" class="errorcount txt-orange"></span>\r\n                                <span>Total Records Uploaded</span>\r\n                            </li>\r\n                            <li>\r\n                                <span id="uploadsuccess" class="errorcount txt-green"></span>\r\n                                <span>Records Uploaded Successfully</span>\r\n                            </li>\r\n                            <li>\r\n                                <span id="uploadfailure" class="errorcount txt-red"></span>\r\n                                <span>Records Uploaded with Failures</span>\r\n                            </li>\r\n                        </ul>\r\n                        \r\n                    </div>\r\n                </div>\r\n                <div class="excelerrorreport">\r\n                    <div fxLayoutAlign="center">\r\n                        \x3c!-- <button *ngIf="errors" mat-raised-button class="cancelbtn fs-16 m-r-30"  type="button" (click)="exportToCSV()" color="primary">{{\'Download error report\' | translate}}</button> --\x3e\r\n                      \r\n                        <button  [style.display]="displaycounts?\'block\':\'none\'"   mat-raised-button class="cancelbtn fs-16 m-r-30"  type="button" (click)="uploadanother()" color="primary">{{\'Upload another file\' | translate}}</button>\r\n                    \r\n                        <button  mat-raised-button class="cancelbtn fs-16 m-r-30"  type="button" (click)="close()" color="primary">{{\'Close\' | translate}}</button>\r\n                     </div> \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},RiYx:function(e,t,n){"use strict";n.r(t),t.default='#inspectionApproval .passfailcount {\n  display: inline-flex;\n  align-items: center;\n}\n#inspectionApproval .btns {\n  cursor: pointer;\n  width: 24px;\n  height: 24px;\n  border: none;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #dce4f1;\n  color: #0c4b9a;\n  margin-left: 12px;\n  position: relative;\n  top: 4px;\n}\n#inspectionApproval .btns .mat-icon {\n  font-size: 19px !important;\n  justify-content: flex-start !important;\n}\n#inspectionApproval .mat-radio-button .mat-radio-outer-circle {\n  border-color: #d9d9d9;\n}\n#inspectionApproval .mat-radio-button.mat-accent .mat-radio-inner-circle {\n  background-color: #e20613 !important;\n}\n#inspectionApproval .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #d9d9d9;\n}\n#inspectionApproval .ckeditorborder {\n  height: auto;\n  border: 1px solid #d9d9d9;\n  cursor: text;\n  padding: 13px 10px;\n  min-height: 150px;\n}\n#inspectionApproval .ckeditorborder:hover {\n  border: 1px solid #6ba5ec;\n}\n#inspectionApproval .ckeditorborder .editortitle {\n  color: #848484;\n  cursor: text;\n}\n#inspectionApproval .ckeditorborder .editortitle span {\n  color: #dc4c64;\n}\n#inspectionApproval .ckeditorborder p {\n  margin: 0;\n  padding-bottom: 5px;\n  cursor: text;\n}\n#inspectionApproval .ckeditorborder figure img {\n  max-width: 100%;\n}\n#inspectionApproval .ckeditorborder .contenthere p {\n  margin: 0 !important;\n  padding-bottom: 5px;\n  cursor: text;\n  word-break: break-word;\n}\n#inspectionApproval .timeduration_contain .trainingdurationtitle {\n  color: #0c4b9a;\n  font-size: 1.125rem;\n  display: flex;\n  align-items: center;\n}\n#inspectionApproval .timeduration_contain .trainingdurationtitle .mat-icon {\n  color: #848484;\n  margin-top: 6px;\n}\n#inspectionApproval .clearbutton {\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n  color: #262626;\n}\n#inspectionApproval .transformbtn {\n  min-width: 110px;\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n  color: #262626;\n  padding-left: 0px;\n  padding-right: 0px;\n  height: 45px;\n}\n#inspectionApproval .submit_btn {\n  min-width: 110px;\n  height: 45px;\n}\n#inspectionApproval .mat-raised-button {\n  box-shadow: none;\n  border-radius: 2px;\n}\n#inspectionApproval .error {\n  color: #dc4c64;\n}\n#inspectionApproval .mat-form-field-appearance-outline.mat-form-field-readonly {\n  background-color: #009c3a !important;\n}\n#inspectionApproval .mat-form-field-appearance-outline .mat-form-field-outline {\n  color: #d9d9d9;\n}\n#inspectionApproval .mat-form-field-appearance-outline .mat-form-field-outline-start {\n  border-radius: 3px 0 0 3px;\n}\n#inspectionApproval .mat-form-field-appearance-outline .mat-form-field-outline-end {\n  border-radius: 0 3px 3px 0;\n}\n#inspectionApproval .mat-form-field-appearance-outline .mat-form-field-required-marker {\n  color: #ED1C27;\n}\n#inspectionApproval .mat-form-field-appearance-outline .mat-form-field-outline-thick {\n  color: #6ba5ec;\n  background-color: #f8f8f8;\n}\n#inspectionApproval .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick {\n  color: #0c4b9a;\n  background-color: #f8f8f8;\n}\n#inspectionApproval .mat-form-field-appearance-outline.mat-focused.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {\n  color: #0c4b9a;\n}\n#inspectionApproval .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline {\n  background-color: #f8f8f8;\n}\n#inspectionApproval .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick {\n  color: #dc4c64;\n  background-color: #f8f8f8;\n}\n#inspectionApproval .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {\n  transform: translateY(-0.9rem) scale(0.75);\n  color: #848484;\n}\n#inspectionApproval .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label .mat-form-field-required-marker {\n  color: #ED1C27;\n}\n#inspectionApproval .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap {\n  width: 0px !important;\n}\n#inspectionApproval .mat-form-field.mat-form-field-invalid .mat-form-field-label {\n  color: #dc4c64 !important;\n}\n#inspectionApproval .cancelbtn {\n  height: 45px;\n  width: 110px;\n}\n#inspectionApproval .imageliner {\n  display: flex;\n  flex-wrap: wrap;\n}\n#inspectionApproval .imageliner .uploadedfileinfo {\n  padding: 5px 5px !important;\n  width: 115px;\n}\n#inspectionApproval .questions {\n  font-family: "opal_semibold", sans-serif;\n  display: flex;\n  align-items: baseline;\n}\n[dir=rtl] #inspectionApproval .ck-editorbox .ck.ck-toolbar {\n  justify-content: end;\n}\n[dir=rtl] #inspectionApproval .ck-editorbox .ck.ck-content {\n  text-align: end;\n}\n[dir=rtl] #inspectionApproval .ck-editorbox .ck-placeholder {\n  text-align: right;\n}'},UHMV:function(e,t,n){"use strict";n.r(t),n.d(t,"createTranslateLoader",(function(){return Le})),n.d(t,"VehiclemanagementModule",(function(){return Ne}));var r=n("mrSG"),a=n("8Y7J"),i=n("SVse"),s=n("M9ds"),l=n("u9T3"),o=n("s7LF"),c=n("AywS"),d=n("s+XH"),p=n("vrAh"),m=n("Dxy4"),h=n("Ynp+"),u=n("PDjf"),f=n("pMoy"),g=n("f44v"),v=n("TN/R"),b=n("iELJ"),x=n("o4Yh"),y=n("40+f"),w=n("Tj54"),k=n("e6WT"),C=n("SqCe"),_=n("rJgo"),I=n("UhP/"),S=n("5QHs"),F=n("BTe0"),D=n("pu8Q"),V=n("zQhy"),A=n("ZTz/"),O=n("q7Ft"),L=n("mPVK"),N=n("jMqV"),P=n("zHaW"),E=n("LUZP"),T=n("OaSA"),R=n("l0rg"),M=n("ZFy/"),q=n("hzfI"),j=n("IheW"),Y=n("KMir"),B=n("+uca"),H=n("l00h"),z=n("Lyw/"),U=n("TSSN"),J=n("nHpv"),G=n("pk6O"),K=n("iInd"),W=n("P+IX"),Q=n("fWzN"),X=n("z4EA"),Z=n("GUC0"),ee=n.n(Z),te=n("Eyz8"),ne=n("wd/R"),re=n.n(ne),ae=n("AQhQ");let ie=class{constructor(e){this.http=e,this._url="ras/ras/"}getrasgriddata(e,t,n){let r=JSON.stringify({limit:e,page:t,searchkey:n});return this.http.post("ras/ras/getrasgriddata",r).map(e=>e.json())}getrasgridviewdata(e){let t=JSON.stringify({pk:e});return this.http.post("ras/ras/getrasgridviewdata",t).map(e=>e.json())}getTechnicalEvalutionCentres(){return this.http.get(this._url+"get-techevalutioncentres").map(e=>e.json())}getBranchlistbyregpk(e){return this.http.get(this._url+"getbranchlistbyregpk?regpk="+e).map(e=>e.json())}getVehicleCategoryByAppPk(e){return this.http.get(this._url+"get-all-vehicle-categories-by-app-pk?appPk="+e).map(e=>e.json())}getInspectorname(e){return this.http.get(this._url+"getinspectorname?appPk="+e).map(e=>e.json())}getmasterlistbyType(e){return this.http.get(this._url+"get-masters-list-by-type?refpk="+e).map(e=>e.json())}saveVehicleDtls(e){let t=JSON.stringify({vehicledtls:e});return this.http.post(this._url+"savevehicledtls",t).map(e=>e.json())}rassticker(e,t){let n=JSON.stringify({pk:e,isregen:t});return this.http.post(this._url+"rassticker",n).map(e=>e.json())}printorviewrassticker(e,t){let n=JSON.stringify({pk:e,type:t});return this.http.post(this._url+"printorviewrassticker",n).map(e=>e.json())}getPreviousOwnerList(e=1,t=""){return this.http.get(this._url+"getpreviousownerlist?type="+e+"&data="+t).map(e=>e.json())}getVehicleDtlsByPk(e){return this.http.get(this._url+"getvehicledtlsbypk?pk="+e).map(e=>e.json())}getVehicleRegistrationStatus(e){return this.http.get(this._url+"getvhclregstatus?pk="+e).map(e=>e.json())}moveToVerifier(e){let t=JSON.stringify({formData:e});return this.http.post(this._url+"movetoverifier",t).map(e=>e.json())}moveToSupervisor(e){let t=JSON.stringify({formData:e});return this.http.post(this._url+"movetosupervisor",t).map(e=>e.json())}moveToInspector(e){let t=JSON.stringify({formData:e});return this.http.post(this._url+"movetoinspectorvalidating",t).map(e=>e.json())}IssueSticker(e){let t=JSON.stringify({formData:e});return this.http.post(this._url+"issue-sticker",t).map(e=>e.json())}getInspectionDtls(e){return this.http.get(this._url+"get-inspection-dtls?pk="+e).map(e=>e.json())}getInspectorlistByVehiclPk(e){let t=JSON.stringify({formData:e});return this.http.post(this._url+"getinspectorlistbyvhclregpk",t).map(e=>e.json())}renewVehicleRegistration(e){let t=JSON.stringify({formData:e});return this.http.post(this._url+"renew-vehicle-reg",t).map(e=>e.json())}getInspectionChecklistByVehicleRegPk(e){return this.http.get(this._url+"get-checklist-by-vecl-regpk?vclrgpk="+e).map(e=>e.json())}checkVehicleRegistered(e,t){var n=JSON.stringify({data:e,regpk:t});return this.http.post(this._url+"checkvehicleregistered",n).map(e=>e.json())}getInspectionDetailsForEdit(e){return this.http.get(this._url+"get-inspection-details-for-edit?vclrgpk="+e).map(e=>e.json())}getvehiclregdlsbyvhclpk(e){return this.http.get(this._url+"getvehiclregdlsbyvhclpk?vclrgpk="+e).map(e=>e.json())}cancelvehicle(e){let t=JSON.stringify({pk:e});return this.http.post(this._url+"cancelvehicle",t).map(e=>e.json())}getAllPassAnswersForChklist(e){return this.http.get(this._url+"get-all-pass-answers-for-chklist?vclrgpk="+e).map(e=>e.json())}exportGridData(e,t,n,r){let a=JSON.stringify({limit:e,page:t,searchkey:n,columns:r});return this.http.post("ras/ras/export-grid-data",a).map(e=>e.json())}ExcelImportValidate(e){let t=JSON.stringify({file:e});return this.http.post("ras/ras/importexceldata",t).map(e=>e.json())}getsamplefileurl(){return this.http.get("ras/ras/getsampleurl").map(e=>e.json())}getstaffdetailsoncompetancyras(e,t){let n=JSON.stringify({pk:e,category:t});return this.http.post("ras/ras/getstaffdetailsoncompetancyras",n).map(e=>e.json())}};ie.ctorParameters=()=>[{type:Q.a}],ie=Object(r.c)([Object(a.E)({providedIn:"root"}),Object(r.e)("design:paramtypes",[Q.a])],ie);var se=n("KNwP"),le=n("EApP"),oe=n("AytR"),ce=n("BmmT");const de={centrename:[],rasicnum:[],officetype:[],branch_name:[],time_Date:[],appl_form_filter:[],officetype_filter:[],trainingprovide_filter:[],odometerfilter:[],branch_filter:[],cour_type_filter:[],course_titles_filter:[],course_cat_filter:[],cour_subcate_filter:[],appl_type_filter:[],appl_status_filter:[],cert_status_filter:[],lastUpdated_branch_filter:[]},pe=[{offitype:"",branch:"",owner:"NABET",vreg_num:"10-1-2023",chassnumb:"PDF",vType:"A",rType:"10-1-2023",inspectorname:-2004,inspectionDate:-2005,application:"New",insStatus:"Completed",perStatus:"New",Dateofexp:-2006}];let me=class{constructor(e,t,n,r,a,i,s,l,c,d,p,m,h){this.fb=e,this.router=t,this.formBuilder=n,this.el=r,this.translate=a,this.remoteService=i,this.cookieService=s,this.localstorage=l,this.appservice=c,this.toastr=d,this.routeid=p,this.rasservice=m,this.security=h,this.griddata=[],this.roadtype=[],this.tblplaceholder=!1,this.paramstype=null,this.isVerifier=!1,this.isSupervisor=!1,this.isInspector=!1,this.approvalaccess=!1,this.downloadaccess=!1,this.readaccess=!1,this.updateaccess=!1,this.printstickeraccess=!1,this.viewstickeraccess=!1,this.createaccess=!1,this.adminapprovalaccess=!1,this.adminreadaccess=!1,this.adminupdateaccess=!1,this.admincreateaccess=!1,this.admindownloadaccess=!1,this.allways=!1,this.version=0,this.fullPageLoaders=!1,this.filtername="Hide Filter",this.resultsLength=0,this.hidefilder=!0,this.selectAllVisible=!1,this.page=10,this.dataSource=new T.b(pe),this.displayedColumns=[{def:"centre_name",search:"row-firstonewone",label:"Centre Name",visible:!0,disabled:!0},{def:"rvrd_applicationrefno",search:"row-firstnew",label:"RASIC Number",visible:!0,disabled:!0},{def:"appiim_officetype",search:"row-new",label:"Office Type",visible:!1,disabled:!1},{def:"appiim_branchname_en",search:"row-newone",label:"Branch Name",visible:!1,disabled:!1},{def:"owner_en",search:"row-first",label:"Owner Name",visible:!1,disabled:!1},{def:"rvrd_vechicleregno",search:"row-second",label:"Vehicle Reg. Number",visible:!0,disabled:!0},{def:"rvrd_chassisno",search:"row-three",label:"Chassis Number",visible:!1,disabled:!1},{def:"rvrd_odometerreading",search:"row-three-one",label:"Odometer Reading (in km)",visible:!1,disabled:!1},{def:"vehtype_en",search:"row-four",label:"Vehicle Category",visible:!0,disabled:!0},{def:"roadtype_en",search:"row-five",label:"Road Type",visible:!1,disabled:!1},{def:"inspectorname",search:"row-six",label:"Inspector Name",visible:!0,disabled:!0},{def:"dateofinspetcion",search:"row-seven",label:"Inspection Date and Time",visible:!0,disabled:!0},{def:"rvrd_applicationtype",search:"row-eight",label:"Applicant Type",visible:!1,disabled:!1},{def:"rvrd_inspectionstatus",search:"row-nine",label:"Inspection Status",visible:!0,disabled:!0},{def:"rvrd_permitstatus",search:"row-ten",label:"Permit Status",visible:!0,disabled:!0},{def:"dateofexp",search:"row-eleven",label:"Date of Expiry",visible:!1,disabled:!1},{def:"action",search:"row-twelve",label:"Action",visible:!0,disabled:!0}],this.languagelist=[{id:"1",languageName:"English",languagecode:"en",CountryMst_Pk:"136",dir:"ltr"},{id:"2",languageName:"Arabic",languagecode:"ar",CountryMst_Pk:"31",dir:"rtl"}],this.dir="ltr",this.today=new Date,this.locale={format:"DD-MM-YYYY"},this.ranges={Today:[re()(),re()()],Yesterday:[re()().subtract(1,"days"),re()().subtract(1,"days")],"Last 7 Days":[re()().subtract(6,"days"),re()()],"Last 30 Days":[re()().subtract(29,"days"),re()()],"This Month":[re()().startOf("month"),re()().endOf("month")],"Last Month":[re()().subtract(1,"month").startOf("month"),re()().subtract(1,"month").endOf("month")]},this.ifarbic=!1,this.centrename=new o.f(""),this.rasicnum=new o.f(""),this.officetype=new o.f(""),this.branch_name=new o.f(""),this.time_Date=new o.f(""),this.appl_form_filter=new o.f(""),this.officetype_filter=new o.f(""),this.trainingprovide_filter=new o.f(""),this.odometerfilter=new o.f(""),this.branch_filter=new o.f(""),this.cour_type_filter=new o.f(""),this.course_titles_filter=new o.f(""),this.course_cat_filter=new o.f(""),this.cour_subcate_filter=new o.f(""),this.appl_type_filter=new o.f(""),this.appl_status_filter=new o.f(""),this.cert_status_filter=new o.f(""),this.lastUpdated_branch_filter=new o.f("")}i18n(e){return this.translate.instant(e)}ngOnInit(){if(this.url=oe.a.baseUrl,this.isfocalpoint=this.localstorage.getInLocal("isfocalpoint"),this.userPk=this.localstorage.getInLocal("userPk"),this.roles=this.localstorage.getInLocal("role"),this.stktype=this.localstorage.getInLocal("stktype"),2==this.isfocalpoint&&(this.useraccess=this.localstorage.getInLocal("uerpermission"),console.log(this.useraccess),this.SetUseraccess()),2==this.isfocalpoint&&(console.log(this.roles),this.roles.includes(17)&&(this.isVerifier=!0),this.roles.includes(16)&&(this.isInspector=!0),this.roles.includes(18)&&(this.isSupervisor=!0)),this.clearFilter(),this.fullPageLoaders=!0,this.getrasgriddata(this.page,0,null),this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,"en"==e.languagecode?this.filtername="Hide Filter":this.filtername="\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629"}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,this.filtername="Hide Filter"}this.cookieService.get("languageCode")&&"ar"==this.cookieService.get("languageCode")?this.ifarbic=!0:this.ifarbic=!1,this.remoteService.getLanguageCookie().subscribe(e=>{if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,"en"==e.languagecode?this.filtername="Hide Filter":this.filtername="\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629"}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,this.filtername="Hide Filter"}this.cookieService.get("languageCode")&&"ar"==this.cookieService.get("languageCode")?this.ifarbic=!0:this.ifarbic=!1}),1==this.stktype?this.displayedColumns=[{def:"centre_name",search:"row-firstonewone",label:"centre_name",visible:!0,disabled:!0},{def:"rvrd_applicationrefno",search:"row-firstnew",label:"RASIC Number",visible:!0,disabled:!0},{def:"appiim_officetype",search:"row-new",label:"Office Type",visible:!1,disabled:!1},{def:"appiim_branchname_en",search:"row-newone",label:"Branch Name",visible:!1,disabled:!1},{def:"owner_en",search:"row-first",label:"Owner Name",visible:!1,disabled:!1},{def:"rvrd_vechicleregno",search:"row-second",label:"Vehicle Reg. Number",visible:!0,disabled:!0},{def:"rvrd_chassisno",search:"row-three",label:"Chassis Number",visible:!1,disabled:!1},{def:"rvrd_odometerreading",search:"row-three-one",label:"Odometer Reading (in km)",visible:!1,disabled:!1},{def:"vehtype_en",search:"row-four",label:"Vehicle Category",visible:!0,disabled:!0},{def:"roadtype_en",search:"row-five",label:"Road Type",visible:!1,disabled:!1},{def:"inspectorname",search:"row-six",label:"Inspector Name",visible:!0,disabled:!0},{def:"dateofinspetcion",search:"row-seven",label:"Inspection Date and Time",visible:!0,disabled:!0},{def:"rvrd_applicationtype",search:"row-eight",label:"Applicant Type",visible:!1,disabled:!1},{def:"rvrd_inspectionstatus",search:"row-nine",label:"Inspection Status",visible:!0,disabled:!0},{def:"rvrd_permitstatus",search:"row-ten",label:"Permit Status",visible:!0,disabled:!0},{def:"dateofexp",search:"row-eleven",label:"Date of Expiry",visible:!1,disabled:!1},{def:"action",search:"row-twelve",label:"Action",visible:!0,disabled:!0}]:this.displayedColumns=[{def:"rvrd_applicationrefno",search:"row-firstnew",label:"RASIC Number",visible:!0,disabled:!0},{def:"appiim_officetype",search:"row-new",label:"Office Type",visible:!1,disabled:!1},{def:"appiim_branchname_en",search:"row-newone",label:"Branch Name",visible:!1,disabled:!1},{def:"owner_en",search:"row-first",label:"Owner Name",visible:!1,disabled:!1},{def:"rvrd_vechicleregno",search:"row-second",label:"Vehicle Reg. Number",visible:!0,disabled:!0},{def:"rvrd_chassisno",search:"row-three",label:"Chassis Number",visible:!1,disabled:!1},{def:"rvrd_odometerreading",search:"row-three-one",label:"Odometer Reading (in km)",visible:!1,disabled:!1},{def:"vehtype_en",search:"row-four",label:"Vehicle Category",visible:!0,disabled:!0},{def:"roadtype_en",search:"row-five",label:"Road Type",visible:!1,disabled:!1},{def:"inspectorname",search:"row-six",label:"Inspector Name",visible:!0,disabled:!0},{def:"dateofinspetcion",search:"row-seven",label:"Inspection Date and Time",visible:!0,disabled:!0},{def:"rvrd_applicationtype",search:"row-eight",label:"Applicant Type",visible:!1,disabled:!1},{def:"rvrd_inspectionstatus",search:"row-nine",label:"Inspection Status",visible:!0,disabled:!0},{def:"rvrd_permitstatus",search:"row-ten",label:"Permit Status",visible:!0,disabled:!0},{def:"dateofexp",search:"row-eleven",label:"Date of Expiry",visible:!1,disabled:!1},{def:"action",search:"row-twelve",label:"Action",visible:!0,disabled:!0}]}ngAfterViewInit(){this.routeid.queryParams.subscribe(e=>{this.paramstype=e.grid,setTimeout(()=>{"In"==this.paramstype?(this.appl_status_filter.setValue(["1","7"]),this.applyFilter(["1","7"],"appl_status_filter")):"Vf"==this.paramstype?(this.appl_status_filter.setValue(["2"]),this.applyFilter(["2"],"appl_status_filter")):"Ap"==this.paramstype&&(this.appl_status_filter.setValue(["4"]),this.applyFilter(["4"],"appl_status_filter"))},3e3)})}clickEvent(){if(this.hidefilder=!this.hidefilder,this.hidefilder){this.filtername=this.i18n("table.hidefilt");document.getElementById("searchrow").style.display="flex"}else{this.filtername=this.i18n("table.showfilt");document.getElementById("searchrow").style.display="none"}}clearfilterdata(){let e={centrename:[]=[],rasicnum:[]=[],officetype:[]=[],branch_name:[]=[],time_Date:[]=[],appl_form_filter:[]=[],officetype_filter:[]=[],trainingprovide_filter:[]=[],odometerfilter:[]=[],branch_filter:[]=[],cour_type_filter:[]=[],course_titles_filter:[]=[],course_cat_filter:[]=[],cour_subcate_filter:[]=[],appl_type_filter:[]=[],appl_status_filter:[]=[],cert_status_filter:[]=[],lastUpdated_branch_filter:[]=[]};this.filterdata=e}clearFilter(){$(".clear").trigger("click"),this.clearfilterdata(),this.centrename.reset(),this.rasicnum.reset(),this.officetype.reset(),this.branch_name.reset(),this.time_Date.reset(),this.appl_form_filter.reset(),this.officetype_filter.reset(),this.trainingprovide_filter.reset(),this.odometerfilter.reset(),this.branch_filter.reset(),this.cour_type_filter.reset(),this.course_titles_filter.reset(),this.course_cat_filter.reset(),this.cour_subcate_filter.reset(),this.appl_type_filter.reset(),this.appl_status_filter.reset(),this.cert_status_filter.reset(),this.lastUpdated_branch_filter.reset(),$(".clear").trigger("click"),setTimeout(()=>{this.getrasgriddata(this.page,0,this.filterdata)},2e3)}syncPrimaryPaginator(e){this.paginator.pageIndex=e.pageIndex,this.paginator.pageSize=e.pageSize,this.page=e.pageSize,this.getrasgriddata(this.paginator.pageSize,this.paginator.pageIndex,this.search),this.dataSource.sort=this.sort}registerNow(){this.router.navigate(["/vehiclemanagement/vehicleregister"])}registerview(e){this.router.navigate(["/vehiclemanagement/vehicleregister"],{queryParams:{type:"view",data:e},skipLocationChange:!0})}inspectNow(e,t=1){let n=this.security.encrypt(e.rasvehicleregdtls_pk);1==t?this.router.navigate(["/vehiclemanagement/vehicleinspection/"+n]):this.router.navigate(["/vehiclemanagement/vehicleinspection/edit/"+n])}view(e){let t=this.security.encrypt(e.rasvehicleregdtls_pk);this.router.navigate(["/vehiclemanagement/vehicleinspectionstatus/view"],{queryParams:{bc:"spym",p:t}})}renewNow(e){let t=this.security.encrypt(e.rasvehicleregdtls_pk);this.rasservice.getVehicleRegistrationStatus(t).subscribe(e=>{3==e.data.data?this.router.navigate(["/vehiclemanagement/vehicleinspection_info/"+t]):(ee()({title:this.i18n("The Application Has been Already Renewed"),icon:"warning",className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}),this.getrasgriddata(this.page,0,this.search))})}EditVehiclDtls(e){let t=this.security.encrypt(e.rasvehicleregdtls_pk);this.router.navigate(["/vehiclemanagement/editVehicle/"+t])}getrasgriddata(e,t,n){this.tblplaceholder=!0,this.rasservice.getrasgriddata(e,t,n).subscribe(e=>{200==e.status&&(this.resultsLength=e.data.dataset.totalcount,this.griddata=e.data.dataset.griddata,this.dataSource=new T.b(this.griddata),this.tblplaceholder=!1,this.dataSource.sort=this.sort,this.roadtype=e.data.dataset.roadtype),this.fullPageLoaders=!1})}changeDateInsp(e,t){var n;n=e.startDate?{startDate:re()(e.startDate._d).format("YYYY-MM-DD"),endDate:re()(e.endDate._d).format("YYYY-MM-DD")}:[],this.applyFilter(n,"cour_subcate_filter")}changeDateExp(e,t){var n;n=e.startDate?{startDate:re()(e.startDate._d).format("YYYY-MM-DD"),endDate:re()(e.endDate._d).format("YYYY-MM-DD")}:[],this.applyFilter(n,"lastUpdated_branch_filter")}applyFilter(e,t){console.log(e);var n={searckkey:e,formcontrolname:t};this.filterdata=this.preparedata(n),console.log(this.filterdata),this.getrasgriddata(this.page,0,this.filterdata)}preparedata(e){let t;return t=this.filterdata?this.filterdata:de,Object.keys(t).forEach(n=>{n==e.formcontrolname&&(t[n]=e.searckkey)}),t}generatesticker(e){this.version=this.version+1;let t=this.security.encrypt(e.rasvehicleregdtls_pk);this.tblplaceholder=!0,this.rasservice.rassticker(t,1).subscribe(e=>{1==e.data.status?(this.toastr.success(this.i18n("Sticker Re-generated Successfully"),""),this.getrasgriddata(this.page,0,null)):ee()({title:this.i18n("There was a problem while generating Sticker."),icon:"warning",className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1})})}printorviewsticker(e,t){let n=this.security.encrypt(e.rasvehicleregdtls_pk);this.tblplaceholder=!0,this.rasservice.printorviewrassticker(n,t).subscribe(e=>{1==e.data.status&&this.getrasgriddata(this.page,0,null)})}CancelVehicle(e){let t=this.security.encrypt(e.rasvehicleregdtls_pk);this.tblplaceholder=!0,this.rasservice.cancelvehicle(t).subscribe(e=>{1==e.data.status&&(this.toastr.success(this.i18n("Vehicle Registration Cancelled Successfully"),""),this.getrasgriddata(this.page,0,null))})}getdisplayedColumns(){return this.displayedColumns.filter(e=>e.visible).map(e=>e.def)}getdisplayedsearch(){return this.displayedColumns.filter(e=>e.visible).map(e=>e.search)}SetUseraccess(){let e=this.localstorage.getaccessmoduleid(this.stktype,"Vehicle Inspection and Approval");this.useraccess[e]&&this.useraccess[e][27]&&"Y"==this.useraccess[e][27].approval&&(this.approvalaccess=!0),this.useraccess[e]&&this.useraccess[e][27]&&"Y"==this.useraccess[e][27].read&&(this.readaccess=!0),this.useraccess[e]&&this.useraccess[e][27]&&"Y"==this.useraccess[e][27].create&&(this.createaccess=!0,console.log(this.createaccess)),this.useraccess[e]&&this.useraccess[e][27]&&"Y"==this.useraccess[e][27].update&&(this.updateaccess=!0),this.useraccess[e]&&this.useraccess[e][28]&&"Y"==this.useraccess[e][28].create&&(this.printstickeraccess=!0),this.useraccess[e]&&this.useraccess[e][28]&&"Y"==this.useraccess[e][28].read&&(this.viewstickeraccess=!0);let t=this.localstorage.getaccessmoduleid(this.stktype,"RAS Vehicle Management");this.useraccess[t]&&this.useraccess[t][30]&&"Y"==this.useraccess[t][30].create&&(this.admincreateaccess=!0),this.useraccess[t]&&this.useraccess[t][30]&&"Y"==this.useraccess[t][30].read&&(this.adminreadaccess=!0),this.useraccess[t]&&this.useraccess[t][30]&&"Y"==this.useraccess[t][30].update&&(this.adminupdateaccess=!0),this.useraccess[t]&&this.useraccess[t][30]&&"Y"==this.useraccess[t][30].download&&(this.admindownloadaccess=!0)}selectAllFun(e){this.selectAllVisible=e.checked,this.displayedColumns.forEach(e=>{e.visible=this.selectAllVisible}),setTimeout((function(){$(".clear").trigger("click")}),500)}updateSelectAllVisible(e){const t=this.displayedColumns.every(e=>e.visible);this.editchkbox.checked=!!t,setTimeout((function(){$(".clear").trigger("click")}),500)}exportgridData(){this.fullPageLoaders=!0;let e=[];this.displayedColumns.forEach(t=>{1==t.visible&&e.push(t.def)}),this.rasservice.exportGridData(null,null,this.filterdata,e).subscribe(e=>{1==e.data.status&&(window.open(e.data.attend,"_blank"),this.fullPageLoaders=!1)})}viewstatus(e,t){let n=this.security.encrypt(this.userPk),r=this.security.encrypt(e.category);this.fullPageLoaders=!0,this.rasservice.getstaffdetailsoncompetancyras(n,r).subscribe(n=>{if(this.fullPageLoaders=!1,"S"==n.data.flag){let r=n.data.data;if(1==r.is_expired)ee()({title:this.i18n("The 30 days grace period given for renewing the Staff Competency card has expired. Hence, you cannot assign the selected staff for this vehicle approval on the OPAL USP."),text:"",icon:"warning",dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1});else{let n=null;1==r.is_nearingexpiry?n="The selected Staff's Competency Card is going to expire on "+r.nearingdate+". Kindly submit  the selected Course Certification Form for the Competency Card renewal. If not, you cannot select the staff to conduct any Inspection on the OPAL USP.":1==r.graceperiod&&(n="The Staff's Competency Card has expired. We have provided a grace period of 30 days to renew the Staff Competency Card. Kindly renew it on or before "+r.graceperioddate+". If not, you cannot select the staff to conduct any Inspection on the OPAL USP."),ee()({title:this.i18n(n),text:"",icon:"warning",buttons:[!1,this.i18n("Ok")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(n=>{if(n){let n=this.security.encrypt(e.rasvehicleregdtls_pk);this.router.navigate(["/vehiclemanagement/vehicleinspectionstatus/approved"],{queryParams:{p:n,sts:t}})}})}}})}};me.ctorParameters=()=>[{type:o.e},{type:K.g},{type:o.e},{type:a.v},{type:U.c},{type:Q.a},{type:X.a},{type:ce.a},{type:ae.a},{type:le.b},{type:K.a},{type:ie},{type:se.a}],Object(r.c)([Object(a.mb)("paginator"),Object(r.e)("design:type",S.a)],me.prototype,"paginator",void 0),Object(r.c)([Object(a.mb)(E.a),Object(r.e)("design:type",E.a)],me.prototype,"sort",void 0),Object(r.c)([Object(a.mb)("editchkbox"),Object(r.e)("design:type",f.a)],me.prototype,"editchkbox",void 0),me=Object(r.c)([Object(a.n)({selector:"app-vehiclelisting",template:Object(r.d)(n("pmPp")).default,encapsulation:a.pb.None,providers:[{provide:I.c,useClass:te.b},{provide:I.e,useValue:te.a}],styles:[Object(r.d)(n("BKD1")).default]}),Object(r.e)("design:paramtypes",[o.e,K.g,o.e,a.v,U.c,Q.a,X.a,ce.a,ae.a,le.b,K.a,ie,se.a])],me);var he=n("EkiR"),ue=n("lst6"),fe=n("fgD+");const ge=re.a||ne;let ve=class{constructor(){this.customFormats={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},this.yearFormats={parse:{dateInput:"YYYY"},display:{dateInput:"YYYY",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}},this.useCustomFormat=!0}getFormats(){return this.useCustomFormat?this.customFormats:this.yearFormats}setUseCustomFormat(e){this.useCustomFormat=e}};ve=Object(r.c)([Object(a.E)({providedIn:"root"}),Object(r.e)("design:paramtypes",[])],ve);let be=class{constructor(e,t,n,r,a,i,s,l,o,c,d,p,m,h,u,f,g,v,b){this._componentFactoryResolver=e,this.fb=t,this.toastr=n,this.router=r,this.dateFormatService=a,this.formBuilder=i,this.el=s,this.translate=l,this.remoteService=o,this.cookieService=c,this.routeid=d,this.regService=p,this.rasService=m,this.injector=h,this.localstorage=u,this.datePipe=f,this.security=g,this.batchService=v,this.dateAdapter=b,this.branchlist=[],this.categoryList=[],this.roadtypeList=[],this.edit=!1,this.ifarabic=!1,this.inspectorlist=[],this.chekchasisnumber=!0,this.matcher=new I.d,this.filtername="Hide Filter",this.Submitted=!0,this.branchoffice=!1,this.useCustomFormat=!1,this.PageLoaders=!1,this.SaveVehicleDtlsBtn={active:!1,spinnerSize:25,text:this.i18n("Submit"),raised:!1,stroked:!1,buttonColor:"primary",spinnerColor:"warn",fullWidth:!0,disabled:!1,mode:"indeterminate"},this.languagelist=[{id:"1",languageName:"English",languagecode:"en",CountryMst_Pk:"136",dir:"ltr"},{id:"2",languageName:"Arabic",languagecode:"ar",CountryMst_Pk:"31",dir:"rtl"}],this.dir="ltr",this.today=new Date}i18n(e){return this.translate.instant(e)}ngOnInit(){if(this.stktype=this.localstorage.getInLocal("stktype"),this.formvalidated(),this.routeid.paramMap.subscribe(e=>{this.vehiclePk=e.get("vcl_id"),this.vehiclePk&&(this.edit=!0,this.PageLoaders=!0)}),this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,"en"==e.languagecode?this.filtername="Hide Filter":this.filtername="\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629"}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,this.filtername="Hide Filter"}this.cookieService.get("languageCode")&&"ar"==this.cookieService.get("languageCode")?this.ifarabic=!0:this.ifarabic=!1,this.regpk=this.localstorage.getInLocal("registerPk"),this.remoteService.getLanguageCookie().subscribe(e=>{if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,"en"==e.languagecode?this.filtername="Hide Filter":this.filtername="\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629"}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,this.filtername="Hide Filter"}this.cookieService.get("languageCode")&&"ar"==this.cookieService.get("languageCode")?this.ifarabic=!0:this.ifarabic=!1}),this.PageLoaders=!0,this.getTechnicalEvalutionCentres(),this.getmasterlist(),this.vehicleForm.controls.ropRegister.valueChanges.debounceTime(400).subscribe(e=>{this.Form.ropRegisterString.setValue(ge(e).format("YYYY-MM-DD").toString())})}getVehicleRegDtlsByVclPk(e,t=!1){this.PageLoaders=!0,this.rasService.getvehiclregdlsbyvhclpk(e).subscribe(e=>{let n=e.data.data;1==this.edit&&(this.Form.inspectionDate.clearValidators(),this.Form.inspectionDate.updateValueAndValidity()),0==t&&this.vehicleForm.patchValue({registrationpk:n.rvrd_opalmemberregmst_fk,applicatiomainpk:n.appiim_applicationdtlsmain_fk,offtype:n.appiim_officetype,brancheng:n.appiim_applicationdtlsmain_fk,inspectionDate:n.rvrd_dateofinsp,inspStarttime:new Date(this.patchdates(n.rvrd_inspstarttime)),inspEndtime:new Date(this.patchdates(n.rvrd_inspendtime)),isedit:1}),2==this.Form.offtype.value&&(this.selectedBranchDtl(Number(this.Form.applicatiomainpk.value)),this.branchappmainPk=this.Form.brancheng.value),this.selectOffice(this.Form.offtype.value),this.vehicleForm.patchValue({ownName:n.rvod_ownername_en,ownNameArb:n.rvod_ownername_ar,crNumber:n.rvod_crnumber,chassNumber:n.rvrd_chassisno,odometer:n.rvrd_odometerreading,inspectorName:n.rvrd_inspectorname,vehiclenumber:n.rvrd_vechicleregno,ivmsvendorname:n.rvrd_ivmsvendorname,ivmsdeviceno:n.rvrd_ivmsdevicemodel,ivmsNumber:n.rvrd_ivmsserialno,speedlimit:n.rvrd_speedlimitno,vehiclecat:n.rvrd_vechiclecat,fleetNumber:n.rvrd_vechiclefleetno,roadType:n.rvrd_roadtype,ropRegister:n.rvrd_firstropregdate,modelYear:n.rvrd_modelyear,batchrefno:n.rvrd_applicationrefno}),this.setInspectionTime(),this.PageLoaders=!1})}patchdates(e){let t=new Date;return ge(t).format("YYYY-MM-DD").toString()+" "+ge(e).format("HH:mm:00").toString()}formvalidated(){this.vehicleForm=this.formBuilder.group({registrationpk:["",o.x.required],applicatiomainpk:["",o.x.required],offtype:["",o.x.required],brancheng:["",""],ownName:["",o.x.required],ownNameArb:["",o.x.required],crNumber:["",o.x.required],vehiclenumber:["",[o.x.required,o.x.pattern("^[0-9]+-[a-zA-Z]+$")]],chassNumber:["",o.x.required],odometer:["",o.x.required],ivmsvendorname:["",o.x.required],ivmsdeviceno:["",o.x.required],ivmsNumber:["",o.x.required],speedlimit:["",o.x.required],vehiclecat:["",o.x.required],fleetNumber:["",o.x.required],roadType:["",o.x.required],ropRegister:["",o.x.required],ropRegisterString:["",o.x.required],modelYear:["",o.x.required],inspectionDate:["",o.x.required],inspStarttime:["",o.x.required],inspEndtime:["",o.x.required],inspectionDateString:["",o.x.required],inspStarttimeString:["",o.x.required],inspEndtimeString:["",o.x.required],inspectorName:["",""],isrenewal:["",""],isedit:["",""],batchrefno:["",""]})}setcrnumber(e,t){e?(1==t?this.Form.ownNameArb.setValue(e.name_ar):this.Form.ownName.setValue(e.name_en),this.Form.crNumber.setValue(e.crnumber)):(this.Form.crNumber.setValue(null),1==t?this.Form.ownNameArb.setValue(null):this.Form.ownName.setValue(null))}getpreviouslist(e,t){let n=e;null!=n?(this.setcrnumber(null,t),n.length>=3&&null!=n.length&&this.rasService.getPreviousOwnerList(t,n).subscribe(e=>{e.data.data&&(this.ownerlist=e.data.data,console.log(this.ownerlist))})):this.setcrnumber(null,t)}setInspectionTime(){this.setIspectionDate(this.Form.inspectionDate.value),this.setstarttime(this.Form.inspStarttime.value),this.setendtime(this.Form.inspEndtime.value)}setIspectionDate(e){let t=ge(e).format("YYYY-MM-DD").toString();this.Form.inspectionDateString.setValue(t)}setstarttime(e){if(this.Form.inspectionDateString.value){let t=ge(e).format("HH:mm:00").toString();this.Form.inspStarttimeString.setValue(this.Form.inspectionDateString.value+" "+t)}}setendtime(e){if(this.Form.inspectionDateString.value){let t=ge(e).format("HH:mm:00").toString();this.Form.inspEndtimeString.setValue(this.Form.inspectionDateString.value+" "+t)}}Vehicleregister(){console.log(this.vehicleForm.value),1==this.edit&&(this.Form.inspectionDate.clearValidators(),this.Form.inspectionDate.updateValueAndValidity()),console.log(this.Form.offtype.value),2==this.Form.offtype.value?this.Form.brancheng.setValidators([o.x.required]):(this.Form.brancheng.reset(),this.Form.brancheng.setValidators(null)),this.vehicleForm.valid?ee()({title:this.i18n("Do you want to confirm submission of the Vehicle Registration Form?"),text:"",icon:"warning",buttons:[this.i18n("No"),this.i18n("Yes")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e&&this.submitData(this.vehicleForm.value)}):this.focusInvalidInput(this.vehicleForm)}submitData(e){this.SaveVehicleDtlsBtn.active=!0,this.PageLoaders=!0,this.rasService.saveVehicleDtls(e).subscribe(e=>{this.PageLoaders=!1,1==e.data.status?(this.SaveVehicleDtlsBtn.active=!1,this.vehicleForm.reset(),this.Vehiclelist(),ee()({title:this.i18n("Vehicle Registration Form Submitted Successfully."),text:"",icon:"success",buttons:[!1,this.i18n("OK")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1})):ee()({title:this.i18n("There was a problem while Registering Vehicle."),text:e.data.msg,icon:"warning",className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1})})}resetform(){this.vehicleForm.controls.offtype.reset(),this.vehicleForm.controls.brancheng.reset(),this.vehicleForm.controls.ownName.reset(),this.vehicleForm.controls.ownNameArb.reset(),this.vehicleForm.controls.crNumber.reset(),this.vehicleForm.controls.vehiclenumber.reset(),this.vehicleForm.controls.chassNumber.reset(),this.vehicleForm.controls.ivmsNumber.reset(),this.vehicleForm.controls.speedlimit.reset(),this.vehicleForm.controls.vehiclecat.reset(),this.vehicleForm.controls.fleetNumber.reset(),this.vehicleForm.controls.roadType.reset(),this.vehicleForm.controls.ropRegister.reset(),this.vehicleForm.controls.modelYear.reset(),this.vehicleForm.controls.inspectionDate.reset(),this.vehicleForm.controls.inspectorName.reset()}focusInvalidInput(e){for(const t of Object.keys(e.controls))if(e.controls[t].invalid){const e=this.el.nativeElement.querySelector('[formcontrolname="'+t+'"]');console.log(t),e&&e.focus();break}}get Form(){return this.vehicleForm.controls}cancle(){this.vehicleForm.touched?ee()({title:this.i18n("Do you want to cancel submitting this Vehicle Registration Form?"),text:this.i18n("If yes, any unsaved data will be lost."),icon:"warning",buttons:[this.i18n("No"),this.i18n("Yes")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e&&(this.vehicleForm.reset(),this.Vehiclelist(),ee()({title:this.i18n("This Vehicle Registration Form is Cancelled."),text:"",icon:"success",buttons:[!1,this.i18n("OK")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}))}):(this.vehicleForm.reset(),this.Vehiclelist())}Vehiclelist(){1==this.stktype&&this.router.navigate(["/vehiclemanagement/list"]),this.router.navigate(["/vehiclemanagement/vehiclelisting"])}statustype(e){1==e?(this.branchoffice=!1,this.vehicleForm.controls.brancheng.reset()):2==e&&(this.branchoffice=!0)}checkvehicle(){return this.rasService.checkVehicleRegistered(this.Form.vehiclenumber.value,this.regpk).subscribe(e=>{if(2==e.data.status){let t=e.data.available;3!=t.status&&8!=t.status?(this.inothercompanyinspection(),this.vehicleForm.controls.vehiclenumber.setErrors({alreadyavailable:!0})):3!=t.status||1!=t.nearing&&1!=t.expired?3==t.status&&2==t.nearing&&2==t.expired?(ee()({title:this.i18n('This vehicle is already Registered with the following Centre "'+t.centre+'"'),text:"",icon:"warning",buttons:[!1,this.i18n("OK")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}),this.vehicleForm.controls.vehiclenumber.setErrors({alreadyavailable:!0})):8==t.status&&(ee()({title:this.i18n('The Inspection for this particular Vehicle was conducted at the following Centre "'+t.centre+'", and it was Rejected.'),text:"",icon:"warning",buttons:[!1,this.i18n("OK")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}),this.vehicleForm.controls.vehiclenumber.setErrors({alreadyavailable:!0})):ee()({title:this.i18n("This Vehicle already has a valid sticker, and we will accept it as a renewal form, Click on Proceed to proceed with the renewal process."),text:"",icon:"warning",buttons:[this.i18n("Proceed"),this.i18n("Cancel")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e?this.vehicleForm.controls.vehiclenumber.reset():(this.Form.isrenewal.setValue(!0),this.Form.vehiclenumber.setErrors(null),this.renewchasisnumber=t.chasis,this.getVehicleRegDtlsByVclPk(this.security.encrypt(t.vehiclepk),!0))})}else ee()({title:this.i18n("This vehicle is already Registered with your Centre."),text:"",icon:"warning",buttons:[!1,this.i18n("Ok")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}),this.vehicleForm.controls.vehiclenumber.setErrors({alreadyavailable:!0})}),!0}inothercompanyinspection(){ee()({title:this.i18n("This Vehicle is already registered for inspection with another Centre."),text:"",icon:"warning",buttons:[!1,this.i18n("Ok")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1})}checkByType(e,t,n="1"){switch(t){case"vehiclenumber":this.regService.checkVehicleNum(e,n).subscribe(e=>{if(e.data.available){if(this.checkvehicle())return!1}else this.Form.isrenewal.setValue(null),this.renewchasisnumber=null,this.checkByType(this.Form.chassNumber.value,"chassNumber")});break;case"chassNumber":this.regService.checkChassNum(e,n).subscribe(e=>{if(e.data.available)return this.vehicleForm.controls[t].markAsTouched(),this.vehicleForm.controls[t].setErrors({alreadyavailable:!0}),this.renewchasisnumber==this.Form.chassNumber.value&&this.vehicleForm.controls[t].setErrors(null),!1})}}getTechnicalEvalutionCentres(){let e=!1;this.mainofficeappl=!1,this.rasService.getTechnicalEvalutionCentres().subscribe(t=>{1==t.data.status?(this.technicalEvalutionCentrelist=t.data.data,console.info(this.technicalEvalutionCentrelist),this.technicalEvalutionCentrelist.forEach(t=>{t.regpk==this.regpk&&(this.Form.registrationpk.setValue(this.regpk),this.Form.applicatiomainpk.setValue(t.appmainpk),this.mainoffappmainPk=t.appmainpk,e=!0,this.mainofficeappl=!0,1!=t.issuspended&&1!=t.isOverdue&&1!=t.is_expired||(this.mainoffappmainPk=null,1==t.is_expired?this.swaltext="The 30 days grace period to renew your Centre Certification has expired. Hence, you cannot create any batches on the OPAL USP.":1==t.issuspended?this.swaltext="A Vehicle cannot be registered for this Centre as the Centre Certification has been Suspended..":1==t.isOverdue?this.swaltext="A Vehicle cannot be registered for an inspection in the selected Centre's Location because the Royalty Fee Payment is Overdue.":this.swaltext=null),this.textexpire=null,1!=t.is_nearingexpiry&&1!=t.graceperiod||(1==t.graceperiod?this.textexpire="The Centre Certification has expired. We have provided a grace period of 30 days to renew your Centre Certification. Kindly renew it on or before "+t.graceperioddate+". If not, you will be unable to register any vehicle on the OPAL USP until the Centre Certification is renewed.":1==t.is_nearingexpiry&&(this.textexpire="The Centre Certification is going to expire on "+t.nearingdate+". Kindly renew your Centre Certification on or before the specified expiry date. If not, you will be unable to register any vehicle on the OPAL USP until the Centre Certification is renewed.")),1==this.edit&&this.getVehicleRegDtlsByVclPk(this.vehiclePk))}),this.getBranchlist(this.regpk),this.PageLoaders=!1):this.technicalEvalutionCentrelist=[]}),console.log(this.mainofficeappl)}getBranchlist(e){let t=this.security.encrypt(e);this.rasService.getBranchlistbyregpk(t).subscribe(e=>{1==e.data.status?this.branchlist=e.data.data:this.branchlist=[]})}resetcategory(){this.vehicleForm.controls.vehiclecat.reset()}resetinspector(){this.vehicleForm.controls.inspectorName.reset()}selectedTechnicalCentre(e){this.mainoffappmainPk=null,this.branchappmainPk=null,this.technicalEvalutionCentrelist.forEach(t=>{t.regpk==e&&(this.mainoffappmainPk=t.appmainpk,this.selectedTechCentr=t.compname_en,this.Form.applicatiomainpk.setValue(t.appmainpk),this.getBranchlist(e),this.getVehicleCat(t.appmainpk))})}getVehicleCat(e){if(null!=e){let t=this.security.encrypt(e);this.categoryList=[],this.rasService.getVehicleCategoryByAppPk(t).subscribe(e=>{1==e.data.status?(this.categoryList=e.data.data,this.Form.vehiclecat.value&&this.getInspectorname(!0)):(this.categoryList=[],ee()({title:this.i18n("No Categories Found"),text:"",icon:"warning",dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}),this.resetcategory())})}}selectinspector(e){this.inspectorlist.forEach(t=>{if(t.pk==e)if(1==t.is_expired)ee()({title:this.i18n("The 30 days grace period given for renewing the Staff Competency card has expired. Hence, you cannot assign the selected staff for this vehicle regisration on the OPAL USP."),text:"",icon:"warning",dangerMode:!0,buttons:[this.i18n("Renew Now"),this.i18n("Renew later")],className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e?(this.Form.inspectorName.setValue(null),this.Form.inspectorName.updateValueAndValidity()):1==this.Form.offtype.value?this.router.navigate(["/trainingcentremanagement/rascentre"],{queryParams:{p:this.security.encrypt(4),renew:this.security.encrypt(1)}}):this.router.navigate(["trainingcentremanagement/rasbranchcentre/NA=="])});else{let e;1!=t.is_nearingexpiry&&1!=t.graceperiod||(1==t.graceperiod?e="The Staff's Competency Card has expired. We have provided a grace period of 30 days to renew the Staff Competency Card. Kindly renew it on or before "+t.graceperioddate+". If not, you cannot select the staff to conduct any Inspection on the OPAL USP.":1==t.is_nearingexpiry&&(e="The selected Staff's Competency Card is going to expire on "+t.nearingdate+". Kindly submit  the selected Course Certification Form for the Competency Card renewal. If not, you cannot select the staff to conduct any Inspection on the OPAL USP."),ee()({title:this.i18n(e),text:"",icon:"warning",dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}))}})}getInspectorname(e=!1){if(this.inspectorlist=[],this.Form.inspectorName.setValue(null),this.setInspectionTime(),this.Form.vehiclecat.valid&&this.Form.applicatiomainpk.valid&&this.Form.registrationpk.valid&&this.Form.inspectionDate.valid&&this.Form.inspStarttime.valid&&this.Form.inspEndtime.valid){let t=JSON.stringify({vehiclecat:this.vehicleForm.controls.vehiclecat.value,registrationpk:this.security.encrypt(this.vehicleForm.controls.registrationpk.value),applicatiomainpk:this.security.encrypt(this.vehicleForm.controls.applicatiomainpk.value),categoryPk:this.security.encrypt(this.vehicleForm.controls.vehiclecat.value),date:this.security.encrypt(this.vehicleForm.controls.inspectionDateString.value),startTime:this.security.encrypt(this.vehicleForm.controls.inspStarttimeString.value),endTime:this.security.encrypt(this.vehicleForm.controls.inspEndtimeString.value),ifedit:e});this.rasService.getInspectorname(t).subscribe(e=>{1==e.data.status?this.inspectorlist=e.data.data:(this.inspectorlist=[],this.resetinspector())})}}selectOffice(e){1==e?this.mainoffappmainPk?(this.textexpire&&ee()({title:this.i18n(this.textexpire),text:"",icon:"warning",buttons:[this.i18n("Renew Now"),this.i18n("Renew later")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e||this.router.navigate(["/trainingcentremanagement/rascentre"],{queryParams:{p:this.security.encrypt(4),renew:this.security.encrypt(1)}})}),this.getVehicleCat(this.mainoffappmainPk),this.Form.applicatiomainpk.setValue(this.mainoffappmainPk)):ee()({title:this.swaltext,text:"",icon:"warning",buttons:[this.i18n("Renew Now"),this.i18n("Renew later")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e?(this.Form.offtype.setValue(null),this.Form.brancheng.setValue(null),this.Form.brancheng.setValidators(null)):this.router.navigate(["/trainingcentremanagement/rascentre"],{queryParams:{p:this.security.encrypt(4),renew:this.security.encrypt(1)}})}):this.branchappmainPk&&null!=this.branchappmainPk&&(this.getVehicleCat(this.branchappmainPk),this.Form.applicatiomainpk.setValue(this.branchappmainPk))}selectedBranchDtl(e){this.branchlist.forEach(t=>{if(t.appmainpk===e)if(this.Form.applicatiomainpk.setValue(t.appmainpk),this.branchappmainPk=t.appmainpk,1==t.issuspended||1==t.isOverdue||1==t.is_expired){if(this.branchappmainPk=null,!this.branchappmainPk){let e=this.i18n("A Vehicle cannot be registered for this Centre as the Centre Certification has been Suspended."),r=this.i18n("The 30 days grace period to renew your Centre Certification has expired. Hence, you cannot register any vehicle on the OPAL USP."),a=this.i18n("A Vehicle cannot be registered for an inspection in the selected Centre's Location because the Royalty Fee Payment is Overdue.");var n=1==t.issuspended?e:1==t.is_expired?r:a;ee()({title:n,text:"",icon:"warning",buttons:[this.i18n("Renew Now"),this.i18n("Renew later")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e?(this.Form.offtype.setValue(null),this.Form.brancheng.setValue(null),this.Form.brancheng.setValidators(null)):this.router.navigate(["trainingcentremanagement/rasbranchcentre/NA=="])})}}else this.textexpirebranch=null,1!=t.is_nearingexpiry&&1!=t.graceperiod||(1==t.graceperiod?this.textexpirebranch="The Centre Certification has expired. We have provided a grace period of 30 days to renew your Centre Certification. Kindly renew it on or before "+t.graceperioddate+". If not, you will be unable to register any vehicles on the OPAL USP until the Centre Certification is renewed.":1==t.is_nearingexpiry&&(this.textexpirebranch="The Centre Certification is going to expire on "+t.nearingdate+". Kindly renew your Centre Certification on or before the specified expiry date. If not, you will be unable to register any vehicles on the OPAL USP until the Centre Certification is renewed."),this.textexpirebranch&&(ee()({title:this.i18n(this.textexpirebranch),text:"",icon:"warning",buttons:[this.i18n("Renew Now"),this.i18n("Renew later")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e||this.router.navigate(["trainingcentremanagement/rasbranchcentre/NA=="])}),this.selectOffice(2)))})}getmasterlist(){this.rasService.getmasterlistbyType(16).subscribe(e=>{1==e.data.status?this.roadtypeList=e.data.data.roadtype:this.roadtypeList=[]})}parseDate(e,t){return new Date(e)}checkYear(e){let t=ge().format("YYYY");Number(t)<Number(e)&&(this.Form.modelYear.setValue(null),this.Form.modelYear.setErrors({futureYear:!0}))}Verifier(){ee()({title:this.i18n("This Vehicle Form has been moved to the Verifier."),text:"",icon:"success",buttons:[!1,this.i18n("Ok")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e&&(this.vehicleForm.reset(),this.Vehiclelist())})}reject(){ee()({title:this.i18n("This Vehicle Form has been Rejected."),text:"",icon:"warning",buttons:[!1,this.i18n("Ok")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e&&(this.vehicleForm.reset(),this.Vehiclelist())})}moved(){ee()({title:this.i18n("This Vehicle Form has been moved to the Supervisor."),text:"",icon:"success",buttons:[!1,this.i18n("Ok")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e&&(this.vehicleForm.reset(),this.Vehiclelist())})}sticker(){ee()({title:this.i18n("The Sticker has been Issued for the Vehicle."),text:"",icon:"success",buttons:[!1,this.i18n("Ok")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e&&(this.vehicleForm.reset(),this.Vehiclelist())})}movetoinspect(){ee()({title:this.i18n("The Vehicle Form has been moved to the Inspector."),text:"",icon:"success",buttons:[!1,this.i18n("Ok")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e&&(this.vehicleForm.reset(),this.Vehiclelist())})}};be.ctorParameters=()=>[{type:a.p},{type:o.e},{type:le.b},{type:K.g},{type:ve},{type:o.e},{type:a.v},{type:U.c},{type:Q.a},{type:X.a},{type:K.a},{type:he.a},{type:ie},{type:a.G},{type:ce.a},{type:i.f},{type:se.a},{type:ue.a},{type:I.c}],be=Object(r.c)([Object(a.n)({selector:"app-vehicleregister",template:Object(r.d)(n("eydS")).default,encapsulation:a.pb.None,providers:[{provide:I.c,useClass:fe.b,deps:[I.f,fe.a]},{provide:I.e,useFactory:e=>e.getFormats(),deps:[ve]}],styles:[Object(r.d)(n("3zQM")).default]}),Object(r.e)("design:paramtypes",[a.p,o.e,le.b,K.g,ve,o.e,a.v,U.c,Q.a,X.a,K.a,he.a,ie,a.G,ce.a,i.f,se.a,ue.a,I.c])],be);var xe=n("+z1p"),ye=n("PfIi"),we=n("y1+5");let ke=class{constructor(e,t,n,r,a,i,s,l,o,c,d,p){this.fb=e,this.toastr=t,this.router=n,this.activeRoute=r,this.formBuilder=a,this.el=i,this.security=s,this.translate=l,this.remoteService=o,this.vehicleService=c,this.localstorage=d,this.cookieService=p,this.InspectionTemplate="Offline",this.isEdit=!1,this.fileupload=[],this.declineDtls=[],this.allPassCheck=!1,this.pageLoader=!1,this.ck=new ye.a,this.matcher=new I.d,this.filtername="Hide Filter",this.approvalstatus=!0,this.deleteicon=!0,this.done=!0,this.length="",this.editerfield=!1,this.Editor=xe,this.edittechinfo=!1,this.techinfo="",this.length_Of_ck=0,this.comments="",this.contact="",this.uploaded=!1,this.isopen=[],this.requiredstate=!0,this.languagelist=[{id:"1",languageName:"English",languagecode:"en",CountryMst_Pk:"136",dir:"ltr"},{id:"2",languageName:"Arabic",languagecode:"ar",CountryMst_Pk:"31",dir:"rtl"}],this.dir="ltr",this.config={toolbar:["heading","|","bold","italic","|","bulletedList","numberedList","|","blockquote","|","undo","redo"],image:{toolbar:["imageStyle:full","imageStyle:side","imageStyle:alignLeft","imageStyle:alignRight","|","imageTextAlternative"],styles:["full","side","alignLeft","alignRight"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]},placeholder:"Type the content here!"},this.questions=[{title:"Position"},{title:"position-2"}]}i18n(e){return this.translate.instant(e)}ngOnInit(){if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,e.languagecode,this.config.placeholder="Type the content here!"}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,this.config.placeholder="Type the content here!"}this.stktype=this.localstorage.getInLocal("stktype"),this.isfocalpoint=this.localstorage.getInLocal("isfocalpoint"),2==this.isfocalpoint&&(this.useraccess=this.localstorage.getInLocal("uerpermission"),this.SetUseraccess()),this.remoteService.getLanguageCookie().subscribe(e=>{if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,e.languagecode,this.config.placeholder="Type the content here!"}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,this.config.placeholder="Type the content here!"}}),this.activeRoute.paramMap.subscribe(e=>{this.createaccess||2!=this.isfocalpoint||this.Vehiclelist();let t=e.get("vcl_id");"edit"==e.get("type")&&(this.isEdit=!0),this.veiclepk=this.security.decrypt(t)}),this.formvalidated(),this.report={fileMstPk:18,selectedFilesPk:[]},this.reportchklist={fileMstPk:19,selectedFilesPk:[]},this.getVehicleRegistrationStatus(),this.Form.vehicleregpk.setValue(this.veiclepk)}getVehicleRegistrationStatus(){let e;this.loader=!0;let t=this.security.encrypt(this.veiclepk);this.vehicleService.getVehicleRegistrationStatus(t).subscribe(n=>{this.vehicleregstatus=n.data.data,1!=this.vehicleregstatus&&4!=this.vehicleregstatus&&5!=this.vehicleregstatus&&6!=this.vehicleregstatus&&7!=this.vehicleregstatus&&this.Vehiclelist(),5!=this.vehicleregstatus&&6!=this.vehicleregstatus&&7!=this.vehicleregstatus||1!=this.isEdit?this.loader=!1:(this.EditDataValue=[],this.fileupload=[],this.fileuploadvalue=null,this.vehicleService.getInspectionDetailsForEdit(t).subscribe(t=>{1==t.data.status&&(5==Number(t.data.data.status)||6==Number(t.data.data.status)?(e=2,this.declineDtls.declinedOn=t.data.data.declinedOn,this.declineDtls.declinedBy=t.data.data.declinedBy,this.declineDtls.declinedComments=t.data.data.declineComments):(e=7,this.declineDtls=null),this.approveDecline.patchValue({vehicleregpk:this.veiclepk,status:e,inspctiontype:Number(t.data.data.inspType),comments:t.data.data.inspComment,reportdocument:t.data.data.inspReport?t.data.data.inspReport.split(","):[]}),this.contact=t.data.data.inspComment,this.techinfo=t.data.data.inspComment,this.EditDataValue=t.data.data.checklist,this.done=!1,this.fileupload=t.data.data.inspReport?t.data.data.inspReport.split(","):[],this.fileuploadvalue=this.report,this.statustype(e),this.ChkInspType(Number(t.data.data.inspType)),this.approvalstatus=!1,this.assesmentrepot.triggerChange())}))})}SetUseraccess(){let e=this.localstorage.getaccessmoduleid(this.stktype,"Vehicle Inspection and Approval");this.useraccess[e]&&this.useraccess[e][27]&&"Y"==this.useraccess[e][27].read&&(this.readaccess=!0),this.useraccess[e]&&this.useraccess[e][27]&&"Y"==this.useraccess[e][27].create&&(this.createaccess=!0)}formvalidated(){this.approveDecline=this.formBuilder.group({vehicleregpk:["",o.x.required],status:["",o.x.required],inspctiontype:["",o.x.required],reportdocument:["",o.x.required],comments:["",o.x.required],onlinechecklist:this.formBuilder.array([])})}createItem(e){return this.fb.group({question:[e.aqm_question_en,""],option:[e.ansoptions,""],answer:["",o.x.required],chklistcomments:["",""],chklistdoc:["",""]})}getIfrequired(e){return 1==this.isopen[e]?(this.updatevalidation(e,!0),!0):(this.updatevalidation(e,!1),!1)}movetoverifier(){if(this.approveDecline.valid&&!1===this.done)if(this.approveDecline.touched){this.loader=!0;let e=this.approveDecline.value;this.vehicleService.moveToVerifier(e).subscribe(e=>{1==e.data.status&&(2==this.Form.status.value?this.toastr.success(this.i18n("This Vehicle Form has been moved to the Verifier."),""):8==this.Form.status.value?this.toastr.success(this.i18n("This Vehicle Form has been Rejected."),""):7==this.Form.status.value&&this.toastr.success(this.i18n("This Vehicle Form has been Declined."),""),this.Vehiclelist()),this.loader=!1})}else ee()({title:this.i18n("No updates received on the Vehicle Inspection form towards the Declines."),text:"",icon:"warning",buttons:[!1,this.i18n("Ok")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1});else ee()({title:this.i18n("Kindly complete filling all the mandatory information before proceeding."),text:"",icon:"warning",buttons:[!1,this.i18n("Ok")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}),this.loader=!1,this.uploaded=!0,this.approveDecline.controls.comments.invalid&&(this.edittechinfo=!0),this.focusInvalidInput(this.approveDecline)}submit(){this.approveDecline.valid&&!1===this.done?(this.approveDecline.controls.status.reset(),this.approveDecline.controls.comments.reset(),this.approveDecline.controls.reportdocument.reset(),this.edittechinfo=!this.edittechinfo,this.toastr.success(this.i18n("maincenter.staffupdate"),"")):(ee()({title:this.i18n("Kindly complete filling all the mandatory information before proceeding."),text:"",icon:"warning",buttons:[!1,this.i18n("Ok")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}),this.loader=!1,this.uploaded=!0,this.approveDecline.controls.comments.valid||(this.edittechinfo=!0),this.focusInvalidInput(this.approveDecline))}focusInvalidInput(e){for(const t of Object.keys(e.controls))if(e.controls[t].invalid){const e=this.el.nativeElement.querySelector('[formcontrolname="'+t+'"]');e&&e.focus();break}}get Form(){return this.approveDecline.controls}cancel(){ee()({title:this.i18n("Do you want cancel the Vehicle Inspection?"),text:"",icon:"warning",buttons:[this.i18n("No"),this.i18n("Yes")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e&&(this.approveDecline.reset(),this.contact="",this.techinfo="",this.edittechinfo=!this.edittechinfo,this.uploaded=!1,this.Vehiclelist())})}Vehiclelist(){1==this.stktype&&(this.loader=!1,this.router.navigate(["/vehiclemanagement/list"])),this.router.navigate(["/vehiclemanagement/vehiclelisting"])}ChkInspType(e){this.loader=!1,1==e?(this.InspectionTemplate="Online",this.report.selectedFilesPk=Array(),this.approveDecline.controls.reportdocument.reset(),this.approveDecline.controls.reportdocument.clearValidators(),this.approveDecline.controls.reportdocument.setValidators(null),this.approveDecline.controls.reportdocument.setErrors(null),this.approveDecline.controls.reportdocument.updateValueAndValidity(),this.approveDecline.controls.onlinechecklist.updateValueAndValidity(),this.getAllPassanswrs(),this.getInspectionChecklistByVehicleRegPk(),this.updateOnlineChecklist(!0)):(this.InspectionTemplate="Offline",1==this.isEdit?(this.report.fileMstPk=18,this.report.selectedFilesPk=this.fileupload):(this.report.fileMstPk=18,this.report.selectedFilesPk=Array()),this.approveDecline.controls.reportdocument.reset(),1==this.isEdit?this.approveDecline.controls.reportdocument.setValue(this.fileupload):this.approveDecline.controls.reportdocument.setValue(Array()),this.approveDecline.controls.reportdocument.setValidators([o.x.required]),this.approveDecline.controls.reportdocument.updateValueAndValidity(),this.approveDecline.controls.onlinechecklist.updateValueAndValidity(),this.updateOnlineChecklist(!1)),this.assesmentrepot.triggerChange()}updateOnlineChecklist(e){const t=this.approveDecline.get("onlinechecklist");e?t.controls.forEach(e=>{e.controls.question.setValidators([o.x.required]),e.controls.answer.setValidators([o.x.required]),e.controls.chklistcomments.setValidators([o.x.required]),e.controls.chcklistdoc.setValidators([o.x.required,this.minLengthArrayValidator(1)]),e.controls.question.updateValueAndValidity(),e.controls.answer.updateValueAndValidity(),e.controls.chklistcomments.updateValueAndValidity(),e.controls.chcklistdoc.updateValueAndValidity()}):t.controls.forEach(e=>{e.controls.answer.setValue(null),e.controls.chklistcomments.setValue(null),e.controls.chcklistdoc.setValue(null),e.controls.question.setValidators(null),e.controls.answer.setValidators(null),e.controls.chklistcomments.setValidators(null),e.controls.chcklistdoc.setValidators(null),e.controls.question.updateValueAndValidity(),e.controls.answer.updateValueAndValidity(),e.controls.chklistcomments.updateValueAndValidity(),e.controls.chcklistdoc.updateValueAndValidity()})}statustype(e){2==e?this.approvalstatus=!0:7!=e&&8!=e||(this.approvalstatus=!1)}getInspectionChecklistByVehicleRegPk(){this.loader=!0;let e=this.security.encrypt(this.veiclepk),t=this.EditDataValue;this.vehicleService.getInspectionChecklistByVehicleRegPk(e).subscribe(e=>{1==e.data.status?this.addChecklist(e.data.data,t,!0):this.checklist=[]})}addChecklist(e,t=null,n=null){let r=[];const a=this.approveDecline.controls.onlinechecklist;if(0!=this.isEdit&&0!=t.length||0!=a.controls.length)if(a.controls.length>0&&(null==t?void 0:t.length)>0)for(let i=0;i<e.length;i++)Object.keys(t).forEach(n=>{var a,s;if(t[n].mstPk==e[i].auditquestionmst_pk){t[n].ansoptions[0].ansDoc?r.push({fileMstPk:19,selectedFilesPk:(null===(a=t[n].ansoptions[0].ansDoc)||void 0===a?void 0:a.split(","))?null===(s=t[n].ansoptions[0].ansDoc)||void 0===s?void 0:s.split(","):[]}):r.push({fileMstPk:19,selectedFilesPk:[]});this.approveDecline.get("onlinechecklist").controls.forEach(a=>{a&&a.controls.question.value==e[i].auditquestionmst_pk&&(a.controls.answer.setValue(t[n].ansoptions[0].mstPk),a.controls.chklistcomments.setValue(t[n].ansoptions[0].ansComments),a.controls.chcklistdoc.setValue(t[n].ansoptions[0].ansDoc?t[n].ansoptions[0].ansDoc.split(","):null),a.controls.question.updateValueAndValidity(),a.controls.answer.updateValueAndValidity(),a.controls.chklistcomments.setValidators(null),a.controls.chcklistdoc.setValidators(null),a.controls.chklistcomments.updateValueAndValidity(),a.controls.chcklistdoc.updateValueAndValidity(),this.ChekclistDocuments=r,1==Number(t[n].toggleOpen)&&this.toggle(Number(n)))})}});else if((null==t?void 0:t.length)>0){a.controls=[];for(let n=0;n<e.length;n++)Object.keys(t).forEach(i=>{var s,l;t[i].mstPk==e[n].auditquestionmst_pk&&(t[i].ansoptions[0].ansDoc?r.push({fileMstPk:19,selectedFilesPk:(null===(s=t[i].ansoptions[0].ansDoc)||void 0===s?void 0:s.split(","))?null===(l=t[i].ansoptions[0].ansDoc)||void 0===l?void 0:l.split(","):[]}):r.push({fileMstPk:19,selectedFilesPk:[]}),a.push(this.formBuilder.group({question:[e[n].auditquestionmst_pk,[o.x.required]],answer:[t[i].ansoptions[0].mstPk,[o.x.required]],chklistcomments:[t[i].ansoptions[0].ansComments,""],chcklistdoc:[t[i].ansoptions[0].ansDoc?t[i].ansoptions[0].ansDoc.split(","):null,""]})),this.ChekclistDocuments=r,1==Number(t[i].toggleOpen)&&this.toggle(Number(i)))})}else this.updateOnlineChecklist(!1);else{for(let t=0;t<e.length;t++)r.push({fileMstPk:19,selectedFilesPk:[]}),n?a.push(this.formBuilder.group({question:[e[t].auditquestionmst_pk,[o.x.required]],answer:["",[o.x.required]],chklistcomments:["",""],chcklistdoc:[Array(),""]})):a.push(this.formBuilder.group({question:[e[t].auditquestionmst_pk,""],answer:["",""],chklistcomments:["",""],chcklistdoc:[Array(),""]}));this.ChekclistDocuments=r}this.loader=!1,this.formBuilder.group([]),this.checklist=e,this.checkIfAllPass()}fileeSelected(e,t){e.length>0?(this.Form.reportdocument.setValue(e),this.fileupload=e):(this.Form.reportdocument.setValue(null),this.fileupload=[])}fileeSelectedChecklist(e,t){}editinfo(){this.edittechinfo=!this.edittechinfo,this.done=!0}messagedone(){this.addinfo(),this.editinfo(),this.done=!1}addinfo(){this.techinfo=this.approveDecline.controls.comments.value}onChangeeditor(e){this.length_Of_ck=$(this.approveDecline.controls.comments.value).text().length,this.comments=$(this.approveDecline.controls.comments.value).text(),this.length_Of_ck>1e3&&(this.approveDecline.setErrors({invalid:!0}),this.approveDecline.controls.comments.setErrors({incorrect:!0}))}resinfo(){this.approveDecline.controls.comments.reset(),this.techinfo=""}toggle(e){this.isopen[e]=!this.isopen[e],0==this.isopen[e]?this.updatevalidation(e,!1):this.updatevalidation(e,!0)}updatevalidation(e,t){const n=this.approveDecline.get("onlinechecklist").controls[e];n&&(1==t?(n.controls.chklistcomments.setValidators([o.x.required]),n.controls.chcklistdoc.setValidators([o.x.required]),n.controls.chklistcomments.updateValueAndValidity(),n.controls.chcklistdoc.updateValueAndValidity(),this.loader=!1):(n.controls.chklistcomments.setValue(null),n.controls.chklistcomments.setValidators(null),n.controls.chcklistdoc.setValidators(null),n.controls.chklistcomments.setErrors(null),n.controls.chcklistdoc.setErrors(null),n.controls.chcklistdoc.setValue(Array()),n.controls.chklistcomments.updateValueAndValidity(),n.controls.chcklistdoc.updateValueAndValidity(),this.ChekclistDocuments[e].selectedFilesPk=Array(),this.loader=!1),console.log(n.controls))}getChecklistForm(e){return this.approveDecline.get("onlinechecklist").controls[e]}AnswerChangeValue(e,t){}OnCommentAdd(e,t){}minLengthArrayValidator(e){return t=>{const n=t.value;return n&&Array.isArray(n)?n.length<e?{minLengthArray:{requiredLength:e,actualLength:n.length}}:null:o.x.required(t)}}getAllPassanswrs(e=null){this.vehicleService.getAllPassAnswersForChklist(this.security.encrypt(this.veiclepk)).subscribe(t=>{this.passanswrslist=t.data.data,e&&this.checkAllFun(e)})}checkAllFun(e){var t;this.loader=!0;const n=this.approveDecline.get("onlinechecklist");this.passanswrslist&&(null===(t=this.passanswrslist)||void 0===t?void 0:t.length)>0?(n.controls.forEach(t=>{this.passanswrslist.forEach(n=>{n.question==t.controls.question.value&&(1==e?t.controls.answer.setValue(n.answer):t.controls.answer.setValue(null),t.controls.answer.updateValueAndValidity())})}),this.approveDecline.markAsTouched(),this.loader=!1):this.getAllPassanswrs(e)}checkIfAllPass(){var e;let t=0;const n=this.approveDecline.get("onlinechecklist");this.passanswrslist&&this.passanswrslist.length>0&&n.controls.forEach(e=>{this.passanswrslist.forEach(n=>{n.question==e.controls.question.value&&e.controls.answer.value==n.answer&&(t+=1)})}),t==(null===(e=this.passanswrslist)||void 0===e?void 0:e.length)?this.editchkbox.checked=!0:this.editchkbox.checked=!1}};ke.ctorParameters=()=>[{type:o.e},{type:le.b},{type:K.g},{type:K.a},{type:o.e},{type:a.v},{type:se.a},{type:U.c},{type:Q.a},{type:ie},{type:ce.a},{type:X.a}],Object(r.c)([Object(a.mb)("assesmentrepot"),Object(r.e)("design:type",we.a)],ke.prototype,"assesmentrepot",void 0),Object(r.c)([Object(a.mb)("assesmentrepotre"),Object(r.e)("design:type",we.a)],ke.prototype,"assesmentrepotre",void 0),Object(r.c)([Object(a.mb)("editchkbox"),Object(r.e)("design:type",f.a)],ke.prototype,"editchkbox",void 0),Object(r.c)([Object(a.mb)("form"),Object(r.e)("design:type",o.i)],ke.prototype,"form",void 0),ke=Object(r.c)([Object(a.n)({selector:"app-vehicleinspection",template:Object(r.d)(n("9t9e")).default,encapsulation:a.pb.None,providers:[{provide:I.c,useClass:te.b},{provide:I.e,useValue:te.a}],styles:[Object(r.d)(n("RiYx")).default]}),Object(r.e)("design:paramtypes",[o.e,le.b,K.g,K.a,o.e,a.v,se.a,U.c,Q.a,ie,ce.a,X.a])],ke);let Ce=class{constructor(e,t,n,r,a,i,s,l,o,c,d,p){this.fb=e,this.toastr=t,this.router=n,this.formBuilder=r,this.el=a,this.security=i,this.translate=s,this.remoteService=l,this.cookieService=o,this.vehicleService=c,this.localstorage=d,this.activeRoute=p,this.PageLoaders=!1,this.fullPageLoader=!1,this.submitted=!1,this.matcher=new I.d,this.languagelist=[{id:"1",languageName:"English",languagecode:"en",CountryMst_Pk:"136",dir:"ltr"},{id:"2",languageName:"Arabic",languagecode:"ar",CountryMst_Pk:"31",dir:"rtl"}],this.dir="ltr",this.today=new Date,this.locale={format:"DD-MM-YYYY"},this.ranges={Today:[re()(),re()()],Yesterday:[re()().subtract(1,"days"),re()().subtract(1,"days")],"Last 7 Days":[re()().subtract(6,"days"),re()()],"Last 30 Days":[re()().subtract(29,"days"),re()()],"This Month":[re()().startOf("month"),re()().endOf("month")],"Last Month":[re()().subtract(1,"month").startOf("month"),re()().subtract(1,"month").endOf("month")]}}i18n(e){return this.translate.instant(e)}ngOnInit(){if(this.stktype=this.localstorage.getInLocal("stktype"),this.isfocalpoint=this.localstorage.getInLocal("isfocalpoint"),2==this.isfocalpoint&&(this.useraccess=this.localstorage.getInLocal("uerpermission"),console.log(this.useraccess),this.SetUseraccess()),this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}this.remoteService.getLanguageCookie().subscribe(e=>{if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}}),this.formvalidated(),this.activeRoute.paramMap.subscribe(e=>{console.log(e);let t=e.get("vcl_id");this.vehiclpk=this.security.decrypt(t)}),this.createaccess||2!=this.isfocalpoint||this.Vehiclelist()}formvalidated(){this.inspectionDate=this.formBuilder.group({odometer:["",o.x.required],date_Inspect:["",o.x.required],date_InspectString:["",o.x.required],name_Inspect:["",o.x.required],inspStarttime:["",o.x.required],inspEndtime:["",o.x.required],inspStarttimeString:["",o.x.required],inspEndtimeString:["",o.x.required]})}Vehicleregister(){this.inspectionDate.valid?ee()({title:this.i18n("Do you want to confirm submission of the Vehicle Registration for Renewal?"),text:"",icon:"warning",buttons:[this.i18n("No"),this.i18n("Yes")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{if(e){this.PageLoaders=!0;let e={vehicleregPk:this.security.encrypt(this.vehiclpk),dateOfInsp:this.inspectionDate.controls.date_InspectString.value,startTime:this.inspectionDate.controls.inspStarttimeString.value,endTime:this.inspectionDate.controls.inspEndtimeString.value,inspector:this.inspectionDate.controls.name_Inspect.value,odometer:this.inspectionDate.controls.odometer.value};this.vehicleService.renewVehicleRegistration(e).subscribe(e=>{1==e.data.status?(this.toastr.success(this.i18n("Vehicle Registration Form Submitted Successfully for Renewal"),""),this.Vehiclelist()):ee()({title:this.i18n("Unable to apply renewal"),text:"",icon:"warning",dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}),this.PageLoaders=!0})}}):this.focusInvalidInput(this.inspectionDate)}setInspectionTime(){this.setIspectionDate(this.Form.date_Inspect.value),this.setstarttime(this.Form.inspStarttime.value),this.setendtime(this.Form.inspEndtime.value)}setIspectionDate(e){let t=re()(e).format("YYYY-MM-DD").toString();this.Form.date_InspectString.setValue(t)}setstarttime(e){if(this.Form.date_InspectString.value){let t=re()(e).format("HH:mm:00").toString();this.Form.inspStarttimeString.setValue(this.Form.date_InspectString.value+" "+t)}}setendtime(e){if(this.Form.date_InspectString.value){let t=re()(e).format("HH:mm:00").toString();this.Form.inspEndtimeString.setValue(this.Form.date_InspectString.value+" "+t)}}getInspectorlistByVehiclPk(){if(this.setInspectionTime(),this.Form.inspStarttime.valid&&this.Form.inspEndtime.valid&&this.Form.date_Inspect.valid){let e=this.security.encrypt(this.vehiclpk),t=JSON.stringify({pk:e,date:this.security.encrypt(this.inspectionDate.controls.date_InspectString.value),startTime:this.security.encrypt(this.inspectionDate.controls.inspStarttimeString.value),endTime:this.security.encrypt(this.inspectionDate.controls.inspEndtimeString.value)});this.vehicleService.getInspectorlistByVehiclPk(t).subscribe(e=>{1==e.data.status?this.inspectorlist=e.data.data:(this.inspectorlist=[],ee()({title:this.i18n("There is no Inspector available at the Centre"),text:"",icon:"warning",dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}))})}}focusInvalidInput(e){for(const t of Object.keys(e.controls))if(e.controls[t].invalid){const e=this.el.nativeElement.querySelector('[formcontrolname="'+t+'"]');e&&e.focus();break}}get Form(){return this.inspectionDate.controls}cancle(){this.inspectionDate.touched?ee()({title:this.i18n("Do you want to cancel submitting this Vehicle Renew Form?"),text:this.i18n("If yes, any unsaved data will be lost."),icon:"warning",buttons:[this.i18n("No"),this.i18n("Yes")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then(e=>{e&&(this.inspectionDate.reset(),this.Vehiclelist())}):(this.inspectionDate.reset(),this.Vehiclelist())}Vehiclelist(){1==this.stktype&&this.router.navigate(["/vehiclemanagement/list"]),this.router.navigate(["/vehiclemanagement/vehiclelisting"])}SetUseraccess(){let e=this.localstorage.getaccessmoduleid(this.stktype,"Vehicle Inspection and Approval");this.useraccess[e]&&"Y"==this.useraccess[e][27].create&&(this.createaccess=!0)}};Ce.ctorParameters=()=>[{type:o.e},{type:le.b},{type:K.g},{type:o.e},{type:a.v},{type:se.a},{type:U.c},{type:Q.a},{type:X.a},{type:ie},{type:ce.a},{type:K.a}],Ce=Object(r.c)([Object(a.n)({selector:"app-inspectiondetials",template:Object(r.d)(n("juUS")).default,encapsulation:a.pb.None,providers:[{provide:I.c,useClass:te.b},{provide:I.e,useValue:te.a}],styles:[Object(r.d)(n("m3EJ")).default]}),Object(r.e)("design:paramtypes",[o.e,le.b,K.g,o.e,a.v,se.a,U.c,Q.a,X.a,ie,ce.a,K.a])],Ce);let _e=class{constructor(e,t,n,r,a,i,s,l,o,c){this.toastr=e,this.activatedRoute=t,this.router=n,this.formBuilder=r,this.el=a,this.translate=i,this.remoteService=s,this.cookieService=l,this.rasservice=o,this.localstorage=c,this.approved=!0,this.ifarbic=!1,this.loader=!1,this.isSupervisor=!1,this.isVerifier=!1,this.canValidate=!1,this.InspectionTemplate="Offline",this.languagelist=[{id:"1",languageName:"English",languagecode:"en",CountryMst_Pk:"136",dir:"ltr"},{id:"2",languageName:"Arabic",languagecode:"ar",CountryMst_Pk:"31",dir:"rtl"}],this.dir="ltr"}i18n(e){return this.translate.instant(e)}ngOnInit(){if(this.isfocalpoint=this.localstorage.getInLocal("isfocalpoint"),this.stktype=this.localstorage.getInLocal("stktype"),this.userPk=this.localstorage.getInLocal("userPk"),this.roles=this.localstorage.getInLocal("role"),2==this.isfocalpoint&&(this.useraccess=this.localstorage.getInLocal("uerpermission"),this.SetUseraccess()),2==this.isfocalpoint&&(this.roles.includes(17)&&(this.isVerifier=!0),this.roles.includes(18)&&(this.isSupervisor=!0)),this.activatedRoute.queryParams.subscribe(e=>{console.log("****************************"),console.log(e),this.pk=e.p,this.status=e.sts,this.pk?(this.loader=!0,this.rasservice.getrasgridviewdata(this.pk).subscribe(e=>{this.viewdata=e.data.viewdata,this.vehiclepk=e.data.viewdata.rasvehicleregdtls_pk,this.loader=!1})):this.Vehiclelist()}),this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}this.cookieService.get("languageCode")&&"ar"==this.cookieService.get("languageCode")?this.ifarbic=!0:this.ifarbic=!1,this.remoteService.getLanguageCookie().subscribe(e=>{if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}}),this.hideShow(),this.shoWHideview()}hideShow(){this.activatedRoute.queryParams.subscribe(e=>{this.parampage=e.bc})}shoWHideview(){"spym"==this.parampage?(this.ViewinspectStatus=!0,this.readaccess||this.adminreadaccess||2!=this.isfocalpoint||this.Vehiclelist()):(this.approvalaccess||2!=this.isfocalpoint||this.Vehiclelist(),this.ViewinspectStatus=!1,2==this.status&&this.isVerifier||4==this.status&&this.isSupervisor?this.canValidate=!0:this.canValidate=!1),this.loader=!0,this.getInspectionDetails()}getInspectionDetails(){this.pk&&this.rasservice.getInspectionDtls(this.pk).subscribe(e=>{1==e.data.status?(this.inspcData=e.data.data,this.inspcData.rvrd_inspectorname==this.userPk?this.canValidate=!1:this.canValidate=!0,this.ChkInspType(this.inspcData.inspType),this.status=this.inspcData.rvrd_inspectionstatus,1==this.status&&(this.inspcData=null),this.inspcData.checklist?(this.onlinechklistresponse=this.inspcData.checklist,console.log(this.onlinechklistresponse[0])):this.onlinechklistresponse=[],4==this.status||3==this.status?this.approved=!0:this.approved=!1,this.loader=!1):(this.loader=!1,this.inspcData=null)})}moveToSupervisor(e){this.loader=!0;let t={vehicleregpk:this.pk,verifierStatus:3==e.status?1:2,verifierComments:e.comments};this.rasservice.moveToSupervisor(t).subscribe(e=>{1==e.data.status?(this.toastr.success(this.i18n("This Vehicle Form has been moved to the Supervisor."),""),this.Vehiclelist()):ee()({title:this.i18n("The Vehicle Registration form has already been Verified (Approved or Decline)."),icon:"warning",className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}),this.loader=!1})}Vehiclelist(){1==this.stktype&&this.router.navigate(["/vehiclemanagement/list"]),this.router.navigate(["/vehiclemanagement/vehiclelisting"])}IssueSticker(e){this.loader=!0,console.log(e);let t={vehicleregpk:this.pk,supervisorStatus:3==e.status?1:2,supervisorComments:e.comments};this.rasservice.IssueSticker(t).subscribe(e=>{1==e.data.status?(this.loader=!1,this.toastr.success(this.i18n("The Sticker has been Issued for the Vehicle."),""),this.Vehiclelist()):(this.loader=!1,ee()({title:this.i18n("The Vehicle Registration form has already been Verified (Approved or Decline)."),icon:"warning",className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}),this.Vehiclelist())})}moveToInspector(e){this.loader=!0;let t={vehicleregpk:this.pk,validationStatus:3==e.status?1:2,validationComments:e.comments,status:this.status};this.rasservice.moveToInspector(t).subscribe(e=>{1==e.data.status?(this.toastr.success(this.i18n("The Vehicle Form has been moved to the Inspector."),""),this.Vehiclelist()):(ee()({title:this.i18n("This Vehicle Registration Form was verified/declined already."),icon:"warning",className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}),this.Vehiclelist()),this.loader=!1})}ChkInspType(e){this.InspectionTemplate=1==e?"Online":"Offline",this.loader=!1}SetUseraccess(){let e=this.localstorage.getaccessmoduleid(this.stktype,"Vehicle Inspection and Approval");this.useraccess[e]&&this.useraccess[e][27]&&"Y"==this.useraccess[e][27].approval&&(this.approvalaccess=!0),this.useraccess[e]&&this.useraccess[e][27]&&"Y"==this.useraccess[e][27].read&&(this.readaccess=!0);let t=this.localstorage.getaccessmoduleid(this.stktype,"RAS Vehicle Management");this.useraccess[t]&&this.useraccess[t][30]&&"Y"==this.useraccess[t][30].read&&(this.adminreadaccess=!0)}};_e.ctorParameters=()=>[{type:le.b},{type:K.a},{type:K.g},{type:o.e},{type:a.v},{type:U.c},{type:Q.a},{type:X.a},{type:ie},{type:ce.a}],Object(r.c)([Object(a.H)(),Object(r.e)("design:type",Object)],_e.prototype,"parampage",void 0),_e=Object(r.c)([Object(a.n)({selector:"app-viewapproval",template:Object(r.d)(n("Jwcu")).default,encapsulation:a.pb.None,styles:[Object(r.d)(n("HolE")).default]}),Object(r.e)("design:paramtypes",[le.b,K.a,K.g,o.e,a.v,U.c,Q.a,X.a,ie,ce.a])],_e);let Ie=class{constructor(e,t,n,r,a,i,s,l,o,c){this._componentFactoryResolver=e,this.fb=t,this.toastr=n,this.router=r,this.translate=a,this.remoteService=i,this.cookieService=s,this.routeid=l,this.localstorage=o,this.rasservice=c,this.displaycounts=!1,this.SaveVehicleDtlsBtn={active:!1,spinnerSize:25,text:this.i18n("Submit"),raised:!1,stroked:!1,buttonColor:"primary",spinnerColor:"warn",fullWidth:!0,disabled:!1,mode:"indeterminate"},this.languagelist=[{id:"1",languageName:"English",languagecode:"en",CountryMst_Pk:"136",dir:"ltr"},{id:"2",languageName:"Arabic",languagecode:"ar",CountryMst_Pk:"31",dir:"rtl"}],this.dir="ltr",this.today=new Date}i18n(e){return this.translate.instant(e)}ngOnInit(){if(this.stktype=this.localstorage.getInLocal("stktype"),this.isfocalpoint=this.localstorage.getInLocal("isfocalpoint"),console.log(this.stktype),1==this.stktype&&1==this.isfocalpoint||this.router.navigate(["/admin/login"]),this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,"en"==e.languagecode?this.filtername="Hide Filter":this.filtername="\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629"}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,this.filtername="Hide Filter"}this.cookieService.get("languageCode")&&"ar"==this.cookieService.get("languageCode")?this.ifarabic=!0:this.ifarabic=!1,this.PageLoaders=!0,this.regpk=this.localstorage.getInLocal("registerPk"),this.remoteService.getLanguageCookie().subscribe(e=>{if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,"en"==e.languagecode?this.filtername="Hide Filter":this.filtername="\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629"}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir,this.filtername="Hide Filter"}this.cookieService.get("languageCode")&&"ar"==this.cookieService.get("languageCode")?this.ifarabic=!0:this.ifarabic=!1}),this.initialise()}initialise(){this.drv_doc_upload={fileMstPk:20,selectedFilesPk:[]},this.rasservice.getsamplefileurl().subscribe(e=>{this.sampleurl=e.data.templateurl,this.PageLoaders=!1})}fileeSelected(e,t){return Object(r.b)(this,void 0,void 0,(function*(){this.file=e[0],this.PageLoaders=!0,this.file&&this.rasservice.ExcelImportValidate(this.file).subscribe(e=>{this.PageLoaders=!1,document.getElementById("totalrecords").innerHTML=e.data.total,document.getElementById("uploadsuccess").innerHTML=e.data.success,document.getElementById("uploadfailure").innerHTML=e.data.failed,this.errors=e.data.errorarray,this.errors&&(this.exportToCSV(),this.displaycounts=!0)})}))}exportToCSV(){if(this.errors.length>0){console.log(this.errors[-1]);var e="<b>Error Message,Company Name,RAS Centre Name,Office Type,Branch Name,Vehicle Owner Name (English),CR Number,Vehicle Registration Number,Chassis No.,Vehicle Category,Road Type,Date of Inspection,Inspector Name,Date of Expiry,RASIC Number,Verification Code,Sticker Status,Created on<\b>\n";this.errors.forEach((function(t){e+='"'+t.Over_all_Comments+'",',e+='"'+t["Company Name"]+'",',e+='"'+t["RAS Centre Name"]+'",',e+='"'+t["Office Type"]+'",',e+='"'+t["Branch Name"]+'",',e+='"'+t["Vehicle Owner Name (English)"]+'",',e+='"'+t["CR Number"]+'",',e+='"'+t["Vehicle Registration Number"]+'",',e+='"'+t["Chassis No."]+'",',e+='"'+t["Vehicle Category"]+'",',e+='"'+t["Road Type"]+'",',e+='"'+t["Date of Inspection"]+'",',e+='"'+t["Inspector Name"]+'",',e+='"'+t["Date of Expiry"]+'",',e+='"'+t["RASIC Number"]+'",',e+='"'+t["Verification Code"]+'",',e+='"'+t["Sticker Status"]+'",',e+='"'+t["Created on"]+'",',e+="\n"}));var t=document.createElement("a");var n=(new Date).getTime();t.href="data:text/csv;charset=utf-8,"+encodeURI(e),t.target="_blank",t.download="Error_Log"+n+".csv",t.click()}}uploadanother(){this.sampleurl=null,this.file=null,this.drv_doc_upload.selectedFilesPk=[],this.errors=null,this.displaycounts=!1,this.assesmentrepot.triggerChange(),this.initialise()}close(){this.router.navigate(["/dashboard/portaladmin"])}};Ie.ctorParameters=()=>[{type:a.p},{type:o.e},{type:le.b},{type:K.g},{type:U.c},{type:Q.a},{type:X.a},{type:K.a},{type:ce.a},{type:ie}],Object(r.c)([Object(a.mb)("excelFilee"),Object(r.e)("design:type",we.a)],Ie.prototype,"excelFilee",void 0),Object(r.c)([Object(a.mb)("assesmentrepot"),Object(r.e)("design:type",we.a)],Ie.prototype,"assesmentrepot",void 0),Ie=Object(r.c)([Object(a.E)({providedIn:"root"}),Object(a.n)({selector:"app-vehicleimport",template:Object(r.d)(n("PL4C")).default,encapsulation:a.pb.None,providers:[],styles:[Object(r.d)(n("Arh1")).default]}),Object(r.e)("design:paramtypes",[a.p,o.e,le.b,K.g,U.c,Q.a,X.a,K.a,ce.a,ie])],Ie);const Se=[{path:"",children:[{path:"vehiclelisting",component:me,canActivate:[W.a],data:{title:"Vehicle Inspection and Approval",urls:[{title:"Vehicle Inspection and Approval",url:"/vehiclemanagement/vehiclelisting"}]}},{path:"list",component:me,canActivate:[W.a],data:{title:"RAS Vehicle Management",urls:[{title:"RAS Vehicle Management",url:"/vehiclemanagement/list"}]}},{path:"vehicleregister",component:be,canActivate:[W.a],data:{title:"Vehicle Registration Form",urls:[{title:"Vehicle Registration Form",url:"/vehiclemanagement/vehicleregister"}]}},{path:"editVehicle/:vcl_id",component:be,canActivate:[W.a],data:{title:"Edit - Vehicle Registration Form",urls:[{title:"Edit - Vehicle Registration Form",url:"/vehiclemanagement/editVehicle/:vcl_id"}]}},{path:"importexcel",component:Ie,canActivate:[W.a],data:{title:"Edit - Vehicle Registration Form",urls:[{title:"Import - Vehicle Data",url:"/vehiclemanagement/importexcel"}]}},{path:"vehicleinspection/:vcl_id",component:ke,canActivate:[W.a],data:{title:"Vehicle Inspection and Approval",urls:[{title:"Vehicle Inspection and Approval",url:"/vehiclemanagement/vehiclelisting"},{title:"Inspect Now",url:"/vehiclemanagement/vehicleinspection/:vcl_id"}]}},{path:"vehicleinspection/:type/:vcl_id",component:ke,canActivate:[W.a],data:{title:"Vehicle Inspection and Approval",urls:[{title:"Vehicle Inspection and Approval",url:"/vehiclemanagement/vehiclelisting"},{title:"Upload Inspection Report",url:"/vehiclemanagement/vehicleinspection/edit/:vcl_id"}]}},{path:"vehicleinspection_info/:vcl_id",component:Ce,canActivate:[W.a],data:{title:"Vehicle Inspection and Approval",urls:[{title:"Vehicle Inspection and Approval",url:"/vehiclemanagement/vehiclelisting"},{title:"Renew Now",url:"/vehiclemanagement/vehicleinspection_info"}]}},{path:"vehicleinspection_info",component:Ce,canActivate:[W.a],data:{title:"Vehicle Inspection and Approval",urls:[{title:"Vehicle Inspection and Approval",url:"/vehiclemanagement/vehicleinspection_info"},{title:"Renew Now",url:"/vehiclemanagement/vehicleinspection_info"}]}},{path:"vehicleinspectionstatus",component:_e,canActivate:[W.a],data:{title:"Vehicle Inspection and Approval",urls:[{title:"Vehicle Inspection and Approval",url:"/vehiclemanagement/vehicleinspectionstatus"}]}},{path:"vehicleinspectionstatus/view",component:_e,canActivate:[W.a],data:{title:"Vehicle Inspection and Approval",urls:[{title:"Vehicle Inspection and Approval",url:"/vehiclemanagement/vehiclelisting"},{title:"View Details",url:"/vehiclemanagement/vehicleinspectionstatus"}]}},{path:"vehicleinspectionstatus/approved",component:_e,canActivate:[W.a],data:{title:"Vehicle View & Approve",urls:[{title:"Vehicle Inspection and Approval",url:"/vehiclemanagement/vehiclelisting"},{title:"View & Approve",url:"/vehiclemanagement/vehicleinspectionstatus"}]}}]}];let Fe=class{};Fe=Object(r.c)([Object(a.M)({imports:[K.i.forChild(Se)],exports:[K.i]})],Fe);let De=class{constructor(e,t,n,r,a){this.translate=e,this.remoteService=t,this.cookieService=n,this.security=r,this.vehicleService=a,this.ifarbic=!1,this.viewdata=[],this.languagelist=[{id:"1",languageName:"English",languagecode:"en",CountryMst_Pk:"136",dir:"ltr"},{id:"2",languageName:"Arabic",languagecode:"ar",CountryMst_Pk:"31",dir:"rtl"}],this.dir="ltr"}ngOnInit(){if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}this.cookieService.get("languageCode")&&"ar"==this.cookieService.get("languageCode")?this.ifarbic=!0:this.ifarbic=!1,this.remoteService.getLanguageCookie().subscribe(e=>{if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}this.cookieService.get("languageCode")&&"ar"==this.cookieService.get("languageCode")?this.ifarbic=!0:this.ifarbic=!1}),this.getVehicleInformation()}getVehicleInformation(){let e=this.security.encrypt(this.vehiclepk);this.vehicleService.getVehicleDtlsByPk(e).subscribe(e=>{this.viewdata=e.data})}};De.ctorParameters=()=>[{type:U.c},{type:Q.a},{type:X.a},{type:se.a},{type:ie}],Object(r.c)([Object(a.H)("vehiclepk"),Object(r.e)("design:type",Object)],De.prototype,"vehiclepk",void 0),De=Object(r.c)([Object(a.n)({selector:"app-vehicleinfobox",template:Object(r.d)(n("gmiF")).default,encapsulation:a.pb.None,styles:[Object(r.d)(n("qtVM")).default]}),Object(r.e)("design:paramtypes",[U.c,Q.a,X.a,se.a,ie])],De);var Ve=n("Tp9K");const Ae=re.a||ne;let Oe=class{constructor(e,t,n,r,a,i,s,l){this.fb=e,this.router=t,this.formBuilder=n,this.el=r,this.translate=a,this.remoteService=i,this.cookieService=s,this.routeid=l,this.matcher=new I.d,this.languagelist=[{id:"1",languageName:"English",languagecode:"en",CountryMst_Pk:"136",dir:"ltr"},{id:"2",languageName:"Arabic",languagecode:"ar",CountryMst_Pk:"31",dir:"rtl"}],this.dir="ltr",this.modelYear=new o.f("")}i18n(e){return this.translate.instant(e)}ngOnInit(){if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}this.remoteService.getLanguageCookie().subscribe(e=>{if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){const e=this.languagelist.find(e=>e.id===this.cookieService.get("languageCookieId"));this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}else{const e=this.languagelist.find(e=>"1"==e.id);this.translate.setDefaultLang(e.languagecode),this.dir=e.dir}})}chosenYearHandler(e,t){this.modelYear=new o.f(Ae());const n=this.modelYear.value;n.year(e.year()),this.modelYear.setValue(n),t.close(),console.log(this.modelYear.value,n)}};function Le(e){return new J.a(e,"./assets/i18n/vehiclemanagement/",".json")}Oe.ctorParameters=()=>[{type:o.e},{type:K.g},{type:o.e},{type:a.v},{type:U.c},{type:Q.a},{type:X.a},{type:K.a}],Object(r.c)([Object(a.H)(),Object(r.e)("design:type",o.h)],Oe.prototype,"vehicleForm",void 0),Oe=Object(r.c)([Object(a.n)({selector:"app-vehicleyearpicker",template:Object(r.d)(n("tmjS")).default,encapsulation:a.pb.None,providers:[{provide:I.c,useClass:fe.b,deps:[I.f,fe.a]},{provide:I.e,useValue:{parse:{dateInput:"YYYY"},display:{dateInput:"YYYY",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}}}],styles:[Object(r.d)(n("GmXZ")).default]}),Object(r.e)("design:paramtypes",[o.e,K.g,o.e,a.v,U.c,Q.a,X.a,K.a])],Oe);let Ne=class{};Ne=Object(r.c)([Object(a.M)({declarations:[me,be,De,ke,Ce,_e,Oe,Ie],imports:[i.c,Fe,s.b,l.a,c.a,d.a,l.a,o.u,o.k,p.b,m.b,h.a,u.a,f.b,g.a,v.e,b.e,x.a,y.a,w.b,k.c,C.a,_.a,I.m,S.c,F.b,D.a,V.a,I.u,A.b,O.c,L.a,N.a,P.c,E.b,T.c,R.b,M.b,q.a,j.c,Y.a,B.a,H.b,z.c,G.a,Ve.a,U.b.forChild({loader:{provide:U.a,useFactory:Le,deps:[j.b]}})],providers:[i.f]})],Ne)},eydS:function(e,t,n){"use strict";n.r(t),t.default='<div id="vehicleformpage" fxLayoutAlign="center start">\r\n    <app-responseloader *ngIf="PageLoaders"></app-responseloader>\r\n    <div class="vehicleinspection" fxFlex="100" fxFlex.gt-sm="100">\r\n        <form autocomplete="off" [formGroup]="vehicleForm" (ngSubmit)="Vehicleregister()">\r\n            <div class="secondtab" fxLayout="row wrap" fxLayoutAlign="flex-start center">\r\n                <div fxFlex.gt-sm="50" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'Office Type\' | translate}}</mat-label> \r\n                        <mat-select formControlName="offtype" (selectionChange)="selectOffice(Form.offtype.value)"\r\n                         required   panelClass="select_with_search"  [disableOptionCentering]="true">\r\n                            <mat-option value="1" *ngIf="mainofficeappl">{{\'Main Office\' |translate}}</mat-option>\r\n                            <mat-option value="2"  *ngIf="branchlist?.length > 0">{{\'Branch Office\' |translate}}</mat-option>\r\n                           \r\n                        </mat-select>\r\n                        <mat-error *ngIf="Form.offtype.errors?.required || Form.submitted">\r\n                            {{\'Select the Office Type from the drop-down\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n\r\n            <div fxLayout="row wrap" class="p-t-10" fxLayoutAlign="space-between center"  *ngIf="Form.offtype.value == 2">\r\n                <div fxFlex.gt-sm="100" fxFlex="100" class="paddingspacing" ngClass.sm="m-0">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'Branch Name\' | translate}} </mat-label>\r\n                        <mat-select formControlName="brancheng" [errorStateMatcher]="matcher"\r\n                                panelClass="myPanelClass" (closed)="searchBranch = \'\'" required\r\n                                (selectionChange)="selectedBranch= $event.source.triggerValue;selectedBranchDtl(Form.brancheng.value)"\r\n                                *ngIf="(branchlist | filter: searchBranch ) as branchresult"\r\n                                panelClass="select_with_search">\r\n                                <div class="searchinmultiselect">\r\n                                    <mat-icon class="">search</mat-icon>\r\n                                    <input (keydown.enter)="$event.preventDefault()" appAlphanumsymb matInput\r\n                                        class="searchselect" type="Search" placeholder="{{\'Search\' | translate}}"\r\n                                        (keydown)="$event.stopPropagation();" [(ngModel)]="searchBranch"\r\n                                        [ngModelOptions]="{standalone: true}" autocomplete="off">\r\n                                    <mat-icon (click)="searchBranch = \'\'" class="reseticon" matSuffix\r\n                                        *ngIf="searchBranch !=\'\' && searchBranch !=null">clear</mat-icon>\r\n                                </div>\r\n                                <div class="option-listing">\r\n                                    <mat-option *ngFor="let list of branchlist | filter: searchBranch"\r\n                                        [value]="list.appmainpk">\r\n                                        {{(ifarabic == true?\r\n                                            (list.branchname_ar):(list.branchname_en))}}\r\n                                    </mat-option>\r\n                                    <div class="p-t-10 p-l-16 p-b-5" *ngIf="branchresult.length == 0">\r\n                                        {{\'course.nofound\' | translate}}  \r\n                                    </div>\r\n                                </div>\r\n                            </mat-select>\r\n                                <mat-error *ngIf="Form.brancheng.errors?.required || Form.submitted">\r\n                            {{\'Select the Branch Name from the drop-down\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'Owner Name (English)\' | translate}} </mat-label>\r\n                        <input  (keydown.enter)="$event.preventDefault()"\r\n                            [errorStateMatcher]="matcher" matInput app-restrict-input="englishspace"  [matAutocomplete]="auto" \r\n                            required formControlName="ownName" (keyup)="getpreviouslist($event.target.value,1)" >\r\n                        <mat-autocomplete #auto="matAutocomplete" >\r\n                          <mat-option (onSelectionChange)="setcrnumber(item,1)" *ngFor="let item of ownerlist" [value]="item.name_en">\r\n                            {{ item.name_en }}\r\n                          </mat-option>\r\n                        </mat-autocomplete>\r\n                        <mat-error *ngIf="Form.ownName.errors?.required || Form.submitted">\r\n                            {{\'Enter the Owner Name in English\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                    ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100">\r\n                    <mat-form-field appearance="outline"  class="arabiclanguage">\r\n                        <mat-label>{{\'Owner Name (Arabic)\' | translate}} </mat-label>\r\n                        <input (keydown.enter)="$event.preventDefault()" \r\n                            [errorStateMatcher]="matcher" matInput app-restrict-input="arabic" appAlphabetonly \r\n                            required formControlName="ownNameArb" >\r\n                            \x3c!-- <mat-autocomplete #auto2="matAutocomplete" >\r\n                          <mat-option (onSelectionChange)="setcrnumber(item2,2)" *ngFor="let item2 of ownerlist" [value]="item2.name_ar">\r\n                            {{ item2.name_ar }}\r\n                          </mat-option>\r\n                        </mat-autocomplete> --\x3e\r\n                        <mat-error *ngIf="Form.ownNameArb.errors?.required || Form.submitted">\r\n                            {{\'Enter the Owner Name in Arabic\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'CR Number\' | translate}} </mat-label>\r\n                        <input  (keydown.enter)="$event.preventDefault()" \r\n                            [errorStateMatcher]="matcher" matInput  app-restrict-input="numspecsymbol" \r\n                            required formControlName="crNumber" >\r\n                        <mat-error *ngIf="Form.crNumber.errors?.required || Form.submitted">\r\n                            {{\'Enter the CR Number\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100">\r\n                <mat-form-field appearance="outline">\r\n                    <mat-label>{{\'Vehicle Registration Number\' | translate}} </mat-label>\r\n                    <input  (keydown.enter)="$event.preventDefault()" (keyup)="checkByType(Form.vehiclenumber.value,\'vehiclenumber\')"\r\n                        [errorStateMatcher]="matcher" matInput app-restrict-input="firstspace"\r\n                        required formControlName="vehiclenumber" >\r\n                    <mat-error *ngIf="Form.vehiclenumber.errors?.required || Form.submitted">\r\n                        {{\'Enter the Vehicle Registration Number\' | translate}} </mat-error>\r\n                    <mat-error *ngIf="Form.vehiclenumber.errors?.pattern">\r\n                            {{\'Invalid Format, kindly provide Vehicle number in the format \\\'123-XYZ\\\'\' | translate}} </mat-error>\r\n                    <mat-error *ngIf="Form.vehiclenumber.errors?.alreadyavailable">\r\n                            {{\'This Vehicle Registration Number is already registered. Please enter a different Number.\' | translate}} </mat-error>\r\n                </mat-form-field>\r\n            </div>\r\n            </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'Chassis Number\' | translate}} </mat-label>\r\n                        <input  (keydown.enter)="$event.preventDefault()" (keyup)="checkByType(Form.chassNumber.value,\'chassNumber\')"\r\n                            [errorStateMatcher]="matcher" matInput app-restrict-input="firstspace"\r\n                            required formControlName="chassNumber" >\r\n                        <mat-error *ngIf="Form.chassNumber.errors?.required || Form.submitted">\r\n                            {{\'Enter the Chassis Number\' | translate}} </mat-error>\r\n                            <mat-error *ngIf="Form.chassNumber.errors?.alreadyavailable">\r\n                                {{\'This Chassis Number is already registered. Please enter a different Number.\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'Odometer Reading (in KM) \' | translate}} </mat-label>\r\n                        <input  (keydown.enter)="$event.preventDefault()" [errorStateMatcher]="matcher" matInput appNumberonly maxlength="7"\r\n                            required formControlName="odometer" >\r\n                        <mat-error *ngIf="Form.odometer.errors?.required || Form.submitted">\r\n                            {{\'Enter the Odometer Reading (in KM)\' | translate}} </mat-error>\r\n                    \r\n                    </mat-form-field>\r\n                </div>\r\n                \r\n            </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'IVMS Serial Number\' | translate}} </mat-label>\r\n                        <input  (keydown.enter)="$event.preventDefault()"\r\n                            [errorStateMatcher]="matcher" matInput app-restrict-input="firstspace"\r\n                            required formControlName="ivmsNumber" >\r\n                        <mat-error *ngIf="Form.ivmsNumber.errors?.required || Form.submitted">\r\n                            {{\'Enter the IVMS Serial Number\' | translate}} </mat-error>\r\n                        </mat-form-field>\r\n                    \r\n                </div>\r\n                <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30" ngClass.lg="p-l-30"\r\n                    ngClass.xl="p-l-30" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'IVMS Vendor Name\' | translate}} </mat-label>\r\n                        <input (keydown.enter)="$event.preventDefault()" [errorStateMatcher]="matcher" matInput app-restrict-input="englishspace" \r\n                            required formControlName="ivmsvendorname" app-restrict-input="firstspace">\r\n                        <mat-error *ngIf="Form.ivmsvendorname.errors?.required || Form.submitted">\r\n                            {{\'Enter the IVMS Vendor Name\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                    \r\n                </div>\r\n            </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'IVMS Device Model\' | translate}} </mat-label>\r\n                        <input (keydown.enter)="$event.preventDefault()" [errorStateMatcher]="matcher" matInput\r\n                            required formControlName="ivmsdeviceno" app-restrict-input="firstspace">\r\n                        <mat-error *ngIf="Form.ivmsdeviceno.errors?.required || Form.submitted">\r\n                            {{\'Enter the IVMS Device Model\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                    \r\n                  </div>\r\n                  <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                      ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100">\r\n                      <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'Speed Limiter Serial Number\' | translate}} </mat-label>\r\n                        <input  (keydown.enter)="$event.preventDefault()"\r\n                            [errorStateMatcher]="matcher" matInput \r\n                            required formControlName="speedlimit" app-restrict-input="firstspace">\r\n                        <mat-error *ngIf="Form.speedlimit.errors?.required || Form.submitted">\r\n                            {{\'Enter the Speed Limiter Serial Number\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                        \r\n                   </div>\r\n            </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-select [errorStateMatcher]="matcher" required formControlName="vehiclecat"\r\n                            panelClass="select_with_search" (selectionChange)="getInspectorname()"\r\n                            [disableOptionCentering]="true">\r\n                            <div class="searchinmultiselect">\r\n                                <mat-icon class="">search</mat-icon>\r\n                                <input (keydown.enter)="$event.preventDefault()" appAlphanumsymb\r\n                                    matInput class="searchselect" type="Search"\r\n                                    placeholder="{{\'Search\' | translate}} "\r\n                                    (keydown)="$event.stopPropagation();" [(ngModel)]="searchVehicleCat"\r\n                                    *ngIf="(categoryList | filter : searchVehicleCat) as vehiclecatresult"\r\n                                    [ngModelOptions]="{standalone: true}" autocomplete="off">\r\n                                <mat-icon (click)="searchVehicleCat = \'\'" class="reseticon" matSuffix\r\n                                    *ngIf="searchVehicleCat !=\'\' && searchVehicleCat !=null">clear</mat-icon>\r\n                            </div>\r\n\r\n                             <div class="option-listing countryselectwithimage">\r\n                                <mat-option *ngFor="let list of categoryList | filter : searchVehicleCat"\r\n                                    [value]="list.rascatpk">\r\n                                    {{(ifarabic == true?\r\n                                        (list.category_ar):(list.category_en))}}\r\n                                   \r\n                                </mat-option>\r\n                                <div *ngIf="vehiclecatresult?.length == 0">{{\'maincenter.nofoun\' |\r\n                                    translate}}</div>\r\n                            </div>\r\n                        </mat-select>\r\n\r\n                        <mat-label>{{\'Vehicle Category\' | translate}}</mat-label>\r\n                        <mat-error *ngIf="Form.vehiclecat.errors?.required || Form.submitted">\r\n                            {{\'Select the Vehicle Category from the drop-down\' | translate}}\r\n                        </mat-error>\r\n                    </mat-form-field>\r\n                    \r\n                  </div>\r\n                  <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                      ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100">\r\n                      <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'Vehicle Fleet Number\' | translate}} </mat-label>\r\n                        <input  (keydown.enter)="$event.preventDefault()"\r\n                            [errorStateMatcher]="matcher" matInput \r\n                            required formControlName="fleetNumber" app-restrict-input="firstspace">\r\n                        <mat-error *ngIf="Form.fleetNumber.errors?.required || Form.submitted">\r\n                            {{\'Enter the Vehicle Fleet Number\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                        \r\n                   </div>\r\n            </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-select [errorStateMatcher]="matcher" required formControlName="roadType"\r\n                            panelClass="select_with_search"\r\n                            [disableOptionCentering]="true">\r\n                            <div class="searchinmultiselect">\r\n                                <mat-icon class="">search</mat-icon>\r\n                                <input (keydown.enter)="$event.preventDefault()" appAlphanumsymb\r\n                                    matInput class="searchselect" type="Search"\r\n                                    placeholder="{{\'Search\' | translate}} "\r\n                                    (keydown)="$event.stopPropagation();" [(ngModel)]="searchRoadtype"\r\n                                    *ngIf="(roadtypeList | filter : searchRoadtype) as roadtyperesult"\r\n                                    [ngModelOptions]="{standalone: true}" autocomplete="off">\r\n                                <mat-icon (click)="searchRoadtype = \'\'" class="reseticon" matSuffix\r\n                                    *ngIf="searchRoadtype !=\'\' && searchRoadtype !=null">clear</mat-icon>\r\n                            </div>\r\n\r\n                            <div class="option-listing countryselectwithimage">\r\n                                <mat-option *ngFor="let list of roadtypeList | filter : searchRoadtype"\r\n                                    [value]="list.pk">\r\n                                    {{ifarabic == true ? list.name_ar :\r\n                                        list.name_en}}\r\n                                </mat-option>\r\n                                <div *ngIf="roadtyperesult?.length == 0">{{\'maincenter.nofoun\' |\r\n                                    translate}}</div>\r\n                            </div>\r\n                        </mat-select>\r\n\r\n                        <mat-label>{{\'Road Type\' | translate}}</mat-label>\r\n                        <mat-error *ngIf="Form.roadType.errors?.required || Form.submitted">\r\n                            {{\'Select the Road Type from the drop-down\' | translate}}\r\n                        </mat-error>\r\n                    </mat-form-field>\r\n                    \r\n                </div>\r\n            <div fxFlex.gt-md="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0"  ngClass.md="p-l-0" ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100" class="date_exp">\r\n                <mat-form-field appearance="outline">\r\n                    <mat-label> {{\'First ROP Registration Date\' | translate}}</mat-label>\r\n                         <input matInput required formControlName="ropRegister" (mousedown)="picker3.open(); $event.preventDefault"\r\n                          [disabled]="picker3.opened" [matDatepicker]="picker3" readonly [max]="today">\r\n                         <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>\r\n                         <mat-datepicker #picker3></mat-datepicker>\r\n                          <mat-error *ngIf="Form.ropRegister.errors?.required || Form.submitted">\r\n                        {{\'Select the First ROP Registration Date\' | translate}} </mat-error> \r\n                </mat-form-field>\r\n                \r\n            </div>\r\n        </div>\r\n        <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n            <div fxFlex.gt-sm="50" fxFlex="100">\r\n                <mat-form-field appearance="outline">\r\n                    \r\n                    <mat-label> {{\'Model Year\' | translate}}</mat-label>\r\n                         \x3c!-- <input matInput required [formControl]="modelYear"  (mousedown)="dp.open(); $event.preventDefault;" \r\n                          [disabled]="dp.opened" [matDatepicker]="dp" readonly>\r\n                         <mat-datepicker-toggle matSuffix [for]="dp" ></mat-datepicker-toggle>\r\n                         <mat-datepicker #dp  startView="multi-year" \r\n                         (yearSelected)="chosenYearHandler($event, dp)"></mat-datepicker> --\x3e\r\n                         <input  (keydown.enter)="$event.preventDefault()"\r\n                         [errorStateMatcher]="matcher" matInput appNumberonly (change)="checkYear($event.target.value)"\r\n                         required formControlName="modelYear" maxlength="4" minlength="4">\r\n                          <mat-error *ngIf="Form.modelYear.errors?.required || Form.submitted">\r\n                        {{\'Enter the Model Year\' | translate}} </mat-error> \r\n                        <mat-error *ngIf="Form.modelYear.errors?.minlength">\r\n                            {{\'Enter Minimum 4 digit\' | translate}} </mat-error>\r\n                        <mat-error *ngIf="Form.modelYear.errors?.futureYear">\r\n                                {{\'Enter a Model Year that is earlier than the upcoming year.\' | translate}} </mat-error> \r\n                </mat-form-field>\r\n                \r\n            </div>\r\n            <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30" ngClass.lg="p-l-30"\r\n            ngClass.xl="p-l-30" fxFlex="100" >\r\n            <mat-form-field appearance="outline">\r\n                <mat-label> {{\'Date of Inspection\' | translate}}</mat-label>\r\n                     <input matInput required formControlName="inspectionDate" (mousedown)="picker.open(); $event.preventDefault" (dateChange)="setInspectionTime();getInspectorname()"\r\n                      [disabled]="picker.opened" [matDatepicker]="picker" readonly [min]="today" >\r\n                     <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>\r\n                     <mat-datepicker #picker></mat-datepicker>\r\n                      <mat-error *ngIf="Form.inspectionDate.errors?.required || Form.submitted">\r\n                    {{\'Select the Date of Inspection\' | translate}} </mat-error> \r\n            </mat-form-field>\r\n            \r\n            \r\n        </div>\r\n        </div>\r\n        <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n            <div fxFlex.gt-sm="50" fxFlex="100" class="drpickerhader m-b-24" >\r\n                <div class="drpickerasset timeaddpicker">\r\n                    <div fxLayoutAlign="flex-start" class="pos-relative">\r\n                        <div class="drpickerstartend borderbrfore">\r\n                            <mat-label class="txt-gry">{{\'Start Time\' |translate}} <span class="error red">*</span></mat-label>\r\n                            <mat-form-field class="beforrshow">\r\n                                \x3c!-- The timepicker input --\x3e\r\n    \r\n                                <input matTimepicker #t="matTimepicker"  (timeChange)="setInspectionTime();getInspectorname()"\r\n                                    [strict]="false" formControlName="inspStarttime" [maxDate]="Form.inspEndtime.value" \r\n                                    required>\r\n                                <mat-icon matSuffix (click)="t.showDialog()">access_time</mat-icon>\r\n                                <mat-error class="fs-13"\r\n                    *ngIf="Form.inspStarttime.errors?.required  || Form.inspEndtime.errors?.required  || Form.submitted">\r\n                    {{\'Select the Inspection Start time\' | translate}}   </mat-error>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class="drpickerstartend m-l-40">\r\n                            <mat-label class="txt-gry">{{\'End Time\' | translate}} <span class="error red">*</span></mat-label>\r\n                            <mat-form-field>\r\n                                <input matTimepicker #t="matTimepicker"\r\n                                    [minDate]="Form.inspStarttime.value"  (timeChange)="setInspectionTime();getInspectorname()"\r\n                                    [strict]="false" formControlName="inspEndtime" required>\r\n                                <mat-icon matSuffix (click)="t.showDialog()">access_time</mat-icon>\r\n                                <mat-error class="fs-13"\r\n                    *ngIf="Form.inspStarttime.errors?.required  || Form.inspEndtime.errors?.required  || Form.submitted">\r\n                    {{\'Select the Inspection End time\' | translate}}   </mat-error>\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n             </div>\r\n             <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100">\r\n                <mat-form-field appearance="outline">\r\n                    <mat-select [errorStateMatcher]="matcher" required formControlName="inspectorName"\r\n                      panelClass="select_with_search" (selectionChange)="selectinspector($event.value)"\r\n                        [disableOptionCentering]="true">\r\n                        <div class="searchinmultiselect">\r\n                            <mat-icon class="">search</mat-icon>\r\n                            <input (keydown.enter)="$event.preventDefault()" appAlphanumsymb\r\n                                matInput class="searchselect" type="Search"\r\n                                placeholder="{{\'Search\' | translate}} "\r\n                                (keydown)="$event.stopPropagation();" [(ngModel)]="searchcountry"\r\n                                *ngIf="(inspectorlist | filter : searchcountry) as intyperesult"\r\n                                [ngModelOptions]="{standalone: true}" autocomplete="off">\r\n                            <mat-icon (click)="searchcountry = \'\'" class="reseticon" matSuffix\r\n                                *ngIf="searchcountry !=\'\' && searchcountry !=null">clear</mat-icon>\r\n                        </div>\r\n  \r\n                        <div class="option-listing countryselectwithimage">\r\n                            <mat-option *ngFor="let inspc of inspectorlist | filter : searchcountry"\r\n                                [value]="inspc.pk">\r\n                                {{ifarabic == true ? inspc.oum_firstname :\r\n                                  inspc.oum_firstname}}\r\n                            </mat-option>\r\n                            <div *ngIf="intyperesult?.length == 0">{{\'maincenter.nofoun\' |\r\n                                translate}}</div>\r\n                        </div>\r\n                    </mat-select>\r\n  \r\n                    <mat-label>{{\'Inspector Name\' | translate}}</mat-label>\r\n                    <mat-error *ngIf="Form.inspectorName.errors?.required || Form.submitted">\r\n                        {{\'Select the Inspector Name from the drop-down\' | translate}}\r\n                    </mat-error>\r\n                </mat-form-field>\r\n             </div> \r\n         </div>\r\n        <div fxLayout="row wrap" fxLayoutAlign="flex-end center" class="btngroup m-t-20">\r\n            <button mat-raised-button type="button"  (click)="cancle();"\r\n            class="transformbtn m-r-15">{{\'Cancel\' | translate}}</button>\r\n            <button mat-raised-button type="submit" \r\n            class="submit_btn"><span *ngIf="Form.isedit.value != 1">{{\'Submit\' | translate}}</span><span *ngIf="Form.isedit.value == 1">{{\'Update\' | translate}}</span></button>   \r\n            \x3c!-- <mat-spinner-button mat-raised-button class="savebtn m-l-15"\r\n                        [options]="SaveVehicleDtlsBtn"></mat-spinner-button> --\x3e\r\n        </div>\r\n        </form>\r\n    </div>\r\n</div>'},gmiF:function(e,t,n){"use strict";n.r(t),t.default='<div fxLayoutAlign="center start" id="infoBox">\r\n    <div fxFlex="100" fxFlex.gt-sm="100">\r\n        <div class="knowledgegrid m-t-10 m-b-20 p-10" fxLayout="column">\r\n                <div class="head" fxLayout="row wrap" fxLayoutAlign="space-between center">\r\n                    <div class="owner_name">\r\n                        <p class="text-gray m-0 fs-16 p-b-6">{{\'Owner Name\' | translate }}</p>\r\n                        <h2 class="headcolor fs-18 m-0 lh-15">\r\n                          {{ifarbic == true ? (viewdata.owner_ar):\r\n                            (viewdata.owner_en)}}\r\n                        </h2>\r\n                    </div>\r\n                  \x3c!-- <div class="meuoption">\r\n                    <button class="menubutton" mat-icon-button [matMenuTriggerFor]="actionmenu"\r\n                    aria-label="Example icon-button with a menu">\r\n                    <mat-icon class="moremenucolor">more_horiz</mat-icon>\r\n                </button>\r\n                <mat-menu #actionmenu="matMenu"\r\n                    class="master-menu whentootltipadded table_menu">\r\n                    <button type="button" mat-menu-item><span>{{\'Inspect Now\' |translate}}</span></button>\r\n                    <button type="button" mat-menu-item><span>{{\'View & Approve\' |translate}}</span></button>\r\n                    <button type="button" mat-menu-item><span>{{\'View Details\' |translate}}</span></button>\r\n                    <button type="button" mat-menu-item><span>{{\'View RAS Sticker\' |translate}}</span></button>\r\n                    <button type="button" mat-menu-item><span>{{\'Print RAS Sticker\' |translate}}</span></button>\r\n                    <button type="button" mat-menu-item><span>{{\'Renew Now\' |translate}}</span></button>\r\n                    <button type="button" mat-menu-item><span>{{\'Audit Log\' |translate}}</span></button>\r\n                </mat-menu>\r\n                  </div> --\x3e\r\n                </div>\r\n                <div class="fs-13 m-t-20 m-b-20" fxLayout="row wrap">\r\n                  <p class="application-detais m-r-10 text-gray m-0">{{\'Office Type\' | translate}}: <span\r\n                    class="text-default">\r\n                    <span *ngIf="viewdata.appiim_officetype == 1">{{\'Main Office\' | translate}}</span>\r\n                    <span *ngIf="viewdata.appiim_officetype == 2">{{\'Branch Office\' | translate}}</span></span>\r\n            </p>\r\n            <p class="application-detais m-r-10 text-gray m-0">{{\'Branch Name\' | translate}}: <span\r\n                    class="text-default">{{(viewdata.appiim_officetype == 2)?(ifarbic == true?\r\n                      (viewdata.appiim_branchname_ar):(viewdata.appiim_branchname_en)):(\'-\')}} </span>\r\n            </p>\r\n                    <p class="application-detais m-r-10 text-gray m-0">{{\'Vehicle Reg. number\' | translate}}: <span\r\n                            class="text-default">{{viewdata.rvrd_vechicleregno}} </span>\r\n                    </p>\r\n                    <p class="application-detais m-r-10 text-gray m-0">{{\'Chassis Number\' | translate}}: <span\r\n                            class="text-default">{{viewdata.rvrd_chassisno}} </span>\r\n                    </p>\r\n                    <p class="application-detais m-r-10 text-gray m-0">{{\'Vehicle Category\' | translate}}: <span\r\n                            class="text-default">{{ifarbic == true ?\r\n                              (viewdata.vehtype_ar):(viewdata.vehtype_en)}} </span>\r\n\r\n                    </p>\r\n                    <p class="application-detais m-r-10 text-gray m-0">{{\'Road Type\' | translate}}: <span\r\n                            class="text-default">{{ifarbic == true ?\r\n                              (viewdata.roadtype_ar):(viewdata.roadtype_en)}}</span>\r\n\r\n                    </p>\r\n                    <p class="application-detais m-r-10 text-gray m-0">{{\'Inspector Name\' | translate}}: <span\r\n                        class="text-default">\r\n                        {{viewdata.inspectorname ? viewdata.inspectorname : \'-\'}}</span>\r\n\r\n                </p>\r\n                <p class="application-detais m-r-10 text-gray m-0">{{\'Inspection Date and Time\' | translate}}: <span\r\n                    class="text-default">{{viewdata.dateofinspetcion}}<span *ngIf="viewdata?.startTime && viewdata?.endTime">&nbsp;({{viewdata?.startTime}} - {{viewdata?.endTime}})</span></span>\r\n\r\n              </p>\r\n              <p class="application-detais m-r-10 text-gray m-0">{{\'Applicant Type\' | translate}}: <span\r\n                class="text-default">\r\n                <span *ngIf="viewdata.rvrd_applicationtype == 1">{{\'Initial\' | translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_applicationtype == 2">{{\'Renewal\' | translate}}</span></span>\r\n\r\n              </p>\r\n              <p class="application-detais m-r-10 text-gray m-0">{{\'Inspection Status\' | translate}}: <span\r\n                class="text-default">\r\n               \r\n                <span *ngIf="viewdata.rvrd_inspectionstatus == 1">{{\'Inspection Pending\'| translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_inspectionstatus == 2">{{\'Verification Pending\'| translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_inspectionstatus == 3">{{\'Completed\'| translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_inspectionstatus == 4">{{\'Supervisor Approval Pending\'| translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_inspectionstatus == 5">{{\'Declined by Verifier\'| translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_inspectionstatus == 6">{{\'Declined by Supervisor\'| translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_inspectionstatus == 7">{{\'Re-Inspection Required\'| translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_inspectionstatus == 8">{{\'Rejected\'| translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_inspectionstatus == 9">{{\'Rejected and Cancelled\'| translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_inspectionstatus == 10">{{\'Cancelled(Renewal)\'| translate}}</span>\r\n                \r\n              </span>\r\n\r\n             </p>\r\n             <p class="application-detais m-r-10 text-gray m-0">{{\'Permit Status\' | translate}}: <span\r\n                class="text-default"> <span *ngIf="viewdata.rvrd_permitstatus == 1" class="New">{{\'New\'| translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_permitstatus == 2" class="Active">{{\'Valid\' | translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_permitstatus == 3" class="New">{{\'Expired\' | translate}}</span>\r\n                <span *ngIf="viewdata.rvrd_permitstatus == 4" class="Cancelled">{{\'Cancelled\' | translate}}</span></span>\r\n\r\n             </p> <p class="application-detais m-r-10 text-gray m-0">{{\'Date of Expiry\' | translate}}: <span\r\n                class="text-default">{{viewdata.dateofexp ? viewdata.dateofexp : \'-\'}}</span>\r\n\r\n             </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},juUS:function(e,t,n){"use strict";n.r(t),t.default='<div fxLayoutAlign="center start" id="inspectiondate">\r\n    <app-responseloader *ngIf="PageLoaders"></app-responseloader>\r\n    <div fxFlex="100" fxFlex.gt-sm="100">\r\n        <app-vehicleinfobox *ngIf="vehiclpk" [vehiclepk]="vehiclpk"></app-vehicleinfobox>\r\n        <form autocomplete="off" [formGroup]="inspectionDate">\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'Odometer Reading (in km)\' | translate}} </mat-label>\r\n                        <input (keydown.enter)="$event.preventDefault()" [errorStateMatcher]="matcher" matInput\r\n                            appNumberonly maxlength="7" required formControlName="odometer">\r\n                        <mat-error *ngIf="Form.odometer.errors?.required || Form.submitted">\r\n                            {{\'Enter the Odometer Reading (in km)\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30" ngClass.lg="p-l-30"\r\n                    ngClass.xl="p-l-30" fxFlex="100" >\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label> {{\'Date of Inspection\' | translate}}</mat-label>\r\n                        <input matInput required formControlName="date_Inspect"\r\n                            (mousedown)="picker.open(); $event.preventDefault"\r\n                            (dateChange)="getInspectorlistByVehiclPk()" [disabled]="picker.opened"\r\n                            [matDatepicker]="picker" readonly [min]="today">\r\n                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>\r\n                        <mat-datepicker #picker></mat-datepicker>\r\n                        <mat-error *ngIf="Form.date_Inspect.errors?.required || Form.submitted">\r\n                            {{\'Select Date of Inspection\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n\r\n                </div>\r\n            </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start start" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100" class=m-t-5>\r\n                    <div class="drpickerasset timeaddpicker">\r\n                        <div fxLayoutAlign="flex-start" class="pos-relative">\r\n                            <div class="drpickerstartend borderbrfore">\r\n                                <mat-label class="txt-gry">{{\'Start Time\' |translate}} <span class="red">*</span>\r\n                                </mat-label>\r\n                                <mat-form-field class="beforrshow">\r\n                                    \x3c!-- The timepicker input --\x3e\r\n\r\n                                    <input matTimepicker #t="matTimepicker" [minDate]="minValue"\r\n                                        (timeChange)="setInspectionTime(); getInspectorlistByVehiclPk()"\r\n                                        [maxDate]="Form.inspEndtime.value" formControlName="inspStarttime" required>\r\n                                    <mat-icon matSuffix (click)="t.showDialog()">access_time</mat-icon>\r\n                                    <mat-error class="fs-13" *ngIf="Form.inspStarttime.errors">\r\n                                        {{\'Select the Inspection Start time\' | translate}} </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class="drpickerstartend m-l-40">\r\n                                <mat-label class="txt-gry">{{\'End Time\' | translate}} <span class="red">*</span>\r\n                                </mat-label>\r\n                                <mat-form-field>\r\n                                    <input matTimepicker #t="matTimepicker" [minDate]="Form.inspStarttime.value"\r\n                                        [maxDate]="maxValue"\r\n                                        (timeChange)="setInspectionTime(); getInspectorlistByVehiclPk()"\r\n                                        formControlName="inspEndtime" required>\r\n                                    <mat-icon matSuffix (click)="t.showDialog()">access_time</mat-icon>\r\n                                    <mat-error class="fs-13" *ngIf="Form.inspEndtime.errors?.required">\r\n                                        {{\'Select the Inspection End time\' | translate}} </mat-error>\r\n                                    <mat-error class="fs-13" *ngIf="Form.inspEndtime.errors?.maxdate">\r\n                                        {{\'Select the Valid Inspection End time\' | translate}} </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30" ngClass.lg="p-l-30"\r\n                    ngClass.xl="p-l-30" fxFlex="100" class="m-b-24">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-select [errorStateMatcher]="matcher" required formControlName="name_Inspect"\r\n                            panelClass="select_with_search" [disableOptionCentering]="true">\r\n                            <div class="searchinmultiselect">\r\n                                <mat-icon class="">search</mat-icon>\r\n                                <input (keydown.enter)="$event.preventDefault()" appAlphanumsymb matInput\r\n                                    class="searchselect" type="Search" placeholder="{{\'Search\' | translate}} "\r\n                                    (keydown)="$event.stopPropagation();" [(ngModel)]="searchInspector"\r\n                                    [ngModelOptions]="{standalone: true}" autocomplete="off">\r\n                                <mat-icon (click)="searchInspector = \'\'" class="reseticon" matSuffix\r\n                                    *ngIf="searchInspector !=\'\' && searchInspector !=null">clear</mat-icon>\r\n                            </div>\r\n\r\n                            <div class="option-listing countryselectwithimage">\r\n                                <mat-option *ngFor="let con of inspectorlist | filter : searchInspector"\r\n                                    [value]="con.pk">\r\n                                    {{ con.oum_firstname }}\r\n                                </mat-option>\r\n                                <div *ngIf="inspectorlist?.length == 0">{{\'No Records Found\' |\r\n                                    translate}}</div>\r\n                            </div>\r\n                        </mat-select>\r\n\r\n                        <mat-label>{{\'Inspector Name\' | translate}}</mat-label>\r\n                        <mat-error *ngIf="Form.name_Inspect.errors?.required || Form.submitted">\r\n                            {{\'Select the Inspector Name from the drop-down\' | translate}}\r\n                        </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <div fxLayout="row wrap" fxLayoutAlign="flex-end center" class="btngroup m-t-20">\r\n            <button mat-raised-button type="button" (click)="cancle();" class="transformbtn m-r-15">{{\'Cancel\' |\r\n                translate}}</button>\r\n            <button mat-raised-button type="submit" (click)="Vehicleregister();" class="submit_btn">{{\'Submit\' |\r\n                translate}}</button>\r\n        </div>\r\n    </div>\r\n</div>'},m3EJ:function(e,t,n){"use strict";n.r(t),t.default='#inspectiondate .txt-gry {\n  color: #848484;\n}\n#inspectiondate .mat-form-field-appearance-outline.mat-form-field-readonly {\n  background-color: #009c3a !important;\n}\n#inspectiondate .mat-form-field-appearance-outline .mat-form-field-outline {\n  color: #d9d9d9;\n}\n#inspectiondate .mat-form-field-appearance-outline .mat-form-field-outline-start {\n  border-radius: 3px 0 0 3px;\n}\n#inspectiondate .mat-form-field-appearance-outline .mat-form-field-outline-end {\n  border-radius: 0 3px 3px 0;\n}\n#inspectiondate .mat-form-field-appearance-outline .mat-form-field-required-marker {\n  color: #ED1C27;\n}\n#inspectiondate .mat-form-field-appearance-outline .mat-form-field-outline-thick {\n  color: #6ba5ec;\n  background-color: #f8f8f8;\n}\n#inspectiondate .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick {\n  color: #0c4b9a;\n  background-color: #f8f8f8;\n}\n#inspectiondate .mat-form-field-appearance-outline.mat-focused.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {\n  color: #0c4b9a;\n}\n#inspectiondate .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline {\n  background-color: #f8f8f8;\n}\n#inspectiondate .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick {\n  color: #dc4c64;\n  background-color: #f8f8f8;\n}\n#inspectiondate .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {\n  transform: translateY(-0.9rem) scale(0.75);\n  color: #848484;\n}\n#inspectiondate .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label .mat-form-field-required-marker {\n  color: #ED1C27;\n}\n#inspectiondate .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap {\n  width: 0px !important;\n}\n#inspectiondate .mat-form-field.mat-form-field-invalid .mat-form-field-label {\n  color: #dc4c64 !important;\n}\n#inspectiondate .transformbtn {\n  min-width: 110px;\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n  color: #262626;\n  padding-left: 0px;\n  padding-right: 0px;\n  height: 45px;\n}\n#inspectiondate .submit_btn {\n  background-color: #ED1C27 !important;\n  color: #fff !important;\n  min-width: 110px;\n  height: 45px;\n}\n#inspectiondate .mat-raised-button {\n  border-radius: 2px;\n  box-shadow: none;\n}\n#inspectiondate .timeaddpicker {\n  max-height: 59px;\n  min-height: 61px;\n  border: 1px solid #ddd;\n  padding: 10px;\n  border-radius: 4px;\n}\n#inspectiondate .timeaddpicker .drpickerstartend .mat-icon {\n  color: #848484;\n  margin-top: -12px;\n}\n#inspectiondate .timeaddpicker .drpickerstartend .mat-form-field-wrapper {\n  margin-top: 0px !important;\n}\n#inspectiondate .timeaddpicker .drpickerstartend .mat-form-field-underline {\n  display: none;\n}\n#inspectiondate .timeaddpicker .drpickerstartend .mat-form-field-infix {\n  margin-top: 0px !important;\n  padding-top: 0px !important;\n  padding-bottom: 0px !important;\n  border: none;\n}\n#inspectiondate .timeaddpicker .drpickerstartend .beforrshow::before {\n  content: "";\n  position: absolute;\n  width: 1px;\n  right: -20px;\n  top: -17px;\n  background-color: #ddd;\n  height: 90%;\n}\n#inspectiondate .timeaddpicker .mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper {\n  top: calc(100% - 1.0666666667em);\n}\n.select_with_search {\n  overflow: hidden !important;\n  max-height: 100% !important;\n  margin-top: 40px !important;\n  margin-bottom: 15px !important;\n}\n.select_with_option {\n  overflow: hidden !important;\n  max-height: 100% !important;\n  margin-top: 50px !important;\n  margin-bottom: 15px !important;\n}\n.searchinmultiselect {\n  display: flex;\n  align-items: center;\n  padding: 10px 10px;\n  background: #e9edf0;\n  margin: 10px;\n}\n.searchselect {\n  width: calc(100% - 25px) !important;\n  padding-left: 10px;\n}\n.mat-option.mat-active {\n  background: #fff;\n  color: rgba(0, 0, 0, 0.87);\n}\n.option-listing {\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: 290px;\n}\n.option-listing::-webkit-scrollbar {\n  width: 7px;\n}\n/* Track */\n.option-listing::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n/* Handle */\n.option-listing::-webkit-scrollbar-thumb {\n  background: #ED1C27;\n}\n/* hover */\n.option-listing::-webkit-scrollbar-thumb:hover {\n  background: #ED1C27;\n}\n.myPanelClass {\n  margin: 36px 0px;\n}\n[dir=rtl] #inspectiondate .timeaddpicker .drpickerstartend .beforrshow::before {\n  right: auto !important;\n  left: -20px;\n}'},pmPp:function(e,t,n){"use strict";n.r(t),t.default='<div id="vehiclelistpage" fxLayoutAlign="center start">\r\n    <app-responseloader *ngIf="fullPageLoaders"></app-responseloader>\r\n    <div class="vehicleinspection" fxFlex="100" fxFlex.gt-sm="100">\r\n        <div class="paginationwithfilter masterPageTop ">\r\n            <mat-paginator #paginator class="masterPage masterPageTop" [length]="resultsLength" [pageSize]="10"\r\n                [pageSizeOptions]="[5, 10, 25, 100] " (page)="syncPrimaryPaginator($event);"></mat-paginator>\r\n            <div fxLayout="row wrap" fxLayoutAlign="end">\r\n                <div fxFlex.gt-sm="100" fxFlex="100">\r\n                    <button mat-raised-button type="button" *ngIf="this.stktype == 1" \r\n                    class="transformbtn m-r-15" (click)="exportgridData();" >{{\'Export\' | translate}}</button>\r\n                    \r\n                    <button mat-raised-button type="button" *ngIf="this.stktype != 1 && (createaccess || isfocalpoint ==1)" (click)="registerNow();"\r\n                    class="transformbtns m-r-15">{{\'Register New Vehicle\' | translate}}</button>\r\n                    <button mat-raised-button type="button" color="primary" (click)="clickEvent();"\r\n                        class="filter">{{filtername}}<i class="opalicon opal-filter fs-15 m-l-7"\r\n                            aria-hidden="true"></i></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      \r\n        <div fxLayout="row wrap">\r\n            <div fxFlex.gt-sm="100" fxFlex="100" class="tabforclientelenew">\r\n                <div #TABLE class="awaredtable">\r\n                    <button mat-button [matMenuTriggerFor]="editcolumn" class="editcolumn">\r\n                        <mat-icon aria-hidden="false" aria-label="Example home icon">more_horiz</mat-icon>\r\n                        <mat-menu #editcolumn="matMenu" class="master-menu edit-column-menu">\r\n                          <div class="table-config-menu-options" fxLayout="column">\r\n                            <mat-checkbox #editchkbox [(ngModel)]="selectAllVisible"  (change)="selectAllFun($event)"> {{ \'All\' | translate}}\r\n                          </mat-checkbox>\r\n                          <ng-container *ngFor="let cd of displayedColumns; let i = index">\r\n                            <mat-checkbox \r\n                              (click)="$event.stopPropagation()" \r\n                              [(ngModel)]="cd.visible" #columnchkbox (change)="updateSelectAllVisible(cd)">\r\n                              {{cd.label | translate}}\r\n                            </mat-checkbox>\r\n                        </ng-container>\r\n                          </div>\r\n                      </mat-menu>\r\n                      </button>\t\r\n                    <mat-table id="ExampleMaterialTable" #table class="scrolldata" [dataSource]="dataSource"\r\n                        matSort matSortDisableClear>\r\n                        \x3c!-- new 1 --\x3e\r\n                        <ng-container matColumnDef="centre_name">\r\n                            <mat-header-cell fxFlex="280px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Centre Name\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="centre_name" fxFlex="280px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.compname_en}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                         \x3c!-- new 1 --\x3e\r\n                         <ng-container matColumnDef="rvrd_applicationrefno">\r\n                            <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'RASIC Number\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="rvrd_applicationrefno" fxFlex="200px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.rvrd_applicationrefno}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                         <ng-container matColumnDef="appiim_officetype">\r\n                            <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Office Type\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="appiim_officetype" fxFlex="200px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.appiim_officetype == 1 ? this.i18n(\'Main Office\' | translate) :this.i18n(\'Branch Office\' | translate)}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 2 --\x3e\r\n                        <ng-container matColumnDef="appiim_branchname_en">\r\n                            <mat-header-cell fxFlex="280px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Branch Name\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="appiim_branchname_en" fxFlex="280px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">\r\n                                <div *ngIf="element.appiim_officetype == 2" [matTooltip]="ifarbic ? (element.appiim_branchname_ar) : (element.appiim_branchname_en)"\r\n                                [matTooltipDisabled]="(ifarbic ? (element.appiim_branchname_ar) : (element.appiim_branchname_en)).length <= 25" [style.cursor]="(ifarbic ? (element.appiim_branchname_ar) : (element.appiim_branchname_en)).length <= 25?\'auto\':\'pointer\'">\r\n                                    {{ifarbic ? (element.appiim_branchname_ar) : (element.appiim_branchname_en) | slice:0:25 }}\r\n                                    <span *ngIf="(ifarbic == true ? (element.appiim_branchname_ar) : (element.appiim_branchname_en)).length > 25">....</span>\r\n                                </div>\r\n                                <div *ngIf="element.appiim_officetype != 2">\r\n                                     -\r\n                                </div>\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 1 --\x3e\r\n                        <ng-container matColumnDef="owner_en">\r\n                            <mat-header-cell fxFlex="250px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Owner Name\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="owner_en" fxFlex="250px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder" [matTooltip]="ifarbic ? (element.owner_ar) : (element.owner_en)"\r\n                                [matTooltipDisabled]="(ifarbic ? (element.owner_ar) : (element.owner_en)).length <= 25" [style.cursor]="(ifarbic ? (element.owner_ar) : (element.owner_en)).length <= 25?\'auto\':\'pointer\'">\r\n                                {{ ifarbic == true ? (element.owner_ar) : (element.owner_en) | slice:0:25 }}\r\n                                <span *ngIf="(ifarbic == true ? (element.owner_ar) : (element.owner_en)).length > 25">....</span>\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 2 --\x3e\r\n                        <ng-container matColumnDef="rvrd_vechicleregno">\r\n                            <mat-header-cell fxFlex="180px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Vehicle Reg. Number\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="rvrd_vechicleregno" fxFlex="180px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.rvrd_vechicleregno}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 3 --\x3e\r\n                        <ng-container matColumnDef="rvrd_chassisno">\r\n                            <mat-header-cell fxFlex="220px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Chassis Number\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="rvrd_chassisno" fxFlex="220px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.rvrd_chassisno}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="rvrd_odometerreading">\r\n                            <mat-header-cell fxFlex="220px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Odometer Reading (in km)\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="rvrd_odometerreading" fxFlex="220px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.rvrd_odometerreading ? element.rvrd_odometerreading : \'-\'}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 4 --\x3e\r\n                        <ng-container matColumnDef="vehtype_en">\r\n                            <mat-header-cell fxFlex="250px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Vehicle Category\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="vehtype_en" fxFlex="250px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{ifarbic == true ? (element.vehtype_ar):\r\n                                    (element.vehtype_en)}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 5 --\x3e\r\n                        <ng-container matColumnDef="roadtype_en">\r\n                            <mat-header-cell fxFlex="250px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Road Type\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="roadtype_en" fxFlex="250px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{ifarbic == true ? (element.roadtype_ar):\r\n                                    (element.roadtype_en)}} </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 6 --\x3e\r\n                        <ng-container matColumnDef="inspectorname">\r\n                            <mat-header-cell fxFlex="250px" mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                                {{\'Inspector Name\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="inspectorname" fxFlex="250px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder" [matTooltip]="element.inspectorname"\r\n                                [matTooltipDisabled]="element.inspectorname && element.inspectorname?.length <= 20 && element.inspectorname?.length > 0" [style.cursor]="(element.inspectorname && element.inspectorname?.length <= 20 && element.inspectorname?.length > 0)?\'auto\':\'pointer\'">\r\n                                   {{element.inspectorname | slice:0:20}}\r\n                                    <span *ngIf="element.inspectorname && element.inspectorname.length > 20">....</span>\r\n                                \r\n                                \x3c!-- <div *ngIf="!tblplaceholder">{{element.inspectorname}} --\x3e\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 6 --\x3e\r\n                        <ng-container matColumnDef="inspectDateTime">\r\n                            <mat-header-cell fxFlex="263px" mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                                {{\'Inspector Name\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="inspectDateTime" fxFlex="263px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.inspectDateTime}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 7 --\x3e\r\n                        <ng-container matColumnDef="dateofinspetcion">\r\n                            <mat-header-cell fxFlex="263px" mat-header-cell *matHeaderCellDef\r\n                                >{{\'Inspection Date and Time\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="dateofinspetcion" fxFlex="263px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.dateofinspetcion}}<span *ngIf="element?.startTime && element?.endTime">&nbsp;({{element?.startTime}} - {{element?.endTime}})</span></div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 8 --\x3e\r\n                        <ng-container matColumnDef="rvrd_applicationtype">\r\n                            <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Applicant Type\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="rvrd_applicationtype" fxFlex="200px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">\r\n                                    <span *ngIf="element.rvrd_applicationtype == 1">{{\'Initial\' | translate}}</span>\r\n                                    <span *ngIf="element.rvrd_applicationtype == 2">{{\'Renewal\' | translate}}</span>\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 9 --\x3e\r\n                        <ng-container matColumnDef="rvrd_inspectionstatus">\r\n                            <mat-header-cell fxFlex="230px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Inspection Status\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="rvrd_inspectionstatus" fxFlex="230px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">\r\n                                    <span *ngIf="element.rvrd_inspectionstatus == 1">{{\'Inspection Pending\'| translate}}</span>\r\n                                    <span *ngIf="element.rvrd_inspectionstatus == 2">{{\'Verification Pending\'| translate}}</span>\r\n                                    <span *ngIf="element.rvrd_inspectionstatus == 3">{{\'Completed\'| translate}}</span>\r\n                                    <span *ngIf="element.rvrd_inspectionstatus == 4">{{\'Supervisor Approval Pending\'| translate}}</span>\r\n                                    <span *ngIf="element.rvrd_inspectionstatus == 5">{{\'Declined by Verifier\'| translate}}</span>\r\n                                    <span *ngIf="element.rvrd_inspectionstatus == 6">{{\'Declined by Supervisor\'| translate}}</span>\r\n                                    <span *ngIf="element.rvrd_inspectionstatus == 7">{{\'Re-Inspection Required\'| translate}}</span>\r\n                                    <span *ngIf="element.rvrd_inspectionstatus == 8">{{\'Rejected\'| translate}}</span>\r\n                                    <span *ngIf="element.rvrd_inspectionstatus == 9">{{\'Rejected and Cancelled\'| translate}}</span>\r\n                                    <span *ngIf="element.rvrd_inspectionstatus == 10">{{\'Cancelled(Renewal)\'| translate}}</span>\r\n                                    \r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 10 --\x3e\r\n                        <ng-container matColumnDef="rvrd_permitstatus">\r\n                            <mat-header-cell fxFlex="180px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Permit Status\' |\r\n                                translate}}</mat-header-cell>\r\n                            <mat-cell data-label="rvrd_permitstatus" fxFlex="180px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.perStatus}}\r\n                                    <span *ngIf="element.rvrd_permitstatus == 1" class="New">{{\'New\' | translate}}</span>\r\n                                    <span *ngIf="element.rvrd_permitstatus == 2" class="Active">{{\'Valid\' | translate}}</span>\r\n                                    <span *ngIf="element.rvrd_permitstatus == 3" class="New">{{\'Expired\' | translate}}</span>\r\n                                    <span *ngIf="element.rvrd_permitstatus == 4" class="Cancelled">{{\'Cancelled\' | translate}}</span>\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 11 --\x3e\r\n                        <ng-container matColumnDef="dateofexp">\r\n                            <mat-header-cell fxFlex="263px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Date of Expiry\' |\r\n                                translate}}</mat-header-cell>\r\n                            <mat-cell data-label="dateofexp" fxFlex="263px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.dateofexp?element.dateofexp:\'-\'}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 12 --\x3e\r\n                        <ng-container matColumnDef="action" stickyEnd>\r\n                            <mat-header-cell fxFlex="125px" mat-header-cell *matHeaderCellDef>{{\'Action\'\r\n                                | translate}}\r\n                            </mat-header-cell>\r\n                            <mat-cell data-label="action" fxFlex="125px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.irm_intlrecogname_en}}\r\n                                    <div class="manageoptions">\r\n                                        <button class="menubutton" mat-icon-button [matMenuTriggerFor]="actionmenu"\r\n                                            aria-label="Example icon-button with a menu">\r\n                                            <mat-icon class="moremenucolor">more_horiz</mat-icon>\r\n                                        </button>\r\n                                        <mat-menu #actionmenu="matMenu"\r\n                                            class="master-menu whentootltipadded table_menu">     \r\n                                            <button type="button" mat-menu-item *ngIf="(element.rvrd_inspectionstatus == 1 ) && isInspector && (userPk == element.rvrd_inspectorname) && (createaccess || isfocalpoint == 1)" (click)="inspectNow(element,1)"><span>{{\'Inspect Now\' |translate}}</span></button>\r\n                                            <button type="button" mat-menu-item *ngIf="(element.rvrd_inspectionstatus == 5 || element.rvrd_inspectionstatus == 6 ||element.rvrd_inspectionstatus == 7 ) && isInspector && (userPk == element.rvrd_inspectorname)  && (createaccess || isfocalpoint == 1)" (click)="inspectNow(element,2)"><span>{{\'Update Inspection Report\' |translate}}</span></button>\r\n                                            <button type="button" mat-menu-item  *ngIf="element.rvrd_inspectionstatus == 2 && isVerifier && (userPk != element.rvrd_inspectorname) && (approvalaccess || isfocalpoint == 1)" (click)="viewstatus(element ,2)"><span>{{\'View & Approve\' |translate}}</span></button>\r\n                                            <button type="button" mat-menu-item  *ngIf="element.rvrd_inspectionstatus == 4 && isSupervisor && (userPk != element.rvrd_inspectorname) && (approvalaccess || isfocalpoint == 1)"  (click)="viewstatus(element,4)"><span>{{\'View & Approve\' |translate}}</span></button>\r\n                                            <button type="button" mat-menu-item *ngIf="((stktype == 1) || (((element.rvrd_inspectionstatus != 1 ) || (element.rvrd_inspectionstatus == 1 && userPk != element.rvrd_inspectorname)) && stktype == 2)) && (readaccess  || adminreadaccess || isfocalpoint == 1)" (click)="view(element)"><span>{{\'View Details\' |translate}}</span></button>\r\n                                            <button type="button" mat-menu-item *ngIf=" element.rvrd_inspectionstatus == 3 && stktype == 1 && (adminupdateaccess || isfocalpoint == 1)" (click)="generatesticker(element)" ><span>{{\'Re-generate RAS Sticker\' |translate}}</span></button>\r\n                                            <button type="button" mat-menu-item *ngIf="element.rvrd_viewstickerpath && element.rvrd_permitstatus == 2 && (viewstickeraccess || adminreadaccess || isfocalpoint == 1)" (click)="printorviewsticker(element,1)" ><span><a target="_blank"  href="{{this.url+element.rvrd_viewstickerpath}}">{{\'View RAS Sticker\' |translate}}</a></span></button>\r\n                                            <button type="button" mat-menu-item *ngIf="element.rvrd_printstickerpath && element.rvrd_permitstatus == 2 && stktype != 1 && (printstickeraccess || isfocalpoint == 1)" (click)="printorviewsticker(element,2)" ><span><a target="_blank"  href="{{this.url+element.rvrd_printstickerpath}}">{{\'Print RAS Sticker\' |translate}}</a></span></button>\r\n                                            <button type="button" mat-menu-item *ngIf="(element.ifExpired == 1 || element.ifNearingExpiry == 1) && element.rvrd_permitstatus != 1 && element.rvrd_permitstatus != 4 && element.rvrd_inspectionstatus == 3 && ((createaccess  || isfocalpoint == 1) && stktype == 2 ) " (click)="renewNow(element)"><span>{{\'Renew Now\' |translate}}</span></button>\r\n                                            <button type="button" mat-menu-item *ngIf="((element.rvrd_inspectionstatus == 1  && stktype == 2 && isfocalpoint == 1))" (click)="EditVehiclDtls(element)"><span>{{\'Edit Vehicle Details\' |translate}}</span></button>\r\n                                            <button type="button" mat-menu-item *ngIf="(element.rvrd_inspectionstatus == 8 ) && isfocalpoint == 1 && stktype == 2 " (click)="CancelVehicle(element)"><span>{{\'Cancel Registration\' |translate}}</span></button>\r\n                                            \x3c!-- <button type="button" mat-menu-item><span>{{\'Audit Log\' |translate}}</span></button> --\x3e\r\n                                        </mat-menu>\r\n                                    </div>\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 1 --\x3e\r\n                        <ng-container matColumnDef="row-firstonewone">\r\n                            <mat-header-cell fxFlex="280px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |translate}}</mat-label>\r\n                                    <input matInput [formControl]="centrename" (keyup)="applyFilter($event.target.value,\'centrename\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 1 --\x3e\r\n                        <ng-container matColumnDef="row-firstnew">\r\n                            <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |translate}}</mat-label>\r\n                                    <input matInput [formControl]="rasicnum" (keyup)="applyFilter($event.target.value,\'rasicnum\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="row-new">\r\n                            <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.sele\' |\r\n                                        translate}}</mat-label>\r\n                                    <mat-select [formControl]="officetype" multiple (selectionChange)="applyFilter($event.value,\'officetype\')">\r\n                                        <mat-option value="1">{{\'Main Office\' |translate}}</mat-option>\r\n                                        <mat-option value="2">{{\'Branch Office\' |translate}}</mat-option>\r\n                                    </mat-select>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 2 --\x3e\r\n                        <ng-container matColumnDef="row-newone">\r\n                            <mat-header-cell fxFlex="280px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |translate}}</mat-label>\r\n                                    <input matInput [formControl]="branch_name" (keyup)="applyFilter($event.target.value,\'branch_name\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 1 --\x3e\r\n                        <ng-container matColumnDef="row-first">\r\n                            <mat-header-cell fxFlex="250px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |translate}}</mat-label>\r\n                                    <input matInput [formControl]="appl_form_filter" (keyup)="applyFilter($event.target.value,\'appl_form_filter\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 2 --\x3e\r\n                        <ng-container matColumnDef="row-second">\r\n                            <mat-header-cell fxFlex="180px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |\r\n                                        translate}}</mat-label>\r\n                                    <input matInput [formControl]="officetype_filter"  (keyup)="applyFilter($event.target.value,\'officetype_filter\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 3 --\x3e\r\n                        <ng-container matColumnDef="row-three">\r\n                            <mat-header-cell fxFlex="220px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |\r\n                                        translate}}</mat-label>\r\n                                    <input matInput [formControl]="trainingprovide_filter" (keyup)="applyFilter($event.target.value,\'trainingprovide_filter\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="row-three-one">\r\n                            <mat-header-cell fxFlex="220px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |\r\n                                        translate}}</mat-label>\r\n                                    <input matInput [formControl]="odometerfilter" (keyup)="applyFilter($event.target.value,\'odometerfilter\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 4 --\x3e\r\n                        <ng-container matColumnDef="row-four">\r\n                            <mat-header-cell fxFlex="250px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |\r\n                                        translate}}</mat-label>\r\n                                    <input matInput [formControl]="cour_type_filter" (keyup)="applyFilter($event.target.value,\'cour_type_filter\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 5 --\x3e\r\n                        <ng-container matColumnDef="row-five">\r\n                            <mat-header-cell fxFlex="250px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.sele\' |\r\n                                        translate}}</mat-label>\r\n                                    <mat-select [formControl]="course_titles_filter" multiple (selectionChange)="applyFilter($event.value,\'course_titles_filter\')">\r\n                                        <mat-option *ngFor="let req of roadtype"\r\n                                                value={{req.referencemst_pk}}>{{ifarbic == true ?\r\n                                                (req.rm_name_ar):(req.rm_name_en)}}</mat-option>\r\n                                    </mat-select>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 6 --\x3e\r\n                        <ng-container matColumnDef="row-six">\r\n                            <mat-header-cell fxFlex="250px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |\r\n                                        translate}}</mat-label>\r\n                                    <input matInput [formControl]="course_cat_filter"  (keyup)="applyFilter($event.target.value,\'course_cat_filter\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 6 --\x3e\r\n                        <ng-container matColumnDef="row-newsix">\r\n                            <mat-header-cell fxFlex="263px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    \x3c!-- <mat-label>{{\'table.search\' |translate}}</mat-label> --\x3e\r\n                                    <div class="drpicker" id="regapp">\r\n                                        <input id="login_session" [formControl]="time_Date"\r\n                                            (ngModelChange)="applyFilter($event,\'time_Date\')" #pickers matInput\r\n                                            type="text" autocomplete="off" ngxDaterangepickerMd\r\n                                            [showCustomRangeLabel]="true" [alwaysShowCalendars]="true" [ranges]="ranges"\r\n                                            [locale]="locale" [linkedCalendars]="true" [showClearButton]="true"\r\n                                            [maxDate]=\'selected2\' readonly class="form-control" />\r\n                                        <div class="closeanddateicon">\r\n                                            <mat-datepicker-toggle matSuffix>\r\n                                            </mat-datepicker-toggle>\r\n                                        </div>\r\n                                    </div>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 7 --\x3e\r\n                        <ng-container matColumnDef="row-seven">\r\n                            <mat-header-cell fxFlex="263px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    \x3c!-- <mat-label>{{\'table.search\' |translate}}</mat-label> --\x3e\r\n                                    <div class="drpicker" id="regapp">\r\n                                        <input id="login_session" [formControl]="cour_subcate_filter"\r\n                                            (datesUpdated)="changeDateInsp($event,\'cour_subcate_filter\')" #pickers matInput\r\n                                            type="text" autocomplete="off" ngxDaterangepickerMd\r\n                                            [showCustomRangeLabel]="true" [alwaysShowCalendars]="true" [ranges]="ranges"\r\n                                            [locale]="locale" [linkedCalendars]="true" [showClearButton]="true"\r\n                                            [maxDate]=\'selected2\' readonly class="form-control" />\r\n                                        <div class="closeanddateicon">\r\n                                            <mat-datepicker-toggle matSuffix>\r\n                                            </mat-datepicker-toggle>\r\n                                        </div>\r\n                                    </div>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 8 --\x3e\r\n                        <ng-container matColumnDef="row-eight">\r\n                            <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.sele\' |\r\n                                        translate}}</mat-label>\r\n                                    <mat-select [formControl]="appl_type_filter" multiple (selectionChange)="applyFilter($event.value,\'appl_type_filter\')">\r\n                                        <mat-option value="1">{{\'Initial\' |translate}}</mat-option>\r\n                                        <mat-option value="2">{{\'Renewal\' |translate}}</mat-option>\r\n                                    </mat-select>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 9 --\x3e\r\n                        <ng-container matColumnDef="row-nine">\r\n                            <mat-header-cell fxFlex="230px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.sele\' |\r\n                                        translate}}</mat-label>\r\n                                        \r\n                                    <mat-select  panelClass="select_with_search" [formControl]="appl_status_filter" multiple (selectionChange)="applyFilter($event.value,\'appl_status_filter\')">\r\n                                        <div class="option-listing countryselectwithimage">  \r\n                                        <mat-option value="1">{{\'Inspection Pending\' |translate}}</mat-option>\r\n                                        <mat-option value="2">{{\'Verification Pending\' |translate}}</mat-option>\r\n                                        <mat-option value="3">{{\'Completed\' |translate}}</mat-option>\r\n                                        <mat-option value="5">{{\'Declined by Verifier\' |translate}}</mat-option>\r\n                                        <mat-option value="4">{{\'Supervisor Approval Pending\' |translate}}</mat-option>\r\n                                        <mat-option value="6">{{\'Declined by Supervisor\' |translate}}</mat-option>\r\n                                        <mat-option value="7">{{\'Re-Inspection Required\' |translate}}</mat-option>\r\n                                        <mat-option value="8">{{\'Rejected\' |translate}}</mat-option>\r\n                                        <mat-option value="9">{{\'Rejected and Cancelled\' |translate}}</mat-option>\r\n                                        <mat-option value="10">{{\'Cancelled(Renewal)\' |translate}}</mat-option>\r\n                                        </div>\r\n                                    </mat-select>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 10 --\x3e\r\n                        <ng-container matColumnDef="row-ten">\r\n                            <mat-header-cell fxFlex="180px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center ">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.sele\' |\r\n                                        translate}}</mat-label>\r\n                                    <mat-select [formControl]="cert_status_filter" multiple (selectionChange)="applyFilter($event.value,\'cert_status_filter\')">\r\n                                        <mat-option value="1">{{\'New\' |translate}}</mat-option>\r\n                                        <mat-option value="2">{{\'Valid\' |translate}}</mat-option>\r\n                                        <mat-option value="3">{{\'Expired\' |translate}}</mat-option>\r\n                                        <mat-option value="4">{{\'Cancelled\' |translate}}</mat-option>\r\n                                    </mat-select>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 11 --\x3e\r\n                        <ng-container matColumnDef="row-eleven">\r\n                            <mat-header-cell fxFlex="263px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    \x3c!-- <mat-label>{{\'table.search\' |translate}}</mat-label> --\x3e\r\n                                    <div class="drpicker" id="regapp">\r\n                                        <input id="login_session" [formControl]="lastUpdated_branch_filter"\r\n                                            (datesUpdated)="changeDateExp($event,\'lastUpdated_branch_filter\')" #pickers matInput\r\n                                            type="text" autocomplete="off" ngxDaterangepickerMd\r\n                                            [showCustomRangeLabel]="true" [alwaysShowCalendars]="true" [ranges]="ranges"\r\n                                            [locale]="locale" [linkedCalendars]="true" [showClearButton]="true"\r\n                                            [maxDate]=\'selected2\' readonly class="form-control" />\r\n                                        <div class="closeanddateicon">\r\n                                            <mat-datepicker-toggle matSuffix>\r\n                                            </mat-datepicker-toggle>\r\n                                        </div>\r\n                                    </div>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 12 --\x3e\r\n                        <ng-container matColumnDef="row-twelve" stickyEnd>\r\n                            <mat-header-cell fxFlex="125px" class="serachrow" *matHeaderCellDef\r\n                            style="text-align:center">\r\n                            <i class="fa fa-refresh m-l-15 cursorview" (click)="clearFilter();filtersts=false;"\r\n                                aria-hidden="true" matTooltip="{{\'table.refresh\'|translate}}"></i>\r\n                        </mat-header-cell>\r\n                        </ng-container>\r\n                       \r\n                        <mat-header-row id="headerrowcells" *matHeaderRowDef="getdisplayedColumns()">\r\n                        </mat-header-row>\r\n                           \r\n                        <mat-header-row id="searchrow" *matHeaderRowDef="getdisplayedsearch()">\r\n                        </mat-header-row>\r\n                        <mat-row mat-row *matRowDef="let row; columns: getdisplayedColumns();"></mat-row>\r\n                        <ng-container matColumnDef="disclaimer">\r\n                            <td mat-footer-cell *matFooterCellDef colspan="11">\r\n                                <div class="nofound" fxLayoutAlign="center" fxFlex.gt-sm="100" fxFlex="100">\r\n                                    <div fxFlex="100" fxLayout="column" fxLayoutAlign="center center">\r\n                                        <div fxLayout="row wrap" fxLayoutAlign="center center"  *ngIf="tblplaceholder"\r\n                                                        class="NorecordLoader"></div>\r\n                                        <img src="assets/images/opalimages/norecord.svg" alt="norecord" *ngIf="!tblplaceholder">\r\n                                        <p class="m-t-10 txt-gry3 fs-16" *ngIf="!tblplaceholder">{{\'No Records\' | translate}}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                        </ng-container>\r\n                        <ng-container>\r\n                            <mat-footer-row [class.stickyclass]="(resultsLength > 0) ? \'none\' : \'block\'"\r\n                                [style.display]="(resultsLength > 0) ? \'none\' : \'block\' "\r\n                                *matFooterRowDef="[\'disclaimer\']" style="justify-content: center">\r\n                            </mat-footer-row>\r\n                        </ng-container>\r\n                    </mat-table>\r\n                </div>\r\n                <div fxLayout="row" fxLayoutAlign="end" class="m-b-15 m-t-30">\r\n                    <div fxFlex.gt-sm="100" fxFlex="100" class="footerpaginator">\r\n                        <mat-paginator class="p-r-10" ngClass.xs="block" ngClass.sm="block"\r\n                            class="masterPage masterbottom " showFirstLastButtons [pageSize]="paginator?.pageSize"\r\n                            (page)="syncPrimaryPaginator($event);" [pageIndex]="paginator?.pageIndex"\r\n                            [length]="paginator?.length" [pageSizeOptions]="paginator?.pageSizeOptions">\r\n                        </mat-paginator>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},qtVM:function(e,t,n){"use strict";n.r(t),t.default="#infoBox .knowledgegrid {\n  background: #FFFFFF 0% 0% no-repeat padding-box;\n  box-shadow: 0px 0px 8px #0000001a;\n  border: 1px solid #D7DCE3;\n  border-radius: 4px;\n  opacity: 1;\n  padding: 15px;\n}\n#infoBox .knowledgegrid .text-gray {\n  color: #848484;\n}\n#infoBox .knowledgegrid .text-default {\n  color: #262626 !important;\n  font-weight: 500;\n}\n#infoBox .knowledgegrid .details {\n  border-bottom: 1px solid #D7DCE3;\n}\n#infoBox .knowledgegrid .application-detais {\n  border: 1px solid #D7DCE3;\n  padding: 5px;\n  font-size: 14px;\n  margin-top: 10px !important;\n}\n#infoBox .knowledgegrid .moremenucolor {\n  color: #848484;\n}\n.whentootltipadded {\n  background-color: #666666 !important;\n  color: #fff;\n  min-height: 45px !important;\n}\n.whentootltipadded .mat-menu-item {\n  color: #fff !important;\n  height: 30px !important;\n  line-height: 20px !important;\n}"},tmjS:function(e,t,n){"use strict";n.r(t),t.default='<form [formGroup]="vehicleForm">\r\n    <mat-form-field appearance="outline">\r\n        <mat-label> {{\'Model Year\' | translate}}</mat-label>\r\n             <input matInput required [formControlName]="\'modelYear\'" (mousedown)="picker2.open(); $event.preventDefault"\r\n              [disabled]="picker2.opened" [matDatepicker]="picker2" readonly >\r\n             <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>\r\n             <mat-datepicker #picker2 ></mat-datepicker>\r\n              <mat-error *ngIf="vehicleForm && vehicleForm.get(\'modelYear\').errors?.required">\r\n            {{\'Select Model Year\' | translate}} </mat-error> \r\n    </mat-form-field> \r\n</form>'}}]);