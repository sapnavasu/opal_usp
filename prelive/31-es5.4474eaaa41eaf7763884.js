function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{MLZy:function(e,t,a){"use strict";a.r(t),t.default='<div id="learnercard" fxLayoutAlign="center start">\r\n    <app-responseloader *ngIf="fullPageLoaders"></app-responseloader>\r\n    <div class="vehicleinspection" fxFlex="100" fxFlex.gt-sm="100">\r\n        <div class="paginationwithfilter masterPageTop ">\r\n            <mat-paginator class="masterPage masterPageTop" #paginator [length]="learnercard_length" [pageSize]="10" \r\n                    [pageSizeOptions]="[5, 10, 25, 100]" (page)="syncPrimaryPaginator($event);" ></mat-paginator>\r\n            <div fxLayout="row wrap" fxLayoutAlign="end">\r\n                <div fxFlex.gt-sm="100" fxFlex="100">\r\n                    <button mat-raised-button type="button" *ngIf="createaccess" (click)="registerNow();"\r\n                    class="submit_btn m-r-15">{{\'Add\' | translate}}</button>\r\n                    <button mat-raised-button type="button" color="primary" (click)="clickEvent();"\r\n                        class="filter">{{filtername}}<i class="opalicon opal-filter fs-15 m-l-7"\r\n                            aria-hidden="true"></i></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div fxLayout="row wrap">\r\n            <div fxFlex.gt-sm="100" fxFlex="100" class="tabforclientelenew">\r\n                <div #TABLE class="awaredtable">\r\n                    <mat-table id="ExampleMaterialTable" #table class="scrolldata" [dataSource]="dataSource"\r\n                        matSort matSortDisableClear>\r\n                         \x3c!-- new 1 --\x3e\r\n                         <ng-container matColumnDef="lcd_verificationno">\r\n                            <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Verification No.\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="Verificationno" fxFlex="200px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.lcd_verificationno ? element.lcd_verificationno : \'-\'}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 3 --\x3e\r\n                         <ng-container matColumnDef="sld_ROPlicense">\r\n                            <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'ROP License No.\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="roplicense" fxFlex="200px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.sld_ROPlicense ? element.sld_ROPlicense : \'-\'}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 2 --\x3e\r\n                        <ng-container matColumnDef="sir_idnumber">\r\n                            <mat-header-cell fxFlex="280px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Civil Number\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="civilnumber" fxFlex="280px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.sir_idnumber ? element.sir_idnumber : \'-\'}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 1 --\x3e\r\n                        <ng-container matColumnDef="sir_name_en">\r\n                            <mat-header-cell fxFlex="250px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Learner Name\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="learnername" fxFlex="250px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{ifarbic == true ? (element.sir_name_ar):\r\n                                    (element.sir_name_en)}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 2 --\x3e\r\n                        <ng-container matColumnDef="pm_projectname_en">\r\n                            <mat-header-cell fxFlex="280px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Course Type\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="courtype" fxFlex="280px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{ifarbic == true ? element.pm_projectname_ar:\r\n                                    element.pm_projectname_en}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 3 --\x3e\r\n                        <ng-container matColumnDef="scm_coursename_en">\r\n                            <mat-header-cell fxFlex="280px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Category\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="category" fxFlex="280px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{ifarbic == true ? (element.scm_coursename_ar):\r\n                                    (element.scm_coursename_en)}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 4 --\x3e\r\n                        <ng-container matColumnDef="cat_count">\r\n                            <mat-header-cell fxFlex="180px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'No. of Sub Categories\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="subcate" fxFlex="180px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.cat_count}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 5 --\x3e\r\n                        <ng-container matColumnDef="exp_count">\r\n                            <mat-header-cell fxFlex="150px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'No. of Expiries\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="noofexpir" fxFlex="150px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.exp_count}}</div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 6 --\x3e\r\n                        <ng-container matColumnDef="lcd_createdon">\r\n                            <mat-header-cell fxFlex="263px" mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                                {{\'Last Issued On\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="lastissue" fxFlex="263px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{seperatedata(element.plaincard,\'date\') ? (seperatedata(element.plaincard,\'date\') | date : \'dd-MM-yyyy\')  : \'-\'}}\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 6 --\x3e\r\n                        <ng-container matColumnDef="action" stickyEnd>\r\n                            <mat-header-cell fxFlex="100px" mat-header-cell *matHeaderCellDef>{{\'Action\'\r\n                                | translate}}\r\n                            </mat-header-cell>\r\n                            <mat-cell data-label="action" fxFlex="100px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100">\r\n                                    <div class="tabledataloader"></div>\r\n                                </div>\r\n                                <div *ngIf="!tblplaceholder">{{element.irm_intlrecogname_en}}\r\n                                    <div class="manageoptions">\r\n                                        <button class="menubutton" mat-icon-button [matMenuTriggerFor]="actionmenu"\r\n                                            aria-label="Example icon-button with a menu">\r\n                                            <mat-icon class="moremenucolor">more_horiz</mat-icon>\r\n                                        </button>\r\n                                        <mat-menu #actionmenu="matMenu"\r\n                                            class="master-menu whentootltipadded table_menu">     \r\n                                            <button type="button" *ngIf="viewacess" mat-menu-item (click)="view(element.lcd_staffinforepo_fk, element.lcd_standardcoursemst_fk)"><span>{{\'View Details\' |translate}}</span></button>\r\n                                            <button type="button" *ngIf="updateaccess" mat-menu-item (click)="edit(element.lcd_staffinforepo_fk, element.lcd_standardcoursemst_fk)" ><span>{{\'Edit Details\' |translate}}</span></button>\r\n                                            <button type="button" *ngIf="downloadaccess && element.viewfileexist && seperatedata(element.plaincard,\'view\') " mat-menu-item (click)="viewcard(seperatedata(element.plaincard,\'learnerid\'))" >{{\'View Card\' |translate}}</button>\r\n                                            <button type="button" *ngIf="downloadaccess && element.printfileexist && seperatedata(element.plaincard,\'print\') " mat-menu-item (click)="opendialogprintsetup(seperatedata(element.plaincard,\'learnerid\'))" >{{\'Print Card\' |translate}}</button>\r\n                                        </mat-menu>\r\n                                    </div>\r\n                                </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 1 --\x3e\r\n                        <ng-container matColumnDef="row-firstnew">\r\n                            <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |translate}}</mat-label>\r\n                                    <input matInput [formControl]="verificateno" (keyup)="searchbatchgrid($event.target.value,\'verficationno\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 3 --\x3e\r\n                        <ng-container matColumnDef="row-new">\r\n                            <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |translate}}</mat-label>\r\n                                    <input matInput [formControl]="license_no" (keyup)="searchbatchgrid($event.target.value,\'roplicenseno\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- new 2 --\x3e\r\n                        <ng-container matColumnDef="row-newone">\r\n                            <mat-header-cell fxFlex="280px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |translate}}</mat-label>\r\n                                    <input matInput [formControl]="civil_number" (keyup)="searchbatchgrid($event.target.value,\'idnumber\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 1 --\x3e\r\n                        <ng-container matColumnDef="row-first">\r\n                            <mat-header-cell fxFlex="250px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |translate}}</mat-label>\r\n                                    <input matInput [formControl]="lear_name" (keyup)="searchbatchgrid($event.target.value,\'name\')">\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 2 --\x3e\r\n                        <ng-container matColumnDef="row-second">\r\n                            <mat-header-cell fxFlex="280px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.select\' |\r\n                                        translate}}</mat-label>\r\n                                        <mat-select [formControl]="cate_filter" multiple (selectionChange)="searchbatchgrid($event.value,\'course\')">\r\n                                            <div class="option-listing countryselectwithimage">\r\n                                            \x3c!-- <mat-option *ngFor="let list of project" [value]="list.projectmst_pk">\r\n                                                {{list.pm_projectname_en}}\r\n                                            </mat-option> --\x3e\r\n                                            <mat-option [value]="2">{{\'Standard Course Certification\' | translate }}</mat-option>\r\n                                        </div>\r\n                                        </mat-select>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="row-type">\r\n                            <mat-header-cell fxFlex="280px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.select\' |\r\n                                        translate}}</mat-label>\r\n                                        <mat-select [formControl]="course_type" multiple (selectionChange)="searchbatchgrid($event.value,\'category\')">\r\n                                            <div class="option-listing countryselectwithimage">\r\n                                            <mat-option *ngFor="let list of standcourse" [value]="list.standardcoursemst_pk">\r\n                                                {{list.scm_coursename_en}}\r\n                                            </mat-option>\r\n                                            </div>\r\n                                        </mat-select>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 3 --\x3e\r\n                        <ng-container matColumnDef="row-three">\r\n                            <mat-header-cell fxFlex="180px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 4 --\x3e\r\n                        <ng-container matColumnDef="row-four">\r\n                            <mat-header-cell fxFlex="150px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 5 --\x3e\r\n                        <ng-container matColumnDef="row-newsix">\r\n                            <mat-header-cell fxFlex="263px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <div class="drpicker" id="regapp">\r\n                                                <input id="login_session" [formControl]="lastUpdated" #pickers matInput type="text" (datesUpdated)="serachdate($event,\'date\')" autocomplete="off" ngxDaterangepickerMd  [showCustomRangeLabel]="true"  [alwaysShowCalendars]="true" [ranges]="ranges"  [locale]="locale" [linkedCalendars]="true"  [showClearButton]="true"  [maxDate]=\'selected2\'  readonly class="form-control" [max]="today"/>\r\n                                                <div class="closeanddateicon">\r\n                                                    <mat-datepicker-toggle matSuffix >\r\n                                                    </mat-datepicker-toggle>\r\n                                                </div>\r\n                                            </div>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        \x3c!-- 12 --\x3e\r\n                        <ng-container matColumnDef="row-twelve" stickyEnd>\r\n                            <mat-header-cell fxFlex="100px" class="serachrow" *matHeaderCellDef\r\n                            style="text-align:center">\r\n                            <i class="fa fa-refresh m-l-15 cursorview" (click)="clearFilter();filtersts=false;"\r\n                                aria-hidden="true" matTooltip="{{\'Refresh\'|translate}}"></i>\r\n                        </mat-header-cell>\r\n                        </ng-container>\r\n                       \r\n                        <mat-header-row id="headerrowcells" *matHeaderRowDef="displayedColumns;">\r\n                        </mat-header-row>\r\n                        <mat-header-row id="searchrow"\r\n                            *matHeaderRowDef="[\'row-firstnew\',\'row-new\' ,\'row-newone\', \'row-first\' , \'row-second\' , \'row-type\', \'row-three\' , \'row-four\' ,\'row-newsix\', \'row-twelve\' ]">\r\n                        </mat-header-row>\r\n                        <mat-row mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>\r\n                        <ng-container matColumnDef="disclaimer">\r\n                            <td mat-footer-cell *matFooterCellDef colspan="11">\r\n                                <div fxFlex="100" fxLayout="column" [ngClass]="tblplaceholder?\'\':\'nofound\'" fxLayoutAlign="center center">\r\n                                    <div fxLayout="row wrap" fxLayoutAlign="center center"  *ngIf="tblplaceholder"\r\n                                    class="NorecordLoader m-t-20"></div>\r\n                                    <img src="assets/images/opalimages/norecord.svg" alt="norecord" *ngIf="!tblplaceholder" />\r\n                                    <p class="m-t-10 txt-gry3 fs-16" *ngIf="!tblplaceholder && !start">{{\'No Records\' | translate}} </p>\r\n                                        <p class="m-t-10 txt-gry3 fs-16" *ngIf="!tblplaceholder && start">{{\'To view a specific Learner information, use the Search option on the Information required.\' | translate}} </p>\r\n                                    \r\n                                </div>\r\n                            </td>\r\n                        </ng-container>\r\n                        <ng-container >\r\n                            <mat-footer-row [class.stickyclass]="(learnercard_length > 0) ? \'none\' : \'block\'"\r\n                                [style.display]="(learnercard_length > 0) ? \'none\' : \'block\' "\r\n                                *matFooterRowDef="[\'disclaimer\']" style="justify-content: center">\r\n                            </mat-footer-row>\r\n                        </ng-container>\r\n                    </mat-table>\r\n                </div>\r\n                <div fxLayout="row" fxLayoutAlign="end" class="m-b-15 m-t-30">\r\n                    <div fxFlex.gt-sm="100" fxFlex="100" class="footerpaginator">\r\n                        <mat-paginator class="p-r-10" ngClass.xs="block" ngClass.sm="block"\r\n                            class="masterPage masterbottom " showFirstLastButtons [pageSize]="paginator?.pageSize"\r\n                            (page)="syncPrimaryPaginator($event);" [pageIndex]="paginator?.pageIndex"\r\n                            [length]="learnercard_length" [pageSizeOptions]="paginator?.pageSizeOptions">\r\n                        </mat-paginator>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},ldHf:function(e,t,a){"use strict";a.r(t),t.default='<div id="learnercardreg" fxLayoutAlign="center start">\r\n    <app-responseloader *ngIf="fullPageLoaders"></app-responseloader>\r\n    <div class="vehicleinspection" fxFlex="100" fxFlex.gt-sm="100" *ngIf="!fullPageLoaders">\r\n        <form autocomplete="off" [formGroup]="cardregistrationform" \r\n        #rgform="ngForm">\r\n        <div class="formcontainer m-t-25" fxLayoutAlign="space-between start">\r\n            <div fxLayout="column wrap" fxLayoutAlign="space-between start" fxFlex="100" fxFlex.gt-sm="23">               \r\n                 <div fxFlex.gt-sm="18" fxFlex="100" class="responsivewafterwidth m-b-15 m-l-10">\r\n                    <div class="uploadicon imagelgopaper imageafteronlinepay"  \r\n                    [ngClass]="viewpage ? \'readonlyfieldprofile\' : \' \'">\r\n                        <app-filee #logo class="heightfixed"\r\n                            [notePosition]="\'bottom\'" [fileMstRef]="drv_logo"\r\n                            formControlName="uploaded" isLogo=true [isDelete]="!viewpage ? true : false"\r\n                            (deleteImageID)="deleteLogo($event)"\r\n                            (filesSelected)="fileeSelected($event,drv_logo)">\r\n                        </app-filee>\r\n                    </div>\r\n                    <mat-hint *ngIf="!viewpage" class="txt-gry fs-12 m-t-15" fxFlex="53"> {{\'Only JPEG, JPG, PNG, JFIF are allowed up to 3MB in size\' |\r\n                        translate}}</mat-hint>\r\n                        \r\n                </div>\r\n               \r\n            </div>\r\n          <div fxFlex="100" fxFlex.gt-sm="86">\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100" [ngClass]="viewpage ? \'readonlyfield\' : \' \'">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-label>{{\'Civil Number\' | translate}} </mat-label>\r\n                        <input  (keydown.enter)="$event.preventDefault()" \r\n                            matInput  app-restrict-input="numspecsymbol" \r\n                            required formControlName="crNumber" [readonly]="viewpage" (change)="checkCivilNum($event)">\r\n                        <mat-error *ngIf="form.crNumber.errors?.required || form.submitted">\r\n                            {{\'Enter the Civil Number\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n               \r\n            </div>\r\n                <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                    <div fxFlex.gt-sm="50" fxFlex="100" [ngClass]="viewpage ? \'readonlyfield\' : \' \'">\r\n                        <mat-form-field appearance="outline">\r\n                            <mat-label>{{\'Learner Name (English)\' | translate}} </mat-label>\r\n                        <input  (keydown.enter)="$event.preventDefault()" \r\n                            matInput  app-restrict-input="english" \r\n                            required formControlName="learname" app-restrict-input="englishspace" [readonly]="viewpage">\r\n                        <mat-error *ngIf="form.learname.errors?.required || form.submitted">\r\n                            {{\'Enter the Learner Name (English)\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                    </div>\r\n                     <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30" ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100">\r\n                    <mat-form-field appearance="outline" class="arabiclanguage"  [ngClass]="viewpage ? \'readonlyfield\' : \' \'" >\r\n                        <mat-label>{{\'Learner Name (Arabic)\' | translate}} </mat-label>\r\n                        <input  (keydown.enter)="$event.preventDefault()" \r\n                            matInput  app-restrict-input="arabic"\r\n                            required formControlName="learnamearabic"  appAlphabetonly [readonly]="viewpage">\r\n                        <mat-error *ngIf="form.learnamearabic.errors?.required || form.submitted">\r\n                            {{\'Enter the Learner Name (Arabic)\' | translate}} </mat-error>\r\n                </mat-form-field>\r\n            </div>\r\n                    </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100" >\r\n                    <mat-form-field appearance="outline" [ngClass]="viewpage ? \'readonlyfield\' : \' \'">\r\n                        <mat-label>{{\'Date of Birth\' | translate}} </mat-label>\r\n                        <input matInput required formControlName="date_birth"\r\n                            (mousedown)="pickerage.open(); $event.preventDefault"\r\n                            [disabled]="viewpage" [max]="maxDate"\r\n                            [matDatepicker]="pickerage" [readonly]="viewpage" (dateChange)="calculateage($event.value)">\r\n                        <mat-datepicker-toggle matSuffix [for]="pickerage" ></mat-datepicker-toggle>\r\n                        <mat-datepicker #pickerage ></mat-datepicker>\r\n                        <mat-error *ngIf="form.date_birth.errors?.required || form.submitted">\r\n                            {{\'Select the Date of Birth\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100" >\r\n                        <mat-form-field appearance="outline"\r\n                        [ngClass]="editOption == true ? \'readonlyfield\' : \' \'">\r\n                        <mat-label>{{\'Age\' | translate}} </mat-label>\r\n                        <input (keydown.enter)="$event.preventDefault()" matInput\r\n                            [readonly]="editOption" formControlName="age"\r\n                            maxlength="2">\r\n                    </mat-form-field>\r\n\r\n            </div>\r\n            </div>  \r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100" >\r\n                    <mat-form-field appearance="outline"  [ngClass]="viewpage ? \'readonlyfield\' : \' \'">\r\n                        <mat-select  required formControlName="gender" [disabled]="viewpage">\r\n                         <div class="option-listing countryselectwithimage">\r\n                            <mat-option value="1">{{\'Male\' | translate }}</mat-option>\r\n                            <mat-option value="2">{{\'Female\' | translate }}</mat-option>\r\n                        </div>\r\n                    </mat-select>\r\n\r\n                        <mat-label>{{\'Gender\' | translate}} </mat-label>\r\n                        <mat-error *ngIf="form.gender.errors?.required || form.submitted">\r\n                            {{\'Select the Gender from the drop-down\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                ngClass.lg="p-l-30" ngClass.xl="p-l-30"  fxFlex="100" >\r\n                    <mat-form-field appearance="outline" [ngClass]="viewpage ? \'readonlyfield\' : \' \'">\r\n                        <mat-label>{{\'Nationality\' | translate}} </mat-label>\r\n                        <mat-select  required formControlName="national" [disabled]="viewpage" (closed)="natioanl_search = \'\';" panelClass="select_with_search"\r\n                        *ngIf="(nationality | filter : natioanl_search) as inst_stateresult">\r\n                            <div class="searchinmultiselect"><mat-icon class="">search</mat-icon>\r\n                                    <input (keydown.enter)="$event.preventDefault()" appAlphanumsymb matInput class="searchselect"\r\n                                    type="Search"  placeholder="{{\'Search\' | translate}} " (keydown)="$event.stopPropagation();"\r\n                                        [(ngModel)]="natioanl_search" [ngModelOptions]="{standalone: true}"  autocomplete="off">\r\n                                    <mat-icon (click)="natioanl_search = \'\'" class="reseticon" matSuffix\r\n                                            *ngIf="natioanl_search !=\'\' && natioanl_search !=null">clear</mat-icon>\r\n                                </div>\r\n                                <div class="option-listing countryselectwithimage">\r\n                                    <mat-option *ngFor="let list of nationality | filter : natioanl_search" [value]="list.opalcountrymst_pk">\r\n                                        {{list.ocym_countryname_en}}\r\n                                    </mat-option>\r\n                                    <div *ngIf="inst_stateresult.length == 0">{{\'No Result Found\' | translate}}</div>\r\n                                </div>\r\n                        </mat-select>\r\n                        <mat-error > {{\'Select the Nationality from the drop-down\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n                </div>\r\n             \r\n                <div class="col-12 ">\r\n                    <p>{{\' Has ROP Driving License\' | translate}}<span class="text-danger" *ngIf="viewpage == false">*</span>\r\n                        <mat-radio-group [(ngModel)]="selectedradio" [disabled]="requiredfield == false" (change)="onOptionChange($event)" formControlName="selectValues">\r\n                            <mat-radio-button [value]="1" class="m-l-10">{{\'Yes\' | translate }}</mat-radio-button>\r\n                            <mat-radio-button [value]="2"  class="m-l-10">{{\'No\' | translate }}</mat-radio-button>\r\n                          </mat-radio-group>\r\n                    </p>\r\n                </div>\r\n                <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15" *ngIf="showlicense">\r\n                    <div fxFlex.gt-sm="50" fxFlex="100" [ngClass]="viewpage ? \'readonlyfield\' : \' \'">\r\n                        <mat-form-field appearance="outline">\r\n                            <mat-label>{{\'ROP License Number\' | translate}} </mat-label>\r\n                            <input  (keydown.enter)="$event.preventDefault()" \r\n                            matInput  app-restrict-input="englishkeyboardnospace" appAlphanum\r\n                            required formControlName="ropnumber" [readonly]="viewpage">\r\n                            <mat-error *ngIf="form.ropnumber.errors?.required || form.submitted">\r\n                                {{\'Enter the ROP License Number\' | translate}} </mat-error>\r\n                        </mat-form-field>\r\n                    </div>\r\n                </div> \r\n                <div #pagescroll fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15 m-b-15 pagescroll"  *ngIf="showlicense">\r\n                    <div fxFlex.gt-sm="100" fxFlex="100" [ngClass]="viewpage ? \'readonlyfielddocument\' : \' \'">\r\n                            <mat-label class="txt-gry m-b-3">{{\'ROP License\' | translate}} </mat-label>\r\n                            <app-filee [readonly]="viewpage" #cividoc [fileMstRef]="croplic" [requiredfield]="requiredfield"  (filesSelected)="fileeSelecteddouble($event,croplic)"\r\n                            formControlName="roplicen_se" [notePosition]="\'bottom\'" [deleteicon]="deleteicon">\r\n                        </app-filee>\r\n                        <mat-hint class="txt-gry fs-14">{{\'Only (2) JPG, JPEG, PNG, PDF are allowed upto 5MB in size\' | translate}}</mat-hint>\r\n                        <mat-error\r\n                        *ngIf="cardregistrationform.controls.roplicen_se.invalid && uploadfiles == true">\r\n                        {{\'Please Upload file\' | translate}} </mat-error>\r\n                   </div>\r\n                </div> \r\n                <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-20" *ngIf="!addpage">\r\n                    <div fxFlex.gt-sm="50" fxFlex="100">\r\n                        <mat-form-field appearance="outline"  [ngClass]="viewpage || editpage ? \'readonlyfield\' : \' \'">\r\n                            <mat-label>{{\'Verification Number\' | translate}} </mat-label>\r\n                            <input  (keydown.enter)="$event.preventDefault()" \r\n                            matInput  app-restrict-input="numspecsymbol" \r\n                             formControlName="verifiednumber" [readonly]="viewpage || editpage">\r\n                            <mat-error *ngIf="form.verifiednumber.errors?.required || form.submitted">\r\n                                {{\'Enter the Verification Number\' | translate}} </mat-error>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                    ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100" *ngIf="!addpage">\r\n                        <mat-form-field class="filter" appearance="outline" [ngClass]="viewpage || editpage ? \'readonlyfield\' : \' \'">\r\n                            <mat-label>{{\'Course Type\' | translate}} </mat-label>\r\n                            <input matInput\r\n                            [readonly]="viewpage || editpage" formControlName="coursetype" >\r\n                        <mat-error *ngIf="form.coursetype.errors?.required || form.submitted">\r\n                            {{\'Select the Course Type from the drop-down\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n                </div>  \r\n                <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                    <div fxFlex.gt-sm="50" fxFlex="100">\r\n                        <mat-form-field appearance="outline" *ngIf="!addpage" [ngClass]="viewpage || editpage ? \'readonlyfield\' : \' \'">\r\n                            <mat-label>{{\'Category\' | translate}} </mat-label>\r\n                            <input  (keydown.enter)="$event.preventDefault()" \r\n                            matInput formControlName="category" [readonly]="viewpage || editpage">\r\n                            <mat-error *ngIf="form.category.errors?.required || form.submitted">\r\n                                {{\'Enter the Category\' | translate}} </mat-error>\r\n                        </mat-form-field>\r\n\r\n                        <mat-form-field appearance="outline"*ngIf="addpage" [ngClass]="viewpage || editpage ? \'readonlyfield\' : \' \'">\r\n                            <mat-select formControlName="category" required [disabled]="viewpage || editpage" (selectionChange)="getcarddetails($event.value)" panelClass="select_with_search">\r\n                                <div class="option-listing countryselectwithimage">\r\n                                <mat-option *ngFor="let list of courselist" [value]="list.standardcoursemst_pk">\r\n                                    {{list.scm_coursename_en}}\r\n                                </mat-option>\r\n                                </div>\r\n                            </mat-select>\r\n                            \r\n                            <mat-label>{{\'Category\' | translate}} </mat-label>\r\n                            <mat-error *ngIf="form.category.errors?.required || form.submitted">\r\n                                {{\'Select the Category from the drop-down\' | translate}} </mat-error>\r\n                        </mat-form-field> \r\n                    </div>\r\n                    <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                    ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100" *ngIf="!addpage">\r\n                    <mat-form-field appearance="outline" [ngClass]="viewpage || editpage ? \'readonlyfield\' : \' \'">\r\n                        <mat-label>{{\'Last Issued On\' | translate}} </mat-label>\r\n                        <input matInput  formControlName="last_date"\r\n                            (mousedown)="lastdate.open(); $event.preventDefault"\r\n                            [disabled]="lastdate.opened"[max]="maxDate"\r\n                            [matDatepicker]="lastdate" [readonly]="viewpage">\r\n                        <mat-datepicker-toggle matSuffix [for]="lastdate"></mat-datepicker-toggle>\r\n                        <mat-datepicker #lastdate></mat-datepicker>\r\n                        <mat-error *ngIf="form.last_date.errors?.required || form.submitted">\r\n                            {{\'Select the Last Issued On\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n                </div>  \r\n          </div>\r\n        </div>\r\n    <div fxLayoutAlign="start centre" #pagescrollform class="pagescrollform">\r\n       <h4 class="fs-18 txt-gry3">Sub Categories</h4>\r\n    </div>\r\n    <div class="availablecard " >\r\n        <form  [formGroup]="availabelDate" #availabelFormRest="ngForm" class="subcategory" *ngIf="showsubcate == true">\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="p-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100" [ngClass]="addshowbtn?\'readonlyfield\':\'\'" >\r\n                    <mat-form-field appearance="outline" *ngIf="!allowadd">\r\n                        <mat-label>{{\'Batch Number\' | translate}}</mat-label>\r\n                            <input matInput  formControlName="batch" [readonly]="viewpage || editpage">\r\n                    </mat-form-field>\r\n                      <mat-form-field appearance="outline" class="example-full-width" *ngIf="allowadd">\r\n                        <mat-label>{{\'Batch Number\' | translate}}</mat-label>\r\n                        <input matInput placeholder="Search Batch" [(ngModel)]="selectedbatch" [matAutocomplete]="auto"\r\n                        formControlName="batch" (input)="getbatchnumber()" >\r\n                        <button *ngIf="selectedbatch" matSuffix mat-icon-button aria-label="Clear" (click)="clearSelection()">\r\n                          <mat-icon>close</mat-icon>\r\n                        </button>\r\n                        <mat-autocomplete [panelWidth]="400" #auto="matAutocomplete" (optionSelected)="gettraningcenter(selectedbatch)"\r\n                          [displayWith]="displayWith">\r\n                          <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>\r\n                          <ng-container *ngIf="!isLoading">\r\n                            <div class="option-listing countryselectwithimage">\r\n                            <mat-option *ngFor="let batch of filteredbatch" [value]="batch">{{batch.bmd_Batchno}}</mat-option>\r\n                        </div>\r\n                        </ng-container>\r\n                        </mat-autocomplete>\r\n                      </mat-form-field>\r\n                </div>\r\n                <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100" >\r\n                <mat-form-field appearance="outline"  >\r\n                    <mat-label>{{\'Training Centre\' | translate}} </mat-label>\r\n                    <mat-select  formControlName="training"  (closed)="traning_search = \'\';" panelClass="select_with_search"\r\n                     *ngIf="(tranincenterlist | filter : traning_search) as inst_stateresult">\r\n                           <div class="searchinmultiselect"><mat-icon class="">search</mat-icon>\r\n                                 <input (keydown.enter)="$event.preventDefault()" appAlphanumsymb matInput class="searchselect"\r\n                                   type="Search"  placeholder="{{\'Search\' | translate}} " (keydown)="$event.stopPropagation();"\r\n                                     [(ngModel)]="traning_search" [ngModelOptions]="{standalone: true}"  autocomplete="off">\r\n                                        <mat-icon (click)="traning_search = \'\'" class="reseticon" matSuffix\r\n                                         *ngIf="traning_search !=\'\' && traning_search !=null">clear</mat-icon></div>\r\n                                            <div class="option-listing countryselectwithimage">\r\n                                                <mat-option *ngFor="let list of tranincenterlist | filter : traning_search" [value]="list.opalmemberregmst_pk">\r\n                                                    {{list.omrm_tpname_en}}\r\n                                                </mat-option>\r\n                                                <div *ngIf="inst_stateresult.length == 0">{{\'No Result Found\' | translate}}</div>\r\n                                            </div>\r\n                    </mat-select>\r\n                           <mat-error > {{\'Select the Traning centre from the drop-down\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                \x3c!-- <mat-form-field appearance="outline"  *ngIf="!allowadd" [ngClass]="viewpage || editpage?\'readonlyfield\':\'\'">\r\n                    <mat-label>{{\'Training Centre\' | translate}} </mat-label>\r\n                    <input matInput formControlName="training" [readonly]="viewpage || editpage">\r\n                </mat-form-field> --\x3e\r\n                </div>\r\n            </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="p-t-15">\r\n                <div fxFlex.gt-sm="50" fxFlex="100">\r\n                    <mat-form-field appearance="outline"  [ngClass]="addshowbtn==true?\'readonlyfield\':\'\'">\r\n                        \x3c!-- <mat-select formControlName="subcate" panelClass="select_with_search" required *ngIf="allowadd" (selectionChange)="alreadyexistcategory($event.value)">\r\n                            <div class="option-listing countryselectwithimage">\r\n                            <mat-option *ngFor="let list of subcategory" [value]="list.standardcoursedtls_pk">\r\n                                {{list.ccm_catname_en}}\r\n                            </mat-option>\r\n                            </div>\r\n                        </mat-select> --\x3e\r\n\r\n                        <mat-select  required formControlName="subcate" (closed)="subcate_search = \'\';" panelClass="select_with_search"\r\n                        *ngIf="allowadd && (subcategory | filter : subcate_search) as inst_stateresult" (selectionChange)="alreadyexistcategory($event.value)">\r\n                            <div class="searchinmultiselect"><mat-icon class="">search</mat-icon>\r\n                                    <input (keydown.enter)="$event.preventDefault()" appAlphanumsymb matInput class="searchselect"\r\n                                    type="Search"  placeholder="{{\'Search\' | translate}} " (keydown)="$event.stopPropagation();"\r\n                                        [(ngModel)]="subcate_search" [ngModelOptions]="{standalone: true}"  autocomplete="off">\r\n                                    <mat-icon (click)="subcate_search = \'\'" class="reseticon" matSuffix\r\n                                            *ngIf="subcate_search !=\'\' && subcate_search !=null">clear</mat-icon>\r\n                                </div>\r\n                                <div class="option-listing countryselectwithimage">\r\n                                    <mat-option *ngFor="let list of subcategory | filter : subcate_search" [value]="list.standardcoursedtls_pk">\r\n                                        {{list.ccm_catname_en}}\r\n                                    </mat-option>\r\n                                    <div *ngIf="inst_stateresult.length == 0">{{\'No Result Found\' | translate}}</div>\r\n                                </div>\r\n                        </mat-select>\r\n                        <mat-label>{{\'Sub Category\' | translate}} </mat-label>\r\n                        <mat-error *ngIf="forme.subcate.errors?.required || form.submitted">\r\n                            {{\'Select the Sub category from the drop-down\' | translate}} </mat-error>\r\n                            <input matInput required  formControlName="subcate" *ngIf="!allowadd" [readonly]="viewpage || editpage">\r\n                    </mat-form-field> \r\n                </div>\r\n                <div fxFlex.gt-sm="50" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-30"\r\n                ngClass.lg="p-l-30" ngClass.xl="p-l-30" fxFlex="100">\r\n                    <mat-form-field appearance="outline">\r\n                        <mat-select  required formControlName="mentioned">\r\n                         <div class="option-listing countryselectwithimage">\r\n                            <mat-option value="1">{{\'Yes\' | translate }}</mat-option>\r\n                            <mat-option value="2">{{\'No\' | translate }}</mat-option>\r\n                        </div>\r\n                    </mat-select>\r\n\r\n                        <mat-label>{{\'Mentioned in Permit\' | translate}} </mat-label>\r\n                        <mat-error *ngIf="forme.mentioned.errors?.required || form.submitted">\r\n                            {{\'Select the Mentioned in Permit from the drop-down\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="flex-start center" class="m-t-15">\r\n                <div fxFlex.gt-md="80" fxFlex="100" class="date_exp"  fxLayoutAlign="flex-start center" class="date_exp">\r\n                    <mat-form-field appearance="outline" fxFlex="63" [ngClass]="notallowed?\'readonlyfield\':\'\'">\r\n                        <mat-label>{{\'Expiry Date\' | translate}} </mat-label>\r\n                        <input matInput formControlName="workdate" [required]="worktilled"\r\n                            (dateChange)="dateSelected($event)" \r\n                            (mousedown)="pickerwork.open(); $event.preventDefault"\r\n                            [disabled]="pickerwork.opened || notallowed" [matDatepicker]="pickerwork"\r\n                            readonly >\r\n                        <mat-icon matDatepickerToggleIcon matSuffix *ngIf="cleardate"\r\n                            (dateChange)="dateSelected($event)"\r\n                            (click)="clearData()">clear</mat-icon>\r\n                        <mat-datepicker-toggle matSuffix\r\n                            [for]="pickerwork"></mat-datepicker-toggle>\r\n                        <mat-datepicker #pickerwork></mat-datepicker>\r\n                        <mat-error\r\n                            *ngIf="forme.workdate.errors?.required || forme.submitted">\r\n                            {{\'Select the Expiry Date\' | translate}} </mat-error>\r\n                    </mat-form-field>\r\n                    <div class="workcheckbox m-l-25 m-b-13 ">\r\n                        <mat-checkbox formControlName="noexipry" [required]="!worktilled"\r\n                            (change)="onCheckboxChange($event)"\r\n                            [disabled]="isCheckboxDisabled"> </mat-checkbox>\r\n                        <mat-lable class="m-l-5 txt-gry" >{{\'No Expiry date is Required\' |translate}}\r\n                            <span class="errors" *ngIf="!worktilled" style="color:red">*</span></mat-lable>\r\n                            <mat-error\r\n                            *ngIf="(forme.noexipry.errors?.required || forme.submitted) && !worktilled ">\r\n                            {{\'Select the Expiry Date\' | translate}} </mat-error>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n            <div fxLayout="row wrap" fxLayoutAlign="end center" class="m-t-15">\r\n                  <button mat-raised-button class="cancelbtn m-r-15" type="button" (click)="clear()">{{\'Cancel\' | translate}}</button>\r\n                  <button mat-raised-button class="submitbtn" type="submit" *ngIf="allowadd == false" (click)="updatedata()">{{\'Update\' | translate}}</button>\r\n                  <button mat-raised-button class="submitbtn" type="submit" *ngIf="allowadd == true"  (click)="savedata()">{{\'Add\' | translate}}</button>\r\n            </div>\r\n        </form>\r\n      <div class="p-l-20 p-r-20 m-t-20">\r\n        <div class="paginationwithfilter masterPageTop ">\r\n            \x3c!-- [style.visibility]="(resultsLength > 5) ? \'visible\' : \'hidden\' " --\x3e\r\n            <mat-paginator class="masterPage masterPageTop" #paginator [length]="datalength" [pageSize]="10"\r\n                [pageSizeOptions]="[5, 10, 25, 100]" (page)="syncPrimaryPaginator($event);"></mat-paginator>\r\n            <div fxLayout="row wrap" fxLayoutAlign="end">\r\n                <div fxFlex.gt-sm="100" fxFlex="100" fxLayout="row wrap">\r\n                    <button mat-raised-button type="button"(click)="clickToadd();" *ngIf="this.showsubcate == false && this.viewpoint == true  && createaccess"\r\n                    class="submitbtn m-r-15">{{\'Add\' | translate}}</button>\r\n                    <button mat-raised-button type="button" color="primary" *ngIf="!addpage" (click)="clickEvent();"\r\n                        class="filter">{{filtername}}<i class="opalicon opal-filter fs-15 m-l-7"\r\n                            aria-hidden="true"></i></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div fxLayout="row wrap">\r\n            <div fxFlex.gt-sm="100" fxFlex="100" class="tabforclientelenew">\r\n                <div class="awaredtable">\r\n                    <mat-table #table class="scrolldata" [dataSource]="dataSource" matSort\r\n                        matSortDisableClear>\r\n                        <ng-container matColumnDef="bmd_Batchno">\r\n                            <mat-header-cell fxFlex="240px"  mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Batch No\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="batchno" fxFlex="240px"  *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>\r\n                                <div *ngIf="!tblplaceholder">{{element.bmd_Batchno ? element.bmd_Batchno : \'-\'}} </div>\r\n                                </mat-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="omrm_tpname_en">\r\n                            <mat-header-cell fxFlex="250px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Training Centre\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="centre" fxFlex="250px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>\r\n                                <div *ngIf="!tblplaceholder">{{element.omrm_tpname_en ? element.omrm_tpname_en : \'-\'}} </div>\r\n                                </mat-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="lcd_subcategoryname">\r\n                            <mat-header-cell fxFlex="190px" mat-header-cell *matHeaderCellDef\r\n                                mat-sort-header>{{\'Sub Category\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="subcategory" fxFlex="190px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>\r\n                                <div *ngIf="!tblplaceholder">{{element.lcd_subcategoryname}} </div>\r\n                                </mat-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="lcd_isprinted">\r\n                            <mat-header-cell fxFlex="250px" mat-header-cell *matHeaderCellDef\r\n                            mat-sort-header>{{\'Mentioned in Permit\' | translate}}</mat-header-cell>\r\n                            <mat-cell data-label="mention" fxFlex="250px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>\r\n                                <div *ngIf="!tblplaceholder">{{element.lcd_isprinted == 1 ? \'Yes\' : \'No\'}} </div>\r\n                                 </mat-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="lcd_cardexpiry">\r\n                            <mat-header-cell fxFlex="263px" mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                                {{\'Expiry Date\' | translate}} </mat-header-cell>\r\n                            <mat-cell data-label="expirydate" fxFlex="263px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>\r\n        \r\n                                <div *ngIf="!tblplaceholder">\r\n                                    {{element.lcd_cardexpiry ? (element.lcd_cardexpiry | date : \'dd-MM-yyyy\') : \'No Expiry\'}}\r\n                                </div></mat-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="action" stickyEnd >\r\n                            <mat-header-cell  fxFlex="100px" mat-header-cell *matHeaderCellDef>{{\'Action\'\r\n                                | translate}}\r\n                            </mat-header-cell>\r\n                            <mat-cell data-label="action" fxFlex="100px" *matCellDef="let element">\r\n                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>\r\n                                <div *ngIf="!tblplaceholder"><div class="manageoptions"\r\n                                    >\r\n                                    <button class="menubutton" mat-icon-button [matMenuTriggerFor]="actionmenu"\r\n                                        aria-label="Example icon-button with a menu" (click)="onMenuButtonClick($event)">\r\n                                        <mat-icon class="moremenucolor" type="button">more_horiz</mat-icon>\r\n                                    </button>\r\n                                    <mat-menu #actionmenu="matMenu" \r\n                                    class="master-menu whentootltipadded table_menu">\r\n                                    \x3c!-- edit --\x3e\r\n                                    <button  type="button" mat-menu-item (click)="editsubcate(element)"  *ngIf="!viewpage && !addpage && updateaccess"><span>{{\'Edit\' | translate}} </span></button>\r\n                                    <button type="button" mat-menu-item *ngIf="!viewpage && !addpage && updateaccess" (click)="deactivatecard(element.learnercarddtls_pk)" ><span>{{\'Deactivate\' |translate}}</span></button>\r\n                                    <button  type="button" mat-menu-item *ngIf="element.bmd_Batchno  && !addpage && viewbatchaccess" (click)="viewbatch(element.bmd_Batchno)"  ><span>{{\'View Batch Details\' | translate}} </span></button>\r\n                                    <button type="button" mat-menu-item *ngIf="element.lcd_viewcardpath && element.viewfileexist && !addpage && downloadaccess" (click)="viewcard(element.lcd_learnerreghrddtls_fk)" ><span>{{\'View Card\' |translate}}</span></button>\r\n                                    <button type="button" mat-menu-item *ngIf="element.lcd_plaincard && element.printfileexist && !addpage && downloadaccess" (click)="opendialogprintsetup(element.lcd_learnerreghrddtls_fk)" ><span>{{\'Print Card\' |translate}}</span></button>\r\n                                </mat-menu>\r\n                                </div>\r\n                            </div>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="row-first">\r\n                            <mat-header-cell fxFlex="240px"  class="serachrow datepickerrangeform" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                               \r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |translate}}</mat-label>\r\n                                    <input matInput [formControl]="batchno" (keyup)="searchbatchgrid($event.target.value,\'batchno\')">\r\n                                </mat-form-field>\r\n                                </mat-header-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="row-second">\r\n                            <mat-header-cell fxFlex="250px" class="serachrow datepickerrangeform" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <mat-label>{{\'table.search\' |translate}}</mat-label>\r\n                                    <input matInput [formControl]="centre" (keyup)="searchbatchgrid($event.target.value,\'centre\')">\r\n                                </mat-form-field>\r\n                                </mat-header-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="row-three">\r\n                            <mat-header-cell fxFlex="190px" class="serachrow datepickerrangeform" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline" >\r\n                                    <mat-label>{{\'Select\' |\r\n                                        translate}}</mat-label>\r\n                                    <mat-select [formControl]="cate_filter"  multiple (selectionChange)="searchbatchgrid($event.value,\'subcourse\')">\r\n                                        <mat-option *ngFor="let list of subcategory" [value]="list.standardcoursedtls_pk">\r\n                                            {{list.ccm_catname_en}}\r\n                                        </mat-option>\r\n                                    </mat-select>\r\n                                </mat-form-field>\r\n                                </mat-header-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="row-four">\r\n                            <mat-header-cell fxFlex="250px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                <mat-label>{{\'Select\' |\r\n                                    translate}}</mat-label>\r\n                                <mat-select [formControl]="addeddate"  multiple (selectionChange)="searchbatchgrid($event.value,\'isprint\')">\r\n                                    <mat-option [value]="1">{{\'Yes\' | translate }}</mat-option>\r\n                                    <mat-option [value]="2">{{\'No\' | translate }}</mat-option>\r\n                                </mat-select>\r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="row-five">\r\n                            <mat-header-cell fxFlex="263px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n                                <mat-form-field class="filter" appearance="outline">\r\n                                    <div class="drpicker" id="regapp">\r\n                                        \x3c!-- <mat-label>{{\'table.sele\' |translate}}</mat-label> --\x3e\r\n                                        <input id="login_session" [formControl]="addeddate" (datesUpdated)="serachdate($event,\'expirydate\')"\r\n                                         #pickers matInput type="text" autocomplete="off" ngxDaterangepickerMd  [showCustomRangeLabel]="true"  \r\n                                         [alwaysShowCalendars]="true" [ranges]="ranges"  [locale]="locale" [linkedCalendars]="true" \r\n                                          [showClearButton]="true"  [maxDate]=\'selected2\'  readonly class="form-control" [max]="today"/>\r\n                                        <div class="closeanddateicon">\r\n                                            <mat-datepicker-toggle matSuffix >\r\n                                            </mat-datepicker-toggle>\r\n                                        </div>\r\n                                    </div>\r\n                                    \r\n                                </mat-form-field>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        <ng-container matColumnDef="row-six" stickyEnd>\r\n                            <mat-header-cell fxFlex="100px" class="serachrow" *matHeaderCellDef\r\n                                style="text-align:center">\r\n\r\n                                <i *ngIf="!addpage" class="fa fa-refresh m-l-15 cursorview" (click)="clearFiltersecound();filtersts=false;"\r\n                                    aria-hidden="true" matTooltip="{{\'Refresh\' |translate}}"></i>\r\n                            </mat-header-cell>\r\n                        </ng-container>\r\n                        <mat-header-row id="headerrowcells" *matHeaderRowDef="TrainingDate;" >\r\n                        </mat-header-row>\r\n                        <mat-header-row id="searchrow"\r\n                            *matHeaderRowDef="[\'row-first\' , \'row-second\' , \'row-three\' , \'row-four\', \'row-five\', \'row-six\']">\r\n                        </mat-header-row>\r\n                        <mat-row mat-row *matRowDef="let row; columns: TrainingDate;"></mat-row>\r\n                        <ng-container matColumnDef="disclaimer">\r\n                            <td mat-footer-cell *matFooterCellDef colspan="11">\r\n                                <div fxFlex="100" fxLayout="column" fxLayoutAlign="center center"  [ngClass]="tblplaceholder?\'\':\'nofound\'" >\r\n                                    <div fxLayout="row wrap" fxLayoutAlign="center center"  *ngIf="tblplaceholder"\r\n                                    class="NorecordLoader m-t-20"></div>\r\n                                    <img src="assets/images/opalimages/norecord.svg" alt="norecord" *ngIf="!tblplaceholder">\r\n                                    <p class="m-t-10 txt-gry3 fs-16" *ngIf="!tblplaceholder">{{\'No Records\' | translate}} \r\n                                    </p>\r\n                                </div>\r\n                            </td>\r\n                        </ng-container>\r\n                        <ng-container>\r\n                          \r\n                            <mat-footer-row [class.stickyclass]="(datalength > 0) ? \'none\' : \'block\'" [style.display]="(datalength > 0) ? \'none\' : \'block\' " \r\n                                *matFooterRowDef="[\'disclaimer\']" style="justify-content: center;display: none;">\r\n                            </mat-footer-row>\r\n                        </ng-container>\r\n                    </mat-table>\r\n                </div>\r\n                <div fxLayout="row" fxLayoutAlign="end" class="m-b-15 m-t-30">\r\n                    <div fxFlex.gt-sm="100" fxFlex="100" class="footerpaginator">\r\n                        <mat-paginator class="p-r-10" ngClass.xs="block" ngClass.sm="block"\r\n                            class="masterPage masterbottom " showFirstLastButtons\r\n                            [pageSize]="paginator?.pageSize" (page)="syncPrimaryPaginator($event);"\r\n                            [pageIndex]="paginator?.pageIndex" [length]="datalength"\r\n                            [pageSizeOptions]="paginator?.pageSizeOptions">\r\n                        </mat-paginator>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n    <div fxLayout="row wrap" fxLayoutAlign="end center" class="m-t-20" >\r\n        <button mat-raised-button class="cancelbtn m-r-15" type="button" (click)="clearreg()">{{\'Cancel\' | translate}}</button>\r\n        <button mat-raised-button class="submitbtnd m-r-15" *ngIf="viewpoint && updateaccess" (click)="savereg()" type="submit">{{\'Save & Generate Card\' | translate}}</button>\r\n        \x3c!-- <button mat-raised-button class="submitbtn" type="button"  *ngIf="viewpoint" >{{\'Save\' | translate}}</button> --\x3e\r\n  </div>\r\n</form>\r\n\r\n    </div>\r\n</div>'},lzvt:function(e,t,a){"use strict";a.r(t),a.d(t,"createTranslateLoader",(function(){return we})),a.d(t,"LearnercardmanagementModule",(function(){return ye}));var r=a("mrSG"),n=a("8Y7J"),i=a("SVse"),l=a("iInd"),o=a("P+IX"),s=a("s7LF"),c=a("UhP/"),d=a("5QHs"),m=a("LUZP"),u=a("OaSA"),f=a("TSSN"),g=a("fWzN"),p=a("z4EA"),h=a("GUC0"),b=a.n(h),v=a("Eyz8"),x=a("wd/R"),w=a.n(x),y=a("AQhQ"),k=a("KNwP"),_=a("EApP"),C=function(){function e(t){_classCallCheck(this,e),this.http=t,this._url="lc/learnercard/"}return _createClass(e,[{key:"getlearnercard",value:function(e,t,a){var r=JSON.stringify({limit:e,index:t,searchkey:a});return this.http.post(this._url+"getlearnercard",r).map((function(e){return e.json()}))}},{key:"getstandardcourse",value:function(){return this.http.get(this._url+"getstandardcourse").map((function(e){return e.json()}))}},{key:"getsinglelearnercard",value:function(e,t){var a=JSON.stringify({staffid:e,courseid:t});return this.http.post(this._url+"getsinglelearnercard",a).map((function(e){return e.json()}))}},{key:"carddetails",value:function(e,t,a,r,n){var i=JSON.stringify({staffid:e,courseid:t,limit:a,index:r,searchkey:n});return this.http.post(this._url+"carddetails",i).map((function(e){return e.json()}))}},{key:"getsubcategories",value:function(e){return this.http.get(this._url+"getsubcategories?courseid="+e).map((function(e){return e.json()}))}},{key:"existcivilnumber",value:function(e){return this.http.get(this._url+"existcivilnumber?civilnumber="+e).map((function(e){return e.json()}))}},{key:"getnationality",value:function(){return this.http.get(this._url+"getnationality").map((function(e){return e.json()}))}},{key:"saveandgeneratercard",value:function(e){return this.http.post(this._url+"saveandgeneratercard",e).map((function(e){return e.json()}))}},{key:"getbatchnumber",value:function(e,t){return this.http.get(this._url+"getbatchnumber?batchno="+e+"&courseid="+t).map((function(e){return e.json()}))}},{key:"gettrainingcenter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.http.get(this._url+"gettrainingcenter?batchid="+e).map((function(e){return e.json()}))}},{key:"alreadyexistsubcategorycard",value:function(e,t){return this.http.get(this._url+"alreadyexistsubcategorycard?staffid="+e+"&categoryid="+t).map((function(e){return e.json()}))}},{key:"editcard",value:function(e){return this.http.post(this._url+"editcard",e).map((function(e){return e.json()}))}},{key:"addsubcategory",value:function(e){return this.http.post(this._url+"addsubcategory",e).map((function(e){return e.json()}))}},{key:"getstaffdata",value:function(e){return this.http.get(this._url+"getstaffdata?civilnumber="+e).map((function(e){return e.json()}))}},{key:"addstaff",value:function(e){return this.http.post(this._url+"addstaff",e).map((function(e){return e.json()}))}},{key:"addLearnerwithnewcatergory",value:function(e){return this.http.post(this._url+"addlearnerwithnewcatergory",e).map((function(e){return e.json()}))}},{key:"alreadybatchnoexist",value:function(e,t){return this.http.get(this._url+"alreadybatchnoexist?batchno="+e+"&subcateid="+t).map((function(e){return e.json()}))}},{key:"deactivecard",value:function(e){return this.http.get(this._url+"deactivecard?cardid="+e).map((function(e){return e.json()}))}}]),e}();C.ctorParameters=function(){return[{type:g.a}]},C=Object(r.c)([Object(n.E)({providedIn:"root"}),Object(r.e)("design:paramtypes",[g.a])],C);var D=a("IZo1"),I=a("BmmT"),L={verficationno:"",roplicenseno:"",idnumber:"",name:"",course:[],category:[],date:""},F=function(){function e(t,a,r,n,i,l,o,c,d,m,u,f,g){_classCallCheck(this,e),this.fb=t,this.router=a,this.formBuilder=r,this.el=n,this.translate=i,this.remoteService=l,this.cookieService=o,this.appservice=c,this.assessmentService=d,this.localstorage=m,this.toastr=u,this.security=f,this.learnercardsevice=g,this.fullPageLoaders=!1,this.tblplaceholder=!1,this.filtername="Hide Filter",this.resultsLength=0,this.hidefilder=!0,this.page=10,this.index=0,this.createaccess=!1,this.viewacess=!1,this.updateaccess=!1,this.downloadaccess=!1,this.start=!0,this.refresh=!1,this.displayedColumns=["lcd_verificationno","sld_ROPlicense","sir_idnumber","sir_name_en","pm_projectname_en","scm_coursename_en","cat_count","exp_count","lcd_createdon","action"],this.languagelist=[{id:"1",languageName:"English",languagecode:"en",CountryMst_Pk:"136",dir:"ltr"},{id:"2",languageName:"Arabic",languagecode:"ar",CountryMst_Pk:"31",dir:"rtl"}],this.dir="ltr",this.today=new Date,this.locale={format:"DD-MM-YYYY"},this.ranges={Today:[w()(),w()()],Yesterday:[w()().subtract(1,"days"),w()().subtract(1,"days")],"Last 7 Days":[w()().subtract(6,"days"),w()()],"Last 30 Days":[w()().subtract(29,"days"),w()()],"This Month":[w()().startOf("month"),w()().endOf("month")],"Last Month":[w()().subtract(1,"month").startOf("month"),w()().subtract(1,"month").endOf("month")]},this.ifarbic=!1,this.verificateno=new s.f(""),this.license_no=new s.f(""),this.civil_number=new s.f(""),this.lear_name=new s.f(""),this.cate_filter=new s.f(""),this.no_categories=new s.f(""),this.expiries=new s.f(""),this.lastUpdated=new s.f(""),this.course_type=new s.f(""),this.stktype=this.localstorage.getInLocal("stktype"),this.isfocalpoint=this.localstorage.getInLocal("isfocalpoint"),this.useraccess=this.localstorage.getInLocal("uerpermission")}return _createClass(e,[{key:"i18n",value:function(e){return this.translate.instant(e)}},{key:"ngOnInit",value:function(){var e=this;if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){var t=this.languagelist.find((function(t){return t.id===e.cookieService.get("languageCookieId")}));this.translate.setDefaultLang(t.languagecode),this.dir=t.dir,"en"==t.languagecode?this.filtername="Hide Filter":this.filtername="\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629"}else{var a=this.languagelist.find((function(e){return"1"==e.id}));this.translate.setDefaultLang(a.languagecode),this.dir=a.dir,this.filtername="Hide Filter"}this.cookieService.get("languageCode")&&"ar"==this.cookieService.get("languageCode")?this.ifarbic=!0:this.ifarbic=!1,this.remoteService.getLanguageCookie().subscribe((function(t){if(e.cookieService.get("languageCookieId")&&null!=e.cookieService.get("languageCookieId")&&null!=e.cookieService.get("languageCookieId")){var a=e.languagelist.find((function(t){return t.id===e.cookieService.get("languageCookieId")}));e.translate.setDefaultLang(a.languagecode),e.dir=a.dir,"en"==a.languagecode?e.filtername="Hide Filter":e.filtername="\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629"}else{var r=e.languagelist.find((function(e){return"1"==e.id}));e.translate.setDefaultLang(r.languagecode),e.dir=r.dir,e.filtername="Hide Filter"}e.cookieService.get("languageCode")&&"ar"==e.cookieService.get("languageCode")?e.ifarbic=!0:e.ifarbic=!1})),this.clearFilter(),this.tblplaceholder=!1,this.getstandardcourse(),1==this.isfocalpoint&&1==this.stktype&&(this.createaccess=!0,this.viewacess=!0,this.updateaccess=!0,this.downloadaccess=!0),console.log("this.isfocalpoint",this.isfocalpoint),console.log("this.stktype",this.stktype),console.log("this.useraccess",this.useraccess);var r=this.localstorage.getaccessmoduleid(this.stktype,"Learner Card Log");1!=this.isfocalpoint&&1==this.stktype&&this.useraccess[r]&&this.useraccess[r][18]&&"Y"==this.useraccess[r][18].create&&(this.createaccess=!0),1!=this.isfocalpoint&&1==this.stktype&&this.useraccess[r]&&this.useraccess[r][18]&&"Y"==this.useraccess[r][18].read&&(this.viewacess=!0),1!=this.isfocalpoint&&1==this.stktype&&this.useraccess[r]&&this.useraccess[r][18]&&"Y"==this.useraccess[r][18].update&&(this.updateaccess=!0),1!=this.isfocalpoint&&1==this.stktype&&this.useraccess[r]&&this.useraccess[r][18]&&"Y"==this.useraccess[r][18].download&&(this.downloadaccess=!0)}},{key:"clickEvent",value:function(){this.hidefilder=!this.hidefilder,this.hidefilder?(this.filtername=this.i18n("table.hide"),document.getElementById("searchrow").style.display="flex"):(this.filtername=this.i18n("table.show"),document.getElementById("searchrow").style.display="none")}},{key:"clearFilter",value:function(){this.paginator&&(this.paginator.pageIndex=0,this.paginator.pageSize=10),this.start=!0,this.refresh=!0,this.verificateno.reset(),this.license_no.reset(),this.civil_number.reset(),this.lear_name.reset(),this.cate_filter.reset(),this.no_categories.reset(),this.expiries.reset(),this.lastUpdated.reset(),this.course_type.reset(),this.filterdata={verficationno:"",roplicenseno:"",idnumber:"",name:"",course:[],category:[],date:""},this.dataSource=new u.b([]),this.tblplaceholder=!1,this.learnercard_length=0}},{key:"syncPrimaryPaginator",value:function(e){this.paginator.pageIndex=e.pageIndex,this.paginator.pageSize=e.pageSize,this.page=e.pageSize,console.log(1),this.getlearnercard(this.paginator.pageSize,this.paginator.pageIndex,this.filterdata)}},{key:"registerNow",value:function(){this.router.navigate(["/learnercardmanagement/learnercardreg/add/1/"])}},{key:"edit",value:function(e,t){this.router.navigate(["/learnercardmanagement/learnercardreg/edit/2/"+e+"/"+t])}},{key:"view",value:function(e,t){this.router.navigate(["/learnercardmanagement/learnercardreg/view/3/"+e+"/"+t])}},{key:"getlearnercard",value:function(e,t,a){var r,n=this;console.log("getlearnercard",a),a.category.length>0||a.course.length>0||a.date.length>0||(null===(r=a.date)||void 0===r?void 0:r.start)||""!=a.idnumber||""!=a.name||""!=a.roplicenseno||""!=a.verficationno?(this.tblplaceholder=!0,this.learnercardsevice.getlearnercard(e,t,a).subscribe((function(e){n.tblplaceholder=!1,n.start=!1,n.refresh=!1,n.learnercarddata_data=e.data.learnerscards,n.dataSource=new u.b(n.learnercarddata_data),n.dataSource.sort=n.sort,n.learnercard_length=e.data.totalcount}))):this.clearFilter()}},{key:"serachdate",value:function(e,t){var a;e.startDate?(a={start:w()(e.startDate._d).format("YYYY-MM-DD"),end:w()(e.endDate._d).format("YYYY-MM-DD")},this.refresh=!1):a=[],console.log("expirydate",a),console.log("refresh",this.refresh),this.refresh||this.searchbatchgrid(a,t)}},{key:"searchbatchgrid",value:function(e,t){console.log(2);var a={searckkey:e,formcontrolname:t};this.filterdata=this.preparedata(a),"verficationno"==t||"roplicenseno"==t||"idnumber"==t||"name"==t?(e.length>=3||0==e.length)&&(console.log(21),this.getlearnercard(this.page,this.index,this.filterdata)):(console.log(22),this.getlearnercard(this.page,this.index,this.filterdata))}},{key:"preparedata",value:function(e){var t;return t=this.filterdata?this.filterdata:L,Object.keys(t).forEach((function(a){a==e.formcontrolname&&(t[a]=e.searckkey)})),t}},{key:"getstandardcourse",value:function(){var e=this;this.fullPageLoaders=!0,this.learnercardsevice.getstandardcourse().subscribe((function(t){e.fullPageLoaders=!1,e.project=t.data.project,e.standcourse=t.data.standcourse}))}},{key:"serachTrainingTimePract",value:function(e,t){if(e){var a=w()(e.value).format("YYYY-MM-DD");this.searchbatchgrid(a,t)}}},{key:"opendialogprintsetup",value:function(e){var t=this;this.assessmentService.printcard("11",e).subscribe((function(e){var t=e.data.data;window.open(t,"_blank")}),(function(e){b()({title:e.statusText,icon:"warning",buttons:[!1,"OK"],dangerMode:!0,className:"ltr"==t.dir?"swalEng":"swalAr",closeOnClickOutside:!1})}))}},{key:"viewcard",value:function(e){var t=this;this.assessmentService.viewcard(e).subscribe((function(e){var t=e.data.data;window.open(t,"_blank")}),(function(e){b()({title:e.statusText,icon:"warning",buttons:[!1,"OK"],dangerMode:!0,className:"ltr"==t.dir?"swalEng":"swalAr",closeOnClickOutside:!1})}))}},{key:"seperatedata",value:function(e,t){return e?"print"==t?!!e.split(",")[0]:"view"==t?!!e.split(",")[1]:"learnerid"==t?e.split(",")[2]:"date"==t?e.split(",")[3]:void 0:null}}]),e}();F.ctorParameters=function(){return[{type:s.e},{type:l.g},{type:s.e},{type:n.v},{type:f.c},{type:g.a},{type:p.a},{type:y.a},{type:D.a},{type:I.a},{type:_.b},{type:k.a},{type:C}]},Object(r.c)([Object(n.mb)("paginator"),Object(r.e)("design:type",d.a)],F.prototype,"paginator",void 0),Object(r.c)([Object(n.mb)(m.a),Object(r.e)("design:type",m.a)],F.prototype,"sort",void 0),F=Object(r.c)([Object(n.n)({selector:"app-learnercardgridlist",template:Object(r.d)(a("MLZy")).default,encapsulation:n.pb.None,providers:[{provide:c.c,useClass:v.b},{provide:c.e,useValue:v.a}],styles:[Object(r.d)(a("tUqk")).default]}),Object(r.e)("design:paramtypes",[s.e,l.g,s.e,n.v,f.c,g.a,p.a,y.a,D.a,I.a,_.b,k.a,C])],F);var O=a("y1+5"),S=a("Bjny"),P=a("JX91"),M=a("lJxs"),N={subcourse:[],isprint:[],expirydate:[],batchno:"",centre:""},j=function(){function e(t,a,r,n,l,o,c,d,m,u,f,g,p,h,b,v){_classCallCheck(this,e),this.fb=t,this.routeid=a,this.router=r,this._location=n,this.formBuilder=l,this.el=o,this.translate=c,this.remoteService=d,this.cookieService=m,this.appservice=u,this.localstorage=f,this.toastr=g,this.security=p,this.service=h,this.assessmentService=b,this.learnerService=v,this.requiredfield=!0,this.showsubcate=!1,this.addshowbtn=!1,this.fullPageLoaders=!1,this.filtername="Hide Filter",this.resultsLength=0,this.hidefilder=!0,this.logostatus=!0,this.maxDate=new Date,this.editOption=!0,this.page=10,this.TrainingDate=["bmd_Batchno","omrm_tpname_en","lcd_subcategoryname","lcd_isprinted","lcd_cardexpiry","action"],this.viewpoint=!0,this.languagelist=[{id:"1",languageName:"English",languagecode:"en",CountryMst_Pk:"136",dir:"ltr"},{id:"2",languageName:"Arabic",languagecode:"ar",CountryMst_Pk:"31",dir:"rtl"}],this.dir="ltr",this.today=new Date,this.locale={format:"DD-MM-YYYY"},this.ranges={Today:[w()(),w()()],Yesterday:[w()().subtract(1,"days"),w()().subtract(1,"days")],"Last 7 Days":[w()().subtract(6,"days"),w()()],"Last 30 Days":[w()().subtract(29,"days"),w()()],"This Month":[w()().startOf("month"),w()().endOf("month")],"Last Month":[w()().subtract(1,"month").startOf("month"),w()().subtract(1,"month").endOf("month")]},this.ifarbic=!1,this.updated=!1,this.ageShow=!0,this.deleteicon=!0,this.viewform=!0,this.worktilled=!0,this.notallowed=!1,this.viewpage=!1,this.editpage=!1,this.addpage=!1,this.showlicense=!1,this.pipe=new i.f("en-US"),this.index=0,this.datalength=0,this.tblplaceholder=!1,this.isCheckboxDisabled=!1,this.cleardate=!1,this.cate_filter=new s.f(""),this.addeddate=new s.f(""),this.expirydate=new s.f(""),this.batchno=new s.f(""),this.centre=new s.f(""),this.allowadd=!1,this.cardupdatedetails=[],this.requiredshow=!0,this.batchlist=[],this.tranincenterlist=[],this.batchControl=new s.f,this.isLoading=!1,this.minLengthTerm=3,this.selectedbatch="",this.courselist=[],this.newcard=[],this.createaccess=!1,this.viewacess=!1,this.updateaccess=!1,this.downloadaccess=!1,this.viewbatchaccess=!1,this.uploadfiles=!1,this.stktype=this.localstorage.getInLocal("stktype"),this.isfocalpoint=this.localstorage.getInLocal("isfocalpoint"),this.useraccess=this.localstorage.getInLocal("uerpermission")}return _createClass(e,[{key:"i18n",value:function(e){return this.translate.instant(e)}},{key:"form",get:function(){return this.cardregistrationform.controls}},{key:"forme",get:function(){return this.availabelDate.controls}},{key:"ngOnInit",value:function(){var e,t=this;if(this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")&&null!=this.cookieService.get("languageCookieId")){var a=this.languagelist.find((function(e){return e.id===t.cookieService.get("languageCookieId")}));this.translate.setDefaultLang(a.languagecode),this.dir=a.dir,"en"==a.languagecode?this.filtername="Hide Filter":this.filtername="\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629"}else{var r=this.languagelist.find((function(e){return"1"==e.id}));this.translate.setDefaultLang(r.languagecode),this.dir=r.dir,this.filtername="Hide Filter"}this.cookieService.get("languageCode")&&"ar"==this.cookieService.get("languageCode")?this.ifarbic=!0:this.ifarbic=!1,this.remoteService.getLanguageCookie().subscribe((function(e){if(t.cookieService.get("languageCookieId")&&null!=t.cookieService.get("languageCookieId")&&null!=t.cookieService.get("languageCookieId")){var a=t.languagelist.find((function(e){return e.id===t.cookieService.get("languageCookieId")}));t.translate.setDefaultLang(a.languagecode),t.dir=a.dir,"en"==a.languagecode?(t.filtername="Hide Filter",t.ifarabic=!1):(t.filtername="\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629",t.ifarabic=!0)}else{var r=t.languagelist.find((function(e){return"1"==e.id}));t.translate.setDefaultLang(r.languagecode),t.dir=r.dir,t.filtername="Hide Filter",t.ifarabic=!1}})),1==this.isfocalpoint&&1==this.stktype&&(this.createaccess=!0,this.viewacess=!0,this.updateaccess=!0,this.downloadaccess=!0,this.viewbatchaccess=!0);var n=this.localstorage.getaccessmoduleid(this.stktype,"Learner Card Log");1!=this.isfocalpoint&&1==this.stktype&&this.useraccess[n]&&this.useraccess[n][18]&&"Y"==this.useraccess[n][18].create&&(this.createaccess=!0),1!=this.isfocalpoint&&1==this.stktype&&this.useraccess[n]&&this.useraccess[n][18]&&"Y"==this.useraccess[n][18].read&&(this.viewacess=!0),1!=this.isfocalpoint&&1==this.stktype&&this.useraccess[n]&&this.useraccess[n][18]&&"Y"==this.useraccess[n][18].update&&(this.updateaccess=!0),1!=this.isfocalpoint&&1==this.stktype&&this.useraccess[n]&&this.useraccess[n][18]&&"Y"==this.useraccess[n][18].download&&(this.downloadaccess=!0);var i=this.localstorage.getaccessmoduleid(this.stktype,"Batch Management");1!=this.isfocalpoint&&1==this.stktype&&"Y"==(null===(e=this.useraccess[i])||void 0===e?void 0:e.read)&&(this.viewbatchaccess=!0),this.croplic={fileMstPk:13,selectedFilesPk:[]},this.learnregistrationform(),this.drv_logo={fileMstPk:17,selectedFilesPk:[]},this.maxDate.setFullYear((new Date).getFullYear()-18),this.getnationality(),this.gettraningcenter(),this.refname=this.routeid.snapshot.paramMap.get("id"),2==this.refname?(this.staffid=this.routeid.snapshot.paramMap.get("staffid"),this.courseid=this.routeid.snapshot.paramMap.get("courseid"),this.getintialdata(),this.carddetails(this.staffid,this.courseid,this.page,this.index,this.filterdata),this.viewpage=!1,this.editpage=!0,this.addpage=!1,this.cardregistrationform.controls.date_birth.enable(),this.cardregistrationform.controls.category.setValidators(null),this.cardregistrationform.controls.category.updateValueAndValidity()):3==this.refname?(this.staffid=this.routeid.snapshot.paramMap.get("staffid"),this.courseid=this.routeid.snapshot.paramMap.get("courseid"),this.getintialdata(),this.carddetails(this.staffid,this.courseid,this.page,this.index,this.filterdata),this.cardregistrationform.disable(),this.availabelDate.disable(),this.viewpoint=!1,this.deleteicon=!1,this.viewpage=!0,this.editpage=!1,this.addpage=!1,this.requiredfield=!1,this.cardregistrationform.controls.category.setValidators(null),this.cardregistrationform.controls.category.updateValueAndValidity()):1==this.refname&&(this.viewpage=!1,this.editpage=!1,this.addpage=!0,this.selectedradio=2),this.getcourse(),this.filteredOptions=this.availabelDate.controls.batch.valueChanges.pipe(Object(P.a)(""),Object(M.a)((function(e){return t.filterBatch(e)})))}},{key:"getcourse",value:function(){var e=this;this.service.getstandardcourse().subscribe((function(t){e.courselist=t.data.standcourse}))}},{key:"onSelected",value:function(){console.log(this.selectedbatch),this.selectedbatch=this.selectedbatch}},{key:"displayWith",value:function(e){return null==e?void 0:e.bmd_Batchno}},{key:"clearSelection",value:function(){this.availabelDate.controls.batch.reset(),this.selectedbatch="",this.filteredbatch=[]}},{key:"getintialdata",value:function(){var e=this;this.fullPageLoaders=!0,this.service.getsinglelearnercard(this.staffid,this.courseid).subscribe((function(t){e.fullPageLoaders=!1,console.log(t),e.learnerdata=t.data;var a,r=t.data;if(e.getsubcourse(r.standardcoursemst_pk),console.log("this.learnerdata.sir_nationality",e.learnerdata.sir_nationality),r.sir_dob){var n=Math.abs(Date.now()-new Date(r.sir_dob).getTime());a=Math.floor(n/864e5/365.25)}console.log("data.sld_ROPlicense",r.sld_ROPlicense),e.selectedradio=r.sld_ROPlicense?1:2,e.showlicense=!!r.sld_ROPlicense,console.log("selectedradio",e.selectedradio),r.sir_photo?e.drv_logo.selectedFilesPk=[r.sir_photo]:e.drv_logo.selectedFilesPk=[],e.croplic.selectedFilesPk=null!==r.sld_ROPlicenseupload?r.sld_ROPlicenseupload.split(","):null,e.croplic.selectedFilesPk&&setTimeout((function(){var t;return null===(t=e.cividoc)||void 0===t?void 0:t.triggerChange()}),500),e.staffid=e.learnerdata.staffinforepo_pk,e.cardregistrationform=e.formBuilder.group({uploaded:[r.sir_photo,""],crNumber:[r.sir_idnumber,s.x.required],learname:[r.sir_name_en,s.x.required],learnamearabic:[r.sir_name_ar,s.x.required],date_birth:[r.sir_dob,s.x.required],age:[a,""],gender:[r.sir_gender,s.x.required],national:[r.sir_nationality,s.x.required],selectValues:[r.sld_ROPlicense?1:2,s.x.required],ropnumber:[r.sld_ROPlicense,""],roplicen_se:[r.sld_ROPlicenseupload,""],verifiednumber:[r.lcd_verificationno],coursetype:[r.pm_projectname_en],category:[r.scm_coursename_en],last_date:[{value:e.pipe.transform(r.lastissued,"yyyy-MM-dd"),disabled:!0}]})}))}},{key:"carddetails",value:function(e,t,a,r,n){var i=this;this.tblplaceholder=!0,this.service.carddetails(e,t,a,r,n).subscribe((function(e){i.tblplaceholder=!1,i.carddetailsdata=e.data.cards,i.dataSource=new u.b(e.data.cards),i.dataSource.sort=i.sort,i.datalength=e.data.totalcount}))}},{key:"getsubcourse",value:function(e){var t=this;this.courseid=e,this.service.getsubcategories(e).subscribe((function(e){console.log(e),t.subcategory=e.data}))}},{key:"getnationality",value:function(){var e=this;this.service.getnationality().subscribe((function(t){console.log("tt",t),e.nationality=t.data}))}},{key:"getbatchnumber",value:function(){var e=this;this.selectedbatch.length>=3&&this.service.getbatchnumber(this.selectedbatch,this.courseid).subscribe((function(t){console.log("tt",t),e.batchlist=t.data,null==t.data?(e.errorMsg="No data avaliable",e.filteredbatch=[]):(e.errorMsg="",e.filteredbatch=t.data)}))}},{key:"gettraningcenter",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=t?t.batchmgmtdtls_pk:t;this.service.gettrainingcenter(a).subscribe((function(t){console.log("tt",t),e.tranincenterlist=t.data}))}},{key:"searchbatchgrid",value:function(e,t){var a={searckkey:e,formcontrolname:t};console.log("search",a),console.log(a),this.filterdata=this.preparedata(a),this.carddetails(this.staffid,this.courseid,this.page,this.index,this.filterdata)}},{key:"preparedata",value:function(e){var t;return t=this.filterdata?this.filterdata:N,Object.keys(t).forEach((function(a){a==e.formcontrolname&&(t[a]=e.searckkey)})),t}},{key:"serachdate",value:function(e,t){var a;a=e.startDate?{start:w()(e.startDate._d).format("YYYY-MM-DD"),end:w()(e.endDate._d).format("YYYY-MM-DD")}:[],this.searchbatchgrid(a,t)}},{key:"deleteLogo",value:function(e){var t=this;b()({title:this.i18n("Do you want to delete this image?"),icon:"warning",buttons:[this.i18n("Cancel"),this.i18n("OK")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1,closeOnEsc:!1}).then((function(e){e&&t.appservice.saveLogo([]).subscribe((function(e){var a;1==e.data.status&&(t.drv_logo.selectedFilesPk=[],null===(a=t.logo)||void 0===a||a.triggerChange(),setTimeout((function(){t.toastr.success(t.i18n("Deleted Successfully."),"")}),1e3))}))}))}},{key:"fileeSelected",value:function(e,t){t.selectedFilesPk=e}},{key:"fileeSelecteddouble",value:function(e,t){console.log("file",e),console.log("fileId",t),t.selectedFilesPk=e}},{key:"learnregistrationform",value:function(){this.cardregistrationform=this.formBuilder.group({uploaded:["",""],crNumber:["",s.x.required],learname:["",s.x.required],learnamearabic:["",s.x.required],date_birth:["",s.x.required],age:["",""],gender:["",s.x.required],national:["",s.x.required],selectValues:["2",s.x.required],ropnumber:["",""],roplicen_se:["",""],verifiednumber:[""],coursetype:[""],category:[""],last_date:[""]}),this.availabelDate=this.formBuilder.group({batch:[""],training:[""],subcate:["",s.x.required],mentioned:["",s.x.required],workdate:[""],noexipry:[""],id:[""]})}},{key:"syncPrimaryPaginator",value:function(e){this.paginator.pageIndex=e.pageIndex,this.paginator.pageSize=e.pageSize,this.page=e.pageSize,this.dataSource.sort=this.sort,this.carddetails(this.staffid,this.courseid,this.paginator.pageSize,this.paginator.pageIndex,this.filterdata)}},{key:"clear",value:function(){var e=this;this.availabelDate.touched?(1==this.allowadd?this.popcontent=this.i18n("Do you want cancel this Add?"):this.popcontent=this.i18n("Do you want cancel this Update?"),b()({title:this.i18n("The data entered will not be saved or retained."),text:"",icon:"warning",buttons:[this.i18n("No"),this.i18n("Yes")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then((function(t){t&&(e.availabelDate.reset(),e.gettraningcenter(),e.showsubcate=!1)}))):(this.availabelDate.reset(),this.showsubcate=!1)}},{key:"clearreg",value:function(){var e=this;this.viewpage?this.router.navigate(["/learnercardmanagement/learnergridlist"]):this.editpage?this.cardregistrationform.touched||this.availabelDate.touched?b()({title:this.i18n("Do you want to Cancel editing the Information of this Learner?"),text:this.i18n("If yes, any unsaved data will be lost."),icon:"warning",buttons:[this.i18n("No"),this.i18n("Yes")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then((function(t){t&&(e.cardregistrationform.reset(),e.ageShow=!0,e.router.navigate(["/learnercardmanagement/learnergridlist"]))})):(this.cardregistrationform.reset(),this.ageShow=!0,this.router.navigate(["/learnercardmanagement/learnergridlist"])):this.cardregistrationform.touched||this.availabelDate.touched?b()({title:this.i18n("Do you want to Cancel Adding the Information of this Learner?"),text:this.i18n("If yes, any unsaved data will be lost."),icon:"warning",buttons:[this.i18n("No"),this.i18n("Yes")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then((function(t){t&&(e.cardregistrationform.reset(),e.ageShow=!0,e.router.navigate(["/learnercardmanagement/learnergridlist"]))})):(this.cardregistrationform.reset(),this.ageShow=!0,this.router.navigate(["/learnercardmanagement/learnergridlist"]))}},{key:"clickEvent",value:function(){this.hidefilder=!this.hidefilder,this.hidefilder?(this.filtername=this.i18n("table.hide"),document.getElementById("searchrow").style.display="flex"):(this.filtername=this.i18n("table.show"),document.getElementById("searchrow").style.display="none")}},{key:"reset",value:function(){this.availabelDate.reset(),this.selectedDate=null}},{key:"onCheckboxChange",value:function(e){e.checked?(this.notallowed=!0,this.availabelDate.controls.workdate.reset(),this.worktilled=!1,this.availabelDate.controls.workdate.setValidators(null)):(this.notallowed=!1,this.availabelDate.controls.workdate.setValidators(s.x.required),this.worktilled=!0,this.availabelDate.controls.noexipry.setValidators(null))}},{key:"dateSelected",value:function(e){e.value&&(this.isCheckboxDisabled=!0,this.cleardate=!0,this.worktilled=!0)}},{key:"clearData",value:function(){this.availabelDate.controls.workdate.reset(),this.isCheckboxDisabled=!1,this.cleardate=!1}},{key:"clearFiltersecound",value:function(){this.cate_filter.reset(),this.addeddate.reset(),this.expirydate.reset(),this.batchno.reset(),this.centre.reset(),this.paginator.pageIndex=0,this.paginator.pageSize=10,this.filterdata={subcourse:[],isprint:[],expirydate:[],batchno:"",centre:""},this.carddetails(this.staffid,this.courseid,this.paginator.pageSize,this.paginator.pageIndex,this.filterdata)}},{key:"onOptionChange",value:function(e){var t,a;"1"==e.value?(this.cardregistrationform.controls.ropnumber.setValidators([s.x.required]),this.cardregistrationform.controls.ropnumber.updateValueAndValidity(),this.croplic.selectedFilesPk=[],null===(t=this.cividoc)||void 0===t||t.triggerChange(),this.cardregistrationform.controls.roplicen_se.setValidators([s.x.required]),this.cardregistrationform.controls.roplicen_se.updateValueAndValidity(),this.showlicense=!0,this.scrollTo("pagescroll")):(this.cardregistrationform.controls.ropnumber.reset(),this.croplic.selectedFilesPk=[],null===(a=this.cividoc)||void 0===a||a.triggerChange(),this.cardregistrationform.controls.roplicen_se.setValidators(null),this.cardregistrationform.controls.roplicen_se.setValue([]),this.cardregistrationform.controls.roplicen_se.updateValueAndValidity(),this.cardregistrationform.controls.ropnumber.setValidators(null),this.cardregistrationform.controls.ropnumber.updateValueAndValidity(),this.showlicense=!1)}},{key:"editsubcate",value:function(e){console.log(e),this.showsubcate=!0,this.addshowbtn=!0,this.allowadd=!1;var t=this.tranincenterlist.filter((function(t){return t.omrm_tpname_en==e.omrm_tpname_en}));console.log("ddd",t),this.availabelDate=this.formBuilder.group({batch:[e.bmd_Batchno],training:[0!=t.length?t[0].opalmemberregmst_pk:null],subcate:[e.lcd_subcategoryname,s.x.required],mentioned:[e.lcd_isprinted,s.x.required],workdate:[e.lcd_cardexpiry],noexipry:[!e.lcd_cardexpiry],id:[e.learnercarddtls_pk]}),this.worktilled=!!e.lcd_cardexpiry,e.lcd_cardexpiry?(this.notallowed=!1,this.availabelDate.controls.workdate.setErrors({incorrect:!0}),this.worktilled=!0,this.isCheckboxDisabled=!0,this.cleardate=!0,this.worktilled=!0):(this.notallowed=!0,this.availabelDate.controls.workdate.reset(),this.worktilled=!1,this.availabelDate.controls.workdate.setErrors(null),this.isCheckboxDisabled=!1,this.cleardate=!1,this.worktilled=!1),console.log("rr",this.availabelDate.value)}},{key:"clickToadd",value:function(){this.showsubcate=!0,this.addshowbtn=!1,this.allowadd=!0,this.availabelDate.reset(),this.notallowed=!1,this.isCheckboxDisabled=!1,this.cleardate=!1,this.scrollTo("pagescrollform"),this.clearSelection(),this.availabelDate.controls.noexipry.setValidators(null),this.availabelDate.controls.noexipry.reset(),this.worktilled=!0}},{key:"viewbatch",value:function(e){this.router.navigate(["/batchindex/batchviewpage/"+e])}},{key:"opendialogprintsetup",value:function(e){var t=this;this.assessmentService.printcard("11",e).subscribe((function(e){var t=e.data.data;window.open(t,"_blank")}),(function(e){b()({title:e.statusText,icon:"warning",buttons:[!1,"OK"],dangerMode:!0,className:"ltr"==t.dir?"swalEng":"swalAr",closeOnClickOutside:!1})}))}},{key:"viewcard",value:function(e){var t=this;this.assessmentService.viewcard(e).subscribe((function(e){var t=e.data.data;console.log(t),window.open(t,"_blank")}),(function(e){b()({title:e.statusText,icon:"warning",buttons:[!1,"OK"],dangerMode:!0,className:"ltr"==t.dir?"swalEng":"swalAr",closeOnClickOutside:!1})}))}},{key:"checkCivilNum",value:function(e){var t=this,a=this.cardregistrationform.controls.crNumber.value;1==this.refname&&this.service.getstaffdata(a).subscribe((function(e){if(console.log(e),e.data){var a,r=e.data;if(t.staffid=r.staffinforepo_pk,r.sir_dob){var n=Math.abs(Date.now()-new Date(r.sir_dob).getTime());a=Math.floor(n/864e5/365.25)}t.selectedradio=2,t.selectedradio=r.sld_ROPlicense?1:2,t.showlicense=!!r.sld_ROPlicense,t.drv_logo.selectedFilesPk=null!==r.sir_photo?r.sir_photo.split(","):null,t.drv_logo.selectedFilesPk&&setTimeout((function(){var e;return null===(e=t.logo)||void 0===e?void 0:e.triggerChange()}),500),t.croplic.selectedFilesPk=null!==r.sld_ROPlicenseupload?r.sld_ROPlicenseupload.split(","):null,t.croplic.selectedFilesPk&&setTimeout((function(){var e;return null===(e=t.cividoc)||void 0===e?void 0:e.triggerChange()}),500),t.cardregistrationform=t.formBuilder.group({uploaded:[r.sir_photo,""],crNumber:[r.sir_idnumber,s.x.required],learname:[r.sir_name_en,s.x.required],learnamearabic:[r.sir_name_ar,s.x.required],date_birth:[r.sir_dob,s.x.required],age:[a,""],gender:[r.sir_gender,s.x.required],national:[r.sir_nationality,s.x.required],selectValues:[r.sld_ROPlicense?1:2,s.x.required],ropnumber:[r.sld_ROPlicense,""],roplicen_se:[r.sld_ROPlicenseupload,""],verifiednumber:[""],coursetype:[""],category:["",s.x.required],last_date:[""]})}else t.resetform(),setTimeout((function(){t.selectedradio=2}),100),t.showlicense=!1,t.staffid=null}))}},{key:"resetform",value:function(){var e;this.cardregistrationform.controls.uploaded.reset(),this.drv_logo.selectedFilesPk=[],this.cardregistrationform.controls.learname.reset(),this.cardregistrationform.controls.learnamearabic.reset(),this.cardregistrationform.controls.date_birth.reset(),this.cardregistrationform.controls.age.reset(),this.cardregistrationform.controls.gender.reset(),this.cardregistrationform.controls.national.reset(),this.cardregistrationform.controls.selectValues.reset(),this.cardregistrationform.controls.ropnumber.reset(),this.cardregistrationform.controls.roplicen_se.reset(),this.cardregistrationform.controls.verifiednumber.reset(),this.cardregistrationform.controls.coursetype.reset(),this.cardregistrationform.controls.category.reset(),this.cardregistrationform.controls.last_date.reset(),this.drv_logo.selectedFilesPk=[],null===(e=this.logo)||void 0===e||e.triggerChange()}},{key:"updatedata",value:function(){var e,t=this,a=this.cardregistrationform.value,r=this.courselist.filter((function(e){return"Defensive driving"==e.scm_coursename_en}));if(a.uploaded&&0!=(null===(e=a.uploaded)||void 0===e?void 0:e.length))if(a.category!=r[0].standardcoursemst_pk&&a.category!=r[0].scm_coursename_en||a.ropnumber)if(this.availabelDate.valid){this.fullPageLoaders=!0,console.log("this.availabelDate.value",this.availabelDate.value);var n=this.availabelDate.value;n.profileimg=a.uploaded,n.ropnumber=a.ropnumber,n.roplicen_se=a.roplicen_se,n.workdate=n.workdate?w()(n.workdate).format("YYYY-MM-DD").toString():null,console.log("data",n),this.service.editcard(n).subscribe((function(e){console.log("edit",e),t.availabelDate.reset(),t.showsubcate=!1,t.getintialdata(),t.carddetails(t.staffid,t.courseid,t.page,t.index,t.filterdata),t.toastr.success(t.i18n("The Sub-Categories has been updated and the card is  re-generated successfully."),""),t.fullPageLoaders=!1}))}else this.focusInvalidInput(this.availabelDate);else b()({title:this.i18n("Enter the ROP Licence Number."),text:" ",icon:"warning",buttons:[!1,this.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){}));else b()({title:this.i18n("Please upload the Profile image of the Learner."),text:" ",icon:"warning",buttons:[!1,this.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){}))}},{key:"savedata",value:function(){var e,t,a,r=this;if(this.editpage){var n=this.cardregistrationform.value,i=this.courselist.filter((function(e){return"Defensive driving"==e.scm_coursename_en}));if(n.uploaded&&0!=(null===(e=n.uploaded)||void 0===e?void 0:e.length))if(n.category!=i[0].standardcoursemst_pk&&n.category!=i[0].scm_coursename_en||n.ropnumber)if(this.availabelDate.valid){this.fullPageLoaders=!0;var l=this.availabelDate.value;l.staffid=this.staffid,l.batchno=l.batch&&l.batch.bmd_Batchno?l.batch.bmd_Batchno:this.selectedbatch,l.workdate=l.workdate?w()(l.workdate).format("YYYY-MM-DD").toString():null,l.profileimg=n.uploaded,l.ropnumber=n.ropnumber,l.roplicen_se=n.roplicen_se,this.service.addsubcategory(l).subscribe((function(e){r.availabelDate.reset(),r.showsubcate=!1,r.getintialdata(),r.carddetails(r.staffid,r.courseid,r.page,r.index,r.filterdata),r.toastr.success(r.i18n("The Sub-categories has been added and the card is generated successfully."),""),r.fullPageLoaders=!1,r.showsubcate=!1,r.gettraningcenter(),r.availabelDate.reset()})),1==this.availabelDate.get("noexipry").value?(this.availabelDate.controls.noexipry.setErrors(null),this.notallowed=!0,this.availabelDate.controls.workdate.reset(),this.worktilled=!1,this.availabelDate.controls.workdate.setErrors(null)):(this.availabelDate.controls.workdate.valid||(this.notallowed=!1,this.availabelDate.controls.workdate.setErrors({incorrect:!0}),this.worktilled=!0),this.availabelDate.controls.noexipry.setErrors(null))}else this.focusInvalidInput(this.availabelDate);else b()({title:this.i18n("Enter the ROP Licence Number."),text:" ",icon:"warning",buttons:[!1,this.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){}));else b()({title:this.i18n("Please upload the Profile image of the Learner."),text:" ",icon:"warning",buttons:[!1,this.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){}))}else if(console.log(324324322222222),this.availabelDate.valid){this.hidefilder=!1,document.getElementById("searchrow").style.display="none";var o=this.availabelDate.value;o.batchno=o.batch&&o.batch.bmd_Batchno?o.batch.bmd_Batchno:this.selectedbatch,console.log("data.workdate",o.workdate),o.workdate=o.workdate?w()(o.workdate).format("YYYY-MM-DD").toString():null,o.staffid=this.staffid,this.newcard.push(o),console.log("newcard",this.newcard);var s=this.subcategory.filter((function(e){return e.standardcoursedtls_pk==o.subcate})),c=this.tranincenterlist.filter((function(e){return e.opalmemberregmst_pk==o.training})),d={lcd_subcategoryname:s[0].ccm_catname_en,lcd_isprinted:o.mentioned,lcd_cardexpiry:o.workdate?o.workdate:null,bmd_Batchno:null===(t=o.batch)||void 0===t?void 0:t.bmd_Batchno,omrm_tpname_en:null===(a=c[0])||void 0===a?void 0:a.omrm_tpname_en};console.log("cdata",d),this.carddetailsdata.push(d),this.dataSource=new u.b(this.carddetailsdata),this.datalength=this.carddetailsdata.length,console.log("this.cardupdatedetails",this.cardupdatedetails),this.showsubcate=!1,this.gettraningcenter(),this.availabelDate.reset(),1==this.availabelDate.get("noexipry").value?(this.availabelDate.controls.noexipry.setErrors(null),this.notallowed=!0,this.availabelDate.controls.workdate.reset(),this.worktilled=!1,this.availabelDate.controls.workdate.setErrors(null)):(this.availabelDate.controls.workdate.valid||(this.notallowed=!1,this.availabelDate.controls.workdate.setErrors({incorrect:!0}),this.worktilled=!0),this.availabelDate.controls.noexipry.setErrors(null))}else this.focusInvalidInput(this.availabelDate)}},{key:"savereg",value:function(){var e,t,a,r=this;if(console.log("this.cardregistrationform.valid",this.cardregistrationform.valid),console.log("this.cardregistrationform",this.cardregistrationform),this.cardregistrationform.valid){var n=this.cardregistrationform.value;if(n.batchno=this.selectedbatch,n.date_birth=w()(n.date_birth).format("YYYY-MM-DD").toString(),n.uploaded&&0!=(null===(e=n.uploaded)||void 0===e?void 0:e.length)){var i=this.courselist.filter((function(e){return"Defensive driving"==e.scm_coursename_en}));n.category==i[0].standardcoursemst_pk||n.category==i[0].scm_coursename_en?n.ropnumber?(n.staffid=this.staffid,n.courseid=null===(t=this.learnerdata)||void 0===t?void 0:t.standardcoursemst_pk,n.newcard=this.newcard,console.log(n),this.editpage?(this.fullPageLoaders=!0,this.service.saveandgeneratercard(n).subscribe((function(e){console.log("res",e),r.fullPageLoaders=!1,setTimeout((function(){r.toastr.success(r.i18n("The Learner Information has been updated and the card is re-generated successfully."),"")}),1e3),r.router.navigate(["/learnercardmanagement/learnergridlist"])}))):this.addpage&&this.staffid?0==this.newcard.length?b()({title:this.i18n("Sub category is mandatory"),text:" ",icon:"warning",buttons:[!1,this.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){})):(this.fullPageLoaders=!0,console.log("submitdata",n),this.service.addLearnerwithnewcatergory(n).subscribe((function(e){console.log(e),console.log("res",e),r.fullPageLoaders=!1,setTimeout((function(){r.toastr.success(r.i18n("The Learner Information has been added and the card is generated successfully."),"")}),1e3),r.router.navigate(["/learnercardmanagement/learnergridlist"])}))):0==this.newcard.length?b()({title:this.i18n("Sub category is mandatory"),text:" ",icon:"warning",buttons:[!1,this.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){})):(this.fullPageLoaders=!0,console.log("submitdata",n),this.service.addstaff(n).subscribe((function(e){console.log(e),console.log("res",e),r.fullPageLoaders=!1,setTimeout((function(){r.toastr.success(r.i18n("The Learner Information has been added and the card is generated successfully."),"")}),1e3),r.router.navigate(["/learnercardmanagement/learnergridlist"])})))):b()({title:this.i18n("Enter the ROP Licence Number."),text:" ",icon:"warning",buttons:[!1,this.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){})):(n.staffid=this.staffid,n.courseid=null===(a=this.learnerdata)||void 0===a?void 0:a.standardcoursemst_pk,n.newcard=this.newcard,console.log(n),this.editpage?(this.fullPageLoaders=!0,this.service.saveandgeneratercard(n).subscribe((function(e){console.log("res",e),r.fullPageLoaders=!1,setTimeout((function(){r.toastr.success(r.i18n("The Learner Information has been updated and the card is re-generated successfully."),"")}),1e3),r.router.navigate(["/learnercardmanagement/learnergridlist"])}))):this.addpage&&this.staffid?0==this.newcard.length?b()({title:this.i18n("Sub category is mandatory"),text:" ",icon:"warning",buttons:[!1,this.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){})):(this.fullPageLoaders=!0,console.log("submitdata",n),this.service.addLearnerwithnewcatergory(n).subscribe((function(e){console.log(e),console.log("res",e),r.fullPageLoaders=!1,setTimeout((function(){r.toastr.success(r.i18n("The Learner Information has been added and the card is generated successfully."),"")}),1e3),r.router.navigate(["/learnercardmanagement/learnergridlist"])}))):0==this.newcard.length?b()({title:this.i18n("Sub category is mandatory"),text:" ",icon:"success",buttons:[!1,this.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){})):(this.fullPageLoaders=!0,console.log("submitdata",n),this.service.addstaff(n).subscribe((function(e){console.log(e),console.log("res",e),r.fullPageLoaders=!1,setTimeout((function(){r.toastr.success(r.i18n("The Learner Information has been added and the card is generated successfully."),"")}),1e3),r.router.navigate(["/learnercardmanagement/learnergridlist"])}))))}else b()({title:this.i18n("Please upload the Profile image of the Learner."),text:" ",icon:"warning",buttons:[!1,this.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){}))}else this.focusInvalidInput(this.cardregistrationform),this.uploadfiles=!0}},{key:"focusInvalidInput",value:function(e){for(var t=0,a=Object.keys(e.controls);t<a.length;t++){var r=a[t];if(e.controls[r].invalid){var n=this.el.nativeElement.querySelector('[formcontrolname="'+r+'"]');console.log(r),n&&n.focus();break}}}},{key:"alreadyexistcategory",value:function(e){var t,a=this;if(console.log("categoryid",e),null===(t=this.learnerdata)||void 0===t?void 0:t.staffinforepo_pk)this.service.alreadyexistsubcategorycard(this.learnerdata.staffinforepo_pk,e).subscribe((function(t){if(t.data)a.availabelDate.controls.subcate.setValue(""),b()({title:a.i18n("The selected Sub-Category has already been added. Please select a different sub-category."),text:" ",icon:"success",buttons:[!1,a.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){}));else{var r=a.availabelDate.controls.batch.value;if(r){var n=r&&r.bmd_Batchno?r.bmd_Batchno:a.selectedbatch;console.log("batchno",n),a.service.alreadybatchnoexist(n,e).subscribe((function(e){console.log(e),"F"==e.data.flag&&(a.availabelDate.controls.subcate.setValue(""),b()({title:a.i18n("The provided batch number has already been added with a different category. Please enter a new batch number."),text:" ",icon:"success",buttons:[!1,a.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){})))}))}}}));else if(null!=this.staffid)this.service.alreadyexistsubcategorycard(this.staffid,e).subscribe((function(t){if(t.data)a.availabelDate.controls.subcate.setValue(""),b()({title:a.i18n("The selected Sub-Category has already been added. Please select a different sub-category."),text:" ",icon:"success",buttons:[!1,a.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){}));else{var r=a.availabelDate.controls.batch.value;if(r){var n=r&&r.bmd_Batchno?r.bmd_Batchno:a.selectedbatch;console.log("batchno",n),a.service.alreadybatchnoexist(n,e).subscribe((function(e){console.log(e),"F"==e.data.flag&&(a.availabelDate.controls.subcate.setValue(""),b()({title:a.i18n("The provided batch number has already been added with a different category. Please enter a new batch number."),text:" ",icon:"success",buttons:[!1,a.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){})))}))}}}));else{console.log("this.newcard",this.newcard);var r=this.newcard.filter((function(t){return t.subcate==e}));if(console.log("subcate.length",r.length),r.length>0)console.log(3423423),this.availabelDate.controls.subcate.setValue(""),b()({title:this.i18n("The selected Sub-Category has already been added. Please select a different sub-category."),text:" ",icon:"success",buttons:[!1,this.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){}));else{var n=this.availabelDate.controls.batch.value;if(n){var i=n&&n.bmd_Batchno?n.bmd_Batchno:this.selectedbatch;console.log("batchno",i),this.service.alreadybatchnoexist(i,e).subscribe((function(e){console.log(e),"F"==e.data.flag&&(a.availabelDate.controls.subcate.setValue(""),b()({title:a.i18n("The provided batch number has already been added with a different category. Please enter a new batch number."),text:" ",icon:"success",buttons:[!1,a.i18n("uploadfile.ok")],dangerMode:!0,closeOnClickOutside:!1}).then((function(){})))}))}}console.log(r)}}},{key:"calculateage",value:function(e){var t=Math.abs(Date.now()-new Date(e).getTime()),a=Math.floor(t/864e5/365.25);this.cardregistrationform.controls.age.setValue(a)}},{key:"filterBatch",value:function(e){var t=e.toLowerCase();return this.batchlist.filter((function(e){return e.bmd_Batchno.toLowerCase().includes(t)}))}},{key:"getcarddetails",value:function(e){console.log(e),this.staffid&&e&&(console.log("based category"),this.carddetails(this.staffid,e,this.page,this.index,this.filterdata)),this.getsubcourse(e)}},{key:"scrollTo",value:function(e){try{document.querySelectorAll("."+e)[0].scrollIntoView({behavior:"smooth"})}catch(t){console.log("page-content")}}},{key:"onMenuButtonClick",value:function(e){e.target.classList.contains("menubutton")&&e.stopPropagation(),e.stopPropagation()}},{key:"deactivatecard",value:function(e){var t=this;b()({title:this.i18n("Do you want to Deactivate the Learner Card?"),icon:"warning",buttons:[this.i18n("No"),this.i18n("Yes")],dangerMode:!0,className:"ltr"==this.dir?"swalEng":"swalAr",closeOnClickOutside:!1}).then((function(a){console.log(a),a&&(t.fullPageLoaders=!0,t.service.deactivecard(e).subscribe((function(e){t.fullPageLoaders=!1,t.carddetails(t.staffid,t.courseid,t.page,t.index,t.filterdata),setTimeout((function(){t.toastr.success(t.i18n("The Learner Card has been Deactivated."),"")}),1e3)})))}))}}]),e}();j.ctorParameters=function(){return[{type:s.e},{type:l.a},{type:l.g},{type:i.j},{type:s.e},{type:n.v},{type:f.c},{type:g.a},{type:p.a},{type:y.a},{type:I.a},{type:_.b},{type:k.a},{type:C},{type:D.a},{type:S.a}]},Object(r.c)([Object(n.mb)("paginator"),Object(r.e)("design:type",d.a)],j.prototype,"paginator",void 0),Object(r.c)([Object(n.mb)(m.a),Object(r.e)("design:type",m.a)],j.prototype,"sort",void 0),Object(r.c)([Object(n.mb)("logo"),Object(r.e)("design:type",O.a)],j.prototype,"logo",void 0),Object(r.c)([Object(n.mb)("cividoc"),Object(r.e)("design:type",O.a)],j.prototype,"cividoc",void 0),j=Object(r.c)([Object(n.n)({selector:"app-learnercardreg",template:Object(r.d)(a("ldHf")).default,encapsulation:n.pb.None,providers:[{provide:c.c,useClass:v.b},{provide:c.e,useValue:v.a}],styles:[Object(r.d)(a("sjOD")).default]}),Object(r.e)("design:paramtypes",[s.e,l.a,l.g,i.j,s.e,n.v,f.c,g.a,p.a,y.a,I.a,_.b,k.a,C,D.a,S.a])],j);var E=[{path:"",children:[{path:"learnergridlist",component:F,canActivate:[o.a],data:{title:"Learner Card Log",urls:[{title:"Learner Card Log",url:"/learnercardmanagement/learnergridlist"}]}},{path:"learnercardreg/add/:id",component:j,canActivate:[o.a],data:{title:"Add Learner Information",urls:[{title:"Learner Card Log",url:"/learnercardmanagement/learnergridlist"},{title:"Add Learner Information",url:"/learnercardmanagement/learnercardreg"}]}},{path:"learnercardreg/edit/:id/:staffid/:courseid",component:j,canActivate:[o.a],data:{title:"Edit Learner Information",urls:[{title:"Learner Card Log",url:"/learnercardmanagement/learnergridlist"},{title:"Edit Learner Information",url:"/learnercardmanagement/learnercardreg"}]}},{path:"learnercardreg/view/:id/:staffid/:courseid",component:j,canActivate:[o.a],data:{title:"View Learner Information",urls:[{title:"Learner Card Log",url:"/learnercardmanagement/learnergridlist"},{title:"View Learner Information",url:"/learnercardmanagement/learnercardreg"}]}}]}],T=function e(){_classCallCheck(this,e)};T=Object(r.c)([Object(n.M)({imports:[l.i.forChild(E)],exports:[l.i]})],T);var q=a("M9ds"),A=a("u9T3"),Y=a("AywS"),B=a("s+XH"),H=a("vrAh"),z=a("Dxy4"),V=a("Ynp+"),R=a("PDjf"),$=a("pMoy"),J=a("f44v"),U=a("TN/R"),G=a("iELJ"),K=a("o4Yh"),W=a("40+f"),Z=a("Tj54"),Q=a("e6WT"),X=a("SqCe"),ee=a("rJgo"),te=a("BTe0"),ae=a("pu8Q"),re=a("zQhy"),ne=a("ZTz/"),ie=a("q7Ft"),le=a("mPVK"),oe=a("jMqV"),se=a("zHaW"),ce=a("l0rg"),de=a("ZFy/"),me=a("hzfI"),ue=a("IheW"),fe=a("KMir"),ge=a("+uca"),pe=a("l00h"),he=a("Lyw/"),be=a("nHpv"),ve=a("pk6O"),xe=a("Tp9K");function we(e){return new be.a(e,"./assets/i18n/learnercard/",".json")}var ye=function e(){_classCallCheck(this,e)};ye=Object(r.c)([Object(n.M)({declarations:[F,j],imports:[i.c,T,q.b,A.a,Y.a,B.a,A.a,s.u,s.k,H.b,z.b,V.a,R.a,$.b,J.a,U.e,G.e,K.a,W.a,Z.b,Q.c,X.a,ee.a,c.m,d.c,te.b,ae.a,re.a,c.u,ne.b,ie.c,le.a,oe.a,se.c,m.b,u.c,ce.b,de.b,me.a,ue.c,fe.a,ge.a,pe.b,he.c,ve.a,xe.a,f.b.forChild({loader:{provide:f.a,useFactory:we,deps:[ue.b]}})]})],ye)},sjOD:function(e,t,a){"use strict";a.r(t),t.default="#learnercardreg .mat-input-element {\n  color: #262626 !important;\n}\n#learnercardreg .moremenucolor {\n  color: #848484;\n}\n#learnercardreg .subcategory {\n  background-color: #fbfbfb !important;\n  padding: 20px;\n}\n#learnercardreg .document {\n  width: 32px;\n}\n#learnercardreg .rowdisabledsatate {\n  color: #26262645 !important;\n}\n#learnercardreg .disabledsatate {\n  opacity: 0.2;\n  pointer-events: none;\n}\n#learnercardreg .paginationwithfilter {\n  display: flex !important;\n  justify-content: space-between !important;\n  align-items: center !important;\n}\n#learnercardreg .nofound {\n  margin-top: 5%;\n}\n#learnercardreg .masterPageTop {\n  display: flex;\n}\n#learnercardreg .mat-sort-header-arrow {\n  color: #ED1C27;\n}\n#learnercardreg .masterPageTop .mat-paginator-range-actions button {\n  display: none;\n}\n#learnercardreg .mat-paginator-container .mat-paginator-page-size-label {\n  color: #999;\n  font-size: 15px;\n}\n#learnercardreg .mat-paginator-container .mat-select-value {\n  color: #626366;\n  font-size: 15px;\n}\n#learnercardreg .mat-paginator-container .mat-paginator-range-label {\n  color: #999;\n  font-size: 15px;\n  margin: 0px 10px !important;\n}\n#learnercardreg .arabiclanguage input,\n#learnercardreg .arabiclanguage .mat-form-field-label {\n  text-align: right;\n}\n#learnercardreg .arabiclanguage .mat-form-field-label {\n  text-align: right;\n}\n#learnercardreg .arabiclanguage .mat-error {\n  text-align: right;\n}\n#learnercardreg .mat-select-disabled .mat-select-value {\n  color: #262626;\n  cursor: no-drop;\n}\n#learnercardreg .footerpaginator .mat-paginator-outer-container .mat-paginator-container {\n  padding: 0px !important;\n}\n@media (max-width: 768px) {\n  #learnercardreg .footerpaginator .mat-paginator-outer-container .mat-paginator-container {\n    display: block !important;\n  }\n}\n#learnercardreg .footerpaginator .mat-paginator-outer-container .mat-paginator-range-actions {\n  width: calc(100% - 186px);\n  color: #0c4b9a;\n}\n#learnercardreg .footerpaginator .mat-paginator-outer-container .mat-paginator-range-actions .mat-paginator-range-label {\n  width: calc(100% - 186px);\n}\n@media (max-width: 768px) {\n  #learnercardreg .footerpaginator .mat-paginator-outer-container .mat-paginator-range-actions {\n    width: auto !important;\n  }\n}\n#learnercardreg .readonlyfieldprofile {\n  pointer-events: none;\n  cursor: no-drop !important;\n}\n#learnercardreg .readonlyfielddocument .mat-form-field-outline {\n  background-color: #f8f8f8 !important;\n  pointer-events: none;\n}\n#learnercardreg .readonlyfielddocument .disabledstateView {\n  pointer-events: none;\n  cursor: no-drop !important;\n}\n#learnercardreg .readonlyfield .mat-form-field-outline {\n  background-color: #f8f8f8 !important;\n  cursor: no-drop !important;\n  pointer-events: none;\n}\n#learnercardreg .readonlyfield input[readonly] {\n  cursor: no-drop !important;\n}\n#learnercardreg .readonlyfield .mat-select-arrow:before {\n  display: none;\n}\n#learnercardreg .readonlyfield .mat-placeholder-required.mat-form-field-required-marker {\n  display: none;\n}\n#learnercardreg .readonlyfield .mat-datepicker-toggle {\n  cursor: no-drop;\n}\n#learnercardreg .readonlyfield .mat-input-element {\n  cursor: no-drop;\n}\n#learnercardreg .txt-gry3 {\n  color: #242424;\n}\n#learnercardreg .txt-gry {\n  color: #848484;\n}\n#learnercardreg .date_exp .mat-form-field-appearance-outline .mat-form-field-suffix {\n  display: flex;\n  align-items: center;\n}\n#learnercardreg .availablecard {\n  background: #FFFFFF 0% 0% no-repeat padding-box;\n  box-shadow: 0px 0px 8px #0000001a;\n  border: 1px solid #D7DCE3;\n  border-radius: 4px;\n  opacity: 1;\n}\n#learnercardreg .availablecard form {\n  background-color: #ffffff;\n}\n#learnercardreg .availablecard form .mat-icon {\n  color: #848484;\n  font-size: 22px;\n  cursor: pointer;\n  margin-left: 4px;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline .mat-form-field-outline {\n  color: #d9d9d9;\n  background-color: #fff;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline .mat-form-field-outline-start {\n  border-radius: 3px 0 0 3px;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline .mat-form-field-outline-end {\n  border-radius: 0 3px 3px 0;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline .mat-form-field-required-marker {\n  color: #ED1C27;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline .mat-form-field-outline-thick {\n  color: #6ba5ec;\n  background-color: #f8f8f8;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick {\n  color: #0c4b9a;\n  background-color: #f8f8f8;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline.mat-focused.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {\n  color: #0c4b9a;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline {\n  background-color: #f8f8f8;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick {\n  color: #dc4c64;\n  background-color: #f8f8f8;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {\n  transform: translateY(-0.9rem) scale(0.75);\n  color: #848484;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label .mat-form-field-required-marker {\n  color: #ED1C27;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap {\n  width: 0px !important;\n}\n#learnercardreg .availablecard .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-label {\n  color: #848484 !important;\n}\n#learnercardreg .availablecard .mat-form-field.mat-form-field-invalid .mat-form-field-label {\n  color: #dc4c64 !important;\n}\n#learnercardreg .mat-raised-button {\n  box-shadow: none;\n  border-radius: 2px;\n  font-size: 15px;\n  height: 45px;\n  min-width: 110px;\n}\n#learnercardreg .cancelbtn {\n  color: #262626;\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n}\n#learnercardreg .submitbtnd {\n  background-color: #0c4b9a;\n  color: #fff;\n}\n#learnercardreg .submitbtn {\n  color: #fff;\n  background-color: #ED1C27;\n  max-width: 200px;\n}\n#learnercardreg .paginationwithfilter {\n  display: flex !important;\n  justify-content: space-between !important;\n  align-items: center !important;\n}\n#learnercardreg .scrolldata {\n  position: relative;\n  z-index: 1;\n  display: block;\n  overflow-x: auto;\n  background-color: #fff;\n  scroll-behavior: smooth;\n}\n#learnercardreg .scrolldata::-webkit-scrollbar {\n  width: 6px;\n  height: 5px;\n}\n#learnercardreg .scrolldata::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n#learnercardreg .scrolldata::-webkit-scrollbar-thumb {\n  background: #ccc;\n  border-radius: 2px;\n}\n#learnercardreg .scrolldata::-webkit-scrollbar-thumb:hover {\n  background: #ccc;\n}\n#learnercardreg .awaredtable {\n  border-radius: 2px;\n  background-clip: padding-box;\n  background-color: #fff;\n  margin: 10px 0px;\n}\n#learnercardreg .awaredtable .manageoptions {\n  padding-right: 15px;\n}\n#learnercardreg .awaredtable .mat-row {\n  width: -webkit-fit-content !important;\n  width: -moz-fit-content !important;\n  width: fit-content !important;\n}\n#learnercardreg .awaredtable .mat-row:hover {\n  background-color: #f5f5f5 !important;\n}\n#learnercardreg .awaredtable .mat-cell {\n  color: #262626;\n}\n#learnercardreg .awaredtable .mat-cell a {\n  display: flex;\n  align-items: end;\n}\n#learnercardreg .awaredtable .mat-cell a img {\n  width: 32px;\n}\n#learnercardreg .awaredtable .mat-cell .viewdocument {\n  cursor: pointer;\n}\n#learnercardreg .awaredtable .mat-header-cell {\n  color: #262626;\n  background-color: #eaedf2;\n  font-size: 15px;\n}\n#learnercardreg .mat-form-field-appearance-outline.mat-form-field-readonly {\n  background-color: #009c3a !important;\n}\n#learnercardreg .mat-form-field-appearance-outline .mat-form-field-outline {\n  color: #d9d9d9;\n}\n#learnercardreg .mat-form-field-appearance-outline .mat-form-field-outline-start {\n  border-radius: 3px 0 0 3px;\n}\n#learnercardreg .mat-form-field-appearance-outline .mat-form-field-outline-end {\n  border-radius: 0 3px 3px 0;\n}\n#learnercardreg .mat-form-field-appearance-outline .mat-form-field-required-marker {\n  color: #ED1C27;\n}\n#learnercardreg .mat-form-field-appearance-outline .mat-form-field-outline-thick {\n  color: #6ba5ec;\n  background-color: #f8f8f8;\n}\n#learnercardreg .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick {\n  color: #0c4b9a;\n  background-color: #f8f8f8;\n}\n#learnercardreg .mat-form-field-appearance-outline.mat-focused.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {\n  color: #0c4b9a;\n}\n#learnercardreg .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline {\n  background-color: #f8f8f8;\n}\n#learnercardreg .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick {\n  color: #dc4c64;\n  background-color: #f8f8f8;\n}\n#learnercardreg .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {\n  transform: translateY(-0.9rem) scale(0.75);\n  color: #848484;\n}\n#learnercardreg .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label .mat-form-field-required-marker {\n  color: #ED1C27;\n}\n#learnercardreg .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap {\n  width: 0px !important;\n}\n#learnercardreg .mat-form-field.mat-form-field-invalid .mat-form-field-label {\n  color: #dc4c64 !important;\n}\n#learnercardreg .responsivewafterwidth {\n  display: contents !important;\n}\n#learnercardreg .responsivewafterwidth .uploadicon {\n  width: 152px;\n  height: 152px;\n  max-width: 152px;\n  border: none;\n  cursor: pointer;\n  position: relative;\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0px 0px 8px #0000001a;\n  border: 1px solid #D7DCE3;\n  border-radius: 2px;\n}\n#learnercardreg .responsivewafterwidth .uploadicon .popoverhide {\n  display: none;\n}\n#learnercardreg .popoverHide {\n  display: none;\n}\n#learnercardreg .heightfixed {\n  max-height: 100%;\n}\n#learnercardreg .heightfixed .imgcenter,\n#learnercardreg .heightfixed img {\n  display: flex;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background: #fff;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n#learnercardreg .heightfixed .uploadicon img {\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  cursor: pointer;\n}\n#learnercardreg .imageafteronlinepay {\n  display: inline-flex;\n  width: auto;\n}\n#learnercardreg .NorecordLoader {\n  height: 30px;\n  width: 100%;\n  border-radius: 4px;\n  background: #000;\n  position: relative;\n  -webkit-animation-duration: 1.7s;\n          animation-duration: 1.7s;\n  -webkit-animation-fill-mode: forwards;\n          animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n          animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n          animation-timing-function: linear;\n  -webkit-animation-name: pagetitleAnimate;\n          animation-name: pagetitleAnimate;\n  background: #f6f7f8;\n  background: linear-gradient(to right, #eee 2%, #ddd 18%, #eee 33%);\n  background-size: 1300px;\n}\n#learnercardreg .mat-radio-button.mat-accent .mat-radio-inner-circle, #learnercardreg .mat-pseudo-checkbox-checked, #learnercardreg .mat-accent .mat-pseudo-checkbox-checked, #learnercardreg .mat-checkbox-checked.mat-accent .mat-checkbox-backgroun {\n  background-color: #ed1c27 !important;\n}\n#learnercardreg .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle {\n  border-color: #ed1c27 !important;\n}\n.whentootltipadded {\n  background-color: #666666 !important;\n  color: #fff;\n  min-height: 45px !important;\n}\n.whentootltipadded .mat-menu-item {\n  color: #fff !important;\n  height: 30px !important;\n  line-height: 20px !important;\n}\n.whentootltipadded .mat-menu-item span {\n  color: #ffffff !important;\n}\n.whentootltipadded .mat-menu-item span a {\n  color: #ffffff !important;\n}\n.option-listing div {\n  margin: 0 !important;\n}\n.searchinmultiselect {\n  display: flex;\n  align-items: center;\n  padding: 6px 10px;\n  background: #e9edf0;\n}\n.searchinmultiselect input::-webkit-input-placeholder {\n  color: #7f8fa3 !important;\n}\n.searchinmultiselect i {\n  color: #7f8fa3 !important;\n  padding-right: 6px;\n}\n.searchinmultiselect .searchselect {\n  width: calc(100% - 25px) !important;\n}\n.searchinmultiselect .reseticon {\n  cursor: pointer;\n}\n.select_with_search {\n  overflow: hidden !important;\n  max-height: 100% !important;\n  margin-top: 50px !important;\n  margin-bottom: 15px !important;\n}\n.select_with_option {\n  overflow: hidden !important;\n  max-height: 100% !important;\n  margin-top: 49px !important;\n  margin-bottom: 15px !important;\n}\n.select_with_option.multiple {\n  margin-top: 48px !important;\n  margin-left: 25px;\n  min-width: calc(100% + 28px) !important;\n}\n.searchinmultiselect {\n  display: flex;\n  align-items: center;\n  padding: 10px 10px;\n  background: #e9edf0;\n  margin: 10px;\n}\n.searchselect {\n  width: calc(100% - 25px) !important;\n  padding-left: 10px;\n}\n.mat-option.mat-active {\n  background: #fff;\n  color: rgba(0, 0, 0, 0.87);\n}\n.option-listing {\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: 290px;\n}\n.option-listing::-webkit-scrollbar {\n  width: 7px;\n}\n/* Track */\n.option-listing::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n/* Handle */\n.option-listing::-webkit-scrollbar-thumb {\n  background: #ED1C27;\n}\n/* hover */\n.option-listing::-webkit-scrollbar-thumb:hover {\n  background: #ED1C27;\n}\n.myPanelClass {\n  margin: 36px 0px;\n}\n.mat-autocomplete-panel {\n  overflow: hidden !important;\n}"},tUqk:function(e,t,a){"use strict";a.r(t),t.default="#learnercard .mat-raised-button {\n  border-radius: 2px;\n  box-shadow: none;\n}\n#learnercard .paginationwithfilter {\n  display: flex !important;\n  justify-content: space-between !important;\n  align-items: center !important;\n}\n#learnercard .masterPageTop {\n  display: flex;\n}\n#learnercard .masterPageTop .mat-paginator-range-actions button {\n  display: none;\n}\n#learnercard .filter {\n  height: 45px;\n  min-width: 110px;\n}\n#learnercard .tabforclientelenew .mat-form-field-appearance-outline .mat-form-field-infix {\n  padding: 8px 0 !important;\n}\n#learnercard .tabforclientelenew .manageoptions .mat-icon {\n  color: #acacac;\n}\n#learnercard .nofound {\n  margin-top: 5%;\n}\n#learnercard .mat-sort-header-arrow {\n  color: #ED1C27;\n}\n#learnercard .awaredtable {\n  border-radius: 2px;\n  background-clip: padding-box;\n  background-color: #fff;\n  margin: 10px 0px;\n}\n#learnercard .awaredtable .manageoptions {\n  padding-right: 15px;\n}\n#learnercard .awaredtable .mat-row {\n  width: -webkit-fit-content !important;\n  width: -moz-fit-content !important;\n  width: fit-content !important;\n}\n#learnercard .awaredtable .mat-row:hover {\n  background-color: #f5f5f5 !important;\n}\n#learnercard .awaredtable .mat-cell {\n  color: #262626;\n}\n#learnercard .awaredtable .mat-cell a {\n  display: flex;\n  align-items: end;\n}\n#learnercard .awaredtable .mat-cell a img {\n  width: 32px;\n}\n#learnercard .awaredtable .mat-cell .viewdocument {\n  cursor: pointer;\n}\n#learnercard .awaredtable .mat-header-cell {\n  color: #626366 !important;\n  background-color: #eaedf2;\n  font-size: 15px;\n}\n#learnercard .mat-paginator-container .mat-paginator-page-size-label {\n  color: #999;\n  font-size: 15px;\n}\n#learnercard .mat-paginator-container .mat-select-value {\n  color: #626366;\n  font-size: 15px;\n}\n#learnercard .mat-paginator-container .mat-paginator-range-label {\n  color: #999;\n  font-size: 15px;\n  margin: 0px 10px !important;\n}\n#learnercard .scrolldata {\n  position: relative;\n  z-index: 1;\n  display: block;\n  overflow-x: auto;\n  background-color: #fff;\n}\n#learnercard .scrolldata::-webkit-scrollbar {\n  width: 6px;\n  height: 5px;\n}\n#learnercard .scrolldata::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n#learnercard .scrolldata::-webkit-scrollbar-thumb {\n  background: #ccc;\n  border-radius: 2px;\n}\n#learnercard .scrolldata::-webkit-scrollbar-thumb:hover {\n  background: #ccc;\n}\n#learnercard .footerpaginator .mat-paginator-outer-container .mat-paginator-container {\n  padding: 0px !important;\n}\n@media (max-width: 768px) {\n  #learnercard .footerpaginator .mat-paginator-outer-container .mat-paginator-container {\n    display: block !important;\n  }\n}\n#learnercard .footerpaginator .mat-paginator-outer-container .mat-paginator-range-actions {\n  width: calc(100% - 186px);\n  color: #0c4b9a;\n}\n#learnercard .footerpaginator .mat-paginator-outer-container .mat-paginator-range-actions .mat-paginator-range-label {\n  width: calc(100% - 186px);\n}\n@media (max-width: 768px) {\n  #learnercard .footerpaginator .mat-paginator-outer-container .mat-paginator-range-actions {\n    width: auto !important;\n  }\n}\n#learnercard .transformbtns {\n  min-width: 160px;\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n  color: #262626;\n  padding-left: 10px;\n  padding-right: 10px;\n  height: 45px;\n  font-size: 15px;\n}\n#learnercard .transformbtn {\n  min-width: 110px;\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n  color: #262626;\n  padding-left: 0px;\n  padding-right: 0px;\n  height: 45px;\n}\n#learnercard .submit_btn {\n  background-color: #ED1C27 !important;\n  color: #fff !important;\n  min-width: 110px;\n  height: 45px;\n}\n#learnercard #searchrow,\n#learnercard #filtershow {\n  background: #fff !important;\n  border: none;\n}\n#learnercard #searchrow .serachrow,\n#learnercard #filtershow .serachrow {\n  background: #f8f8f8 !important;\n  min-height: 73px !important;\n}\n#learnercard #searchrow .serachrow .mat-form-field-outline,\n#learnercard #filtershow .serachrow .mat-form-field-outline {\n  background-color: #fff !important;\n}\n#learnercard .NorecordLoader {\n  height: 30px;\n  width: 100%;\n  border-radius: 4px;\n  background: #000;\n  position: relative;\n  -webkit-animation-duration: 1.7s;\n          animation-duration: 1.7s;\n  -webkit-animation-fill-mode: forwards;\n          animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n          animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n          animation-timing-function: linear;\n  -webkit-animation-name: pagetitleAnimate;\n          animation-name: pagetitleAnimate;\n  background: #f6f7f8;\n  background: linear-gradient(to right, #eee 2%, #ddd 18%, #eee 33%);\n  background-size: 1300px;\n}\n.whentootltipadded {\n  background-color: #666666 !important;\n  color: #fff;\n  min-height: 45px !important;\n}\n.whentootltipadded .mat-menu-item {\n  color: #fff !important;\n  height: 30px !important;\n  line-height: 20px !important;\n}\n.whentootltipadded .mat-menu-item span {\n  color: #ffffff !important;\n}\n.whentootltipadded .mat-menu-item span a {\n  color: #ffffff !important;\n}\n.option-listing div {\n  margin: 0 !important;\n}\n.searchinmultiselect {\n  display: flex;\n  align-items: center;\n  padding: 6px 10px;\n  background: #e9edf0;\n}\n.searchinmultiselect input::-webkit-input-placeholder {\n  color: #7f8fa3 !important;\n}\n.searchinmultiselect i {\n  color: #7f8fa3 !important;\n  padding-right: 6px;\n}\n.searchinmultiselect .searchselect {\n  width: calc(100% - 25px) !important;\n}\n.searchinmultiselect .reseticon {\n  cursor: pointer;\n}\n.select_with_search {\n  overflow: hidden !important;\n  max-height: 100% !important;\n  margin-top: 50px !important;\n  margin-bottom: 15px !important;\n}\n.select_with_option {\n  overflow: hidden !important;\n  max-height: 100% !important;\n  margin-top: 49px !important;\n  margin-bottom: 15px !important;\n}\n.select_with_option.multiple {\n  margin-top: 48px !important;\n  margin-left: 25px;\n  min-width: calc(100% + 28px) !important;\n}\n.searchinmultiselect {\n  display: flex;\n  align-items: center;\n  padding: 10px 10px;\n  background: #e9edf0;\n  margin: 10px;\n}\n.searchselect {\n  width: calc(100% - 25px) !important;\n  padding-left: 10px;\n}\n.mat-option.mat-active {\n  background: #fff;\n  color: rgba(0, 0, 0, 0.87);\n}\n.option-listing {\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: 290px;\n}\n.option-listing::-webkit-scrollbar {\n  width: 7px;\n}\n/* Track */\n.option-listing::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n/* Handle */\n.option-listing::-webkit-scrollbar-thumb {\n  background: #ED1C27;\n}\n/* hover */\n.option-listing::-webkit-scrollbar-thumb:hover {\n  background: #ED1C27;\n}\n.myPanelClass {\n  margin: 36px 0px;\n}"}}]);