<div class="inviteduserpage">
 
  <form class="basic-form organizationform">
    <div  fxLayout="row wrap" class=" ">
      <div fxFlex.gt-sm="100" fxFlex="100">
        <div fxLayout="row wrap" class="mastercompnaycontent">
          <div fxFlex.gt-sm="100" fxFlex="100">
            <div class="topheadermain">
              <div class="imagewithtext">
                <h4 class="mat-pagetitle-1">{{'enterpriseadmin.inviuser' | translate}}</h4>
              </div>
            
            </div>
          </div>
        </div>
        <div fxLayout="row wrap" fxLayoutAlign="center" class=" organizationdetail" id="mastercompanydetail" class="m-t-40">
          <div fxFlex.gt-sm="100" fxFlex="100" class="p-t-5">
            <div fxLayout="row wrap" class="" fxLayoutAlign="center" class="p-b-15">
              <div fxFlex.gt-sm="100" fxFlex="100" class="p-l-10 p-r-10">
                <app-usereachcounts #refUserCount></app-usereachcounts>
              </div>
            </div>
            <div fxLayout="row wrap" class="" fxLayoutAlign="center" class="p-b-15">
              <div fxFlex.gt-sm="100" fxFlex="100" [formGroup]='searchform'>
                <div class="filterouterdiv p-t-10">
                  <div fxLayout="row wrap" class="widthfull">
                    <div fxFlex.gt-sm="100" fxFlex="100">
                      <div class="searchandfilter">
                        <div class="searchhere" (click)="toggleShowDiv('searchhistorydropdown')">
                          <mat-form-field [floatLabel]="'never'">
                            <input (input)="searchdata();showSearchIcon=false" #inputClickbus autocomplete="off" class="input-text-color"
                              (keyup.enter)="searchdata();showSearchIcon=false" placeholder="{{'enterpriseadmin.searbyemaiid' | translate}}"
                              appAlphanumsymb matInput formControlName='searchname'>

                            <button *ngIf="showSearchIcon" [disabled]="!search" class="searchbutton" type="button"
                              mat-button matSuffix mat-icon-button aria-label="Search"
                              (click)="searchdata();showSearchIcon=false">
                              <mat-icon matTooltip="{{'enterpriseadmin.sear' | translate}}" matTooltipPosition="above" matSuffix>search</mat-icon>
                            </button>
                            <button *ngIf="!showSearchIcon" class="searchbutton" type="button" mat-button matSuffix
                              mat-icon-button aria-label="Clear" (click)="search = '';clearData();showSearchIcon=true">
                              <mat-icon matTooltip="{{'enterpriseadmin.reset' | translate}}" matTooltipPosition="above">close</mat-icon>
                            </button>
                          </mat-form-field>
                          <div class=" searchhistorydropdown" [@slideInOut]="animationState1">
                            <div class="recentsearchinfo">
                              <h6>{{'enterpriseadmin.recesear' | translate}}</h6>
                              <div *ngIf="recentSearch" class="searcheddata">
                                <p *ngFor="let recentVal of recentSearch; let i = index"
                                  (click)="recentDataSet(recentVal.rsd_searchtext)" class="cursor-pointer"><i class="bgi bgi-search"></i>
                                  <span>{{recentVal.rsd_searchtext}}</span>
                                </p>
                              </div>
                              <div *ngIf="recentSearch.length == 0" class="searcheddata">
                                <p><i class="bgi bgi-search"></i> <span>{{'enterpriseadmin.noseardatafoun' | translate}}</span></p>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="filterhere">
                          <button type="button" (click)="toggleShowDiv('descriptioncontentfilter')" class="filterbutton"
                            mat-raised-button color="primary">
                            <i class="bgi bgi-configuration m-r-10 txt-white"></i><span
                              *ngIf="filtercount == 0">{{'enterpriseadmin.filt' | translate}}</span><span
                              *ngIf="filtercount != 0">{{'enterpriseadmin.filt' | translate}}({{filtercount}})</span>
                          </button>

                        </div>
                        <div class=" descriptioncontentfilter filtercontent" [@slideInOut]="animationState">
                          <div class="filterheader">
                            <p class="header">{{'enterpriseadmin.filt' | translate}}</p>
                            <span *ngIf="filtercount != 0" (click)='filterReset()' class="clearingfilter">{{'enterpriseadmin.cleaall' | translate}}
                              </span>
                          </div>
                          <hr class="m-0">
                          <div class="filtersearchcontent p-t-20 p-b-0" ngClass.xs="p-l-10 p-r-10"
                            ngClass.sm="p-r-10 p-l-10" ngClass.md="p-l-30 p-r-30" ngClass.lg="p-r-30 p-l-30" ngClass.xl="p-r-30 p-l-30">


                            <!-- Division & Branch Name Ends -->
                            <div fxLayout="row wrap">
                              <div fxFlex.gt-sm="50" fxFlex="100" class="p-r-15 statusing">
                                <p>{{'enterpriseadmin.stat' | translate}}</p>
                                <div class="activeandinactive">
                                  <div class="invitefilter">
                                    <mat-checkbox class="example-margin" [checked]="statusType.includes(1)"
                                      (change)="filterStatusChange($event)" [value]="1"> {{'enterpriseadmin.invi' | translate}}</mat-checkbox>
                                      <mat-checkbox class="example-margin" [checked]="statusType.includes(2)"
                                      (change)="filterStatusChange($event)" [value]="2">{{'enterpriseadmin.inviacce' | translate}}</mat-checkbox>
                                  </div>
                              
                                </div>
                              </div>
                            </div>
                          </div>
                          <hr class="m-b-0">
                          <div class="filterfooter">
                            <div fxLayout="row wrap">
                              <div fxFlex.gt-sm="100" fxFlex="100">
                                <div class="filtercloseapply">
                                  <button (click)="toggleShowDiv('descriptioncontentfilter');" type="button"
                                    mat-raised-button color="primary"
                                    class="clearbutton height-35 m-r-10 p-l-30 p-r-30">{{'enterpriseadmin.clos' | translate}}</button>
                                  <button color="primary" [disabled]="filtercountVal == 0" mat-raised-button
                                    class="applybutton height-35 p-l-30 p-r-30"
                                    (click)="fetchData();applyButton()">{{'enterpriseadmin.appl' | translate}}</button>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <button type="button" (click)="inviteuser.toggle();openSidenav()" mat-raised-button color="preview"
                    class="height-35  adduserbutton">
                    <span>
                      {{'enterpriseadmin.inviusers' | translate}} 
                    </span>
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="inviteuserloader">
              <div fxLayout="row wrap">
                <div fxFlex.gt-sm="100" fxFlex="100">
                  <div fxLayout="row wrap" class="page m-t-20">
                    <div fxFlex.gt-sm="100" fxFlex="100">
                      <div class="marginbetween">
                        <div class="justify m-b-40">
                          <h1 class="pagetitle widthofspace"></h1>
                          <h1 class="pagetitle widthofspace"></h1>
                        </div>
                        <div class="aligncard m-t-30">
                          <div class="cardleftwidth d-flex">
                            <div  class="pagetitlecontent m-b-20 m-r-20"></div>
                            <div  class="pagetitlecontent m-b-20"></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div [style.visibility]="!inviteuserloader ? 'visible' : 'hidden' ">
              <div class="paginationwithfilter masterPageTop">
                <mat-paginator class="masterPage masterPageTop" #paginator [length]="resultsLength"
                  [style.visibility]="(resultsLength > 10) ? 'visible' : 'hidden' "
                  (page)=" onPaginateChange($event)" [pageSize]="10"
                  [pageSizeOptions]="[10, 20, 40, 80]">
                </mat-paginator>
                <div fxLayout="row wrap" ngClass.xs="p-l-0" ngClass.sm="p-l-0" ngClass.md="p-l-20" ngClass.lg="p-l-20"
                  class="p-r-0 manageoptionsres">
                  <div fxFlex.gt-sm="100" fxFlex="100" class="searchinfo">
                    <div fxLayoutAlign="end" fxFlex="100" class="showfilterandadditem m-b-0">
                      <div class="gotoeachmenus">
                        <div class="manageoptions">
  
                          <p class="managespanafter mangebackground m-r-30"><span class="mangecolor">{{'enterpriseadmin.manag' | translate}}:</span> <span class="dropitem"
                              [matMenuTriggerFor]="menutopmanage"> {{'enterpriseadmin.inviuser' | translate}}</span></p>
  
                          <mat-menu #menutopmanage="matMenu" class="master-menu">
                            <button [routerLink]="'/enterpriseadmin/usermanagement'" mat-menu-item>
                              <span>{{'enterpriseadmin.user' | translate}}</span>
                            </button>
                            <button [routerLink]="'/enterpriseadmin/department'" mat-menu-item>
                              <span>{{'enterpriseadmin.depa' | translate}}</span>
                            </button>
                            <button [routerLink]="'/enterpriseadmin/divisions'" mat-menu-item>
                              <span>{{'enterpriseadmin.divisi' | translate}}</span>
                            </button>
                            <button [routerLink]="'/enterpriseadmin/inviteduser'" mat-menu-item>
                              <span>{{'enterpriseadmin.inviuser' | translate}}</span>
                            </button>
                          </mat-menu>
                          <span [matMenuTriggerFor]="menu1" class=" sortby"><span>{{'enterpriseadmin.sortby' | translate}}</span><i
                              class="bgi bgi-dropdown fs-10 p-l-5"></i></span>
                          <mat-menu #menu1="matMenu" class="master-menu">
                            <button (click)="onSort(1)" mat-menu-item>{{'enterpriseadmin.newe' | translate}}</button>
                            <button (click)="onSort(2)" mat-menu-item>{{'enterpriseadmin.olde' | translate}}</button>
                          </mat-menu>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div fxLayout="row wrap" class=" tabforclientelenew ">
                <div fxFlex.gt-sm="100" fxFlex="100" class=" masterTable">
                  <div class="eachprofilelistflexcontatiner">
                    <div class="profileflexitem" *ngFor="let userInfoDetails of userinfo; let i = index">
                      <div class="makeitforlistview">
                        <div class="personinformation">
                          <div class="nameandhisid">
                            <div class="forlistviewname">
                              <h4 popover="{{userInfoDetails.name}}" popoverPlacement="top"
                              [popoverOnHover]="true" [popoverCloseOnClickOutside]="true"
                              [popoverCloseOnMouseOutside]="false" [popoverDisabled]="false"
                              [popoverAnimation]="true" class="mat-subheading-1 text-center">
                                {{userInfoDetails.name | truncate:[60,'...']}}</h4>
                              <div>
                                <button *ngIf="userInfoDetails.status == 1" class="menubutton" mat-icon-button
                                  [matMenuTriggerFor]="menutop" aria-label="Example icon-button with a menu">
                                  <mat-icon class="moremenucolor">more_vert</mat-icon>
                                </button>
                                <mat-menu #menutop="matMenu" class="master-menu enterprisedeleteedit">
                                  <button mat-menu-item (click)="deleteInvite(userInfoDetails.invitePk)">
                                    <span>{{'enterpriseadmin.dele' | translate}}</span>
                                  </button>
                                  <button (click)="resendMail(userInfoDetails.invitePk,userInfoDetails?.statustext)"
                                    mat-menu-item>
                                    <span>{{'enterpriseadmin.resemail' | translate}}</span>
                                  </button>
                                </mat-menu>
                              </div>
                            </div>
                            <div class="sttusofprson">
                              <span [class.invited]="userInfoDetails.status == 1 ? true : false"
                                [class.accepted]="userInfoDetails.status == 2 ? true: false">
                                {{(userInfoDetails.status == 1 ? this.i18n('enterpriseadmin.invi') : this.i18n('enterpriseadmin.inviacce'))}}
                              </span>
                            </div>
                          </div>
                          <div class="contactdetils">
                            <p><i class="bgi bgi-mail"></i>
                              <span popover="{{userInfoDetails.emailId}}" popoverPlacement="top"
                              [popoverOnHover]="true" [popoverCloseOnClickOutside]="true"
                              [popoverCloseOnMouseOutside]="false" [popoverDisabled]="false"
                              [popoverAnimation]="true">{{userInfoDetails.emailId | truncate:[25]}}</span></p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div fxLayout="row" fxLayoutAlign="end" class="m-b-15 m-t-30">
                    <div fxFlex.gt-sm="100" fxFlex="100" class="footerpaginator">
                      <mat-paginator [style.visibility]="(resultsLength > 10) ? 'visible' : 'hidden' "
                        class="masterPage masterbottom normalpage" showFirstLastButtons
                        (page)="onPaginateChange($event);syncPrimaryPaginator($event);" [pageSize]="paginator?.pageSize"
                        [pageIndex]="paginator?.pageIndex" [length]="paginator?.length"
                        [pageSizeOptions]="paginator?.pageSizeOptions">
                      </mat-paginator>
                    </div>
                  </div>
                </div>  
              </div>
              <div fxLayout="row wrap" [class.disabled]="(resultsLength > 0)?true:false" class="noducumentaddedyet" id="forinviteuser">
                <div fxFlex.gt-sm="100" fxFlex="100">
                  <div class="noresultsfound">
                    <img src="assets/images/Norecords.svg" alt="No Record found" />
                    <h2 class="fs-16 lypisfont-bold  m-0 lh-25 p-t-20"
                      [class.disabled]="(resultsLength > 0)?true:false">{{noDataAvailable}}</h2>
                  </div>
                </div>
              </div>
            </div>
        
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
<app-responseloader class="fixedaloders" *ngIf="showResponsiveLoader"></app-responseloader>

<mat-drawer-container class="example-container">
  <mat-drawer disableClose #inviteuser class="example-sidenav sidenavsamewidthall" mode="over" position="end">
    <app-inviteuser [inviteuser]="inviteuser" (closeAddSlider)="closeAddSlider($event)"></app-inviteuser>
  </mat-drawer>
</mat-drawer-container>