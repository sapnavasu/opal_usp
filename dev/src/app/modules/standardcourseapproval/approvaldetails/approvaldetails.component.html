<div id="courseapproval" fxLayoutAlign="center" class="pagescroll" #pagescroll *ngIf="this.readaccess">
    <div fxFlex="100">
        <div class="paginationwithfilter masterPageTop ">
            <mat-paginator  #paginator class="masterPage masterPageTop"  [length]="resultsLength1" [pageSize]="10"
                [pageSizeOptions]="[5, 10, 25, 100]" (page)="syncPrimaryPaginator($event);"></mat-paginator>
            <div fxLayout="row wrap" fxLayoutAlign="end">
                <div fxFlex.gt-sm="100" fxFlex="100">
                    <!-- <button mat-raised-button [matMenuTriggerFor]="menu"
                        class="ShowHidefs-15 submit_btn m-r-10">{{'branch.applycourse' | translate}}<i
                            class="fa fa-chevron-down m-l-5" aria-hidden="true"></i></button>
                    <mat-menu #menu="matMenu" class="menu-panel">
                        <button mat-menu-item (click)="ApplyCertificate();scrollTo('pagescroll')"
                            class="fs-16">{{'branch.stand' | translate}}</button>
                        <button mat-menu-item (click)="ApplyCertificate();scrollTo('pagescroll')"
                            class="fs-16">{{'branch.cust' | translate}}</button>
                    </mat-menu> -->
                    <button mat-raised-button type="button" (click)="saveexportdet()" class="ShowHidefs-15 validet m-r-10" *ngIf="this.downloadaccess">{{'branch.export' |
                        translate}}
                    </button>

                    <button mat-raised-button [matMenuTriggerFor]="menu" class="ShowHidefs-15 submit_btn m-r-10" *ngIf="(this.roleaccess &&  this.createaccess ) || this.accesssuperadmin">{{'branch.congi' | translate}}<i
                        class="fa fa-chevron-down m-l-5" aria-hidden="true"></i></button>
                    <mat-menu #menu="matMenu" class="menu-panel applypanel">
                        <button mat-menu-item (click)="navigateAuditlog(2)" class="fs-16">{{'table.standcou' | translate}}</button>
                        <button mat-menu-item (click)="navigateAuditlog(3)" class="fs-16">{{'table.custcou' | translate}}</button>
                    </mat-menu>
                     <!-- <button mat-raised-button type="button"
                        class="ShowHidefs-15 validet m-r-10">{{'branch.congi' | translate}}
                    </button> -->
                    <button mat-raised-button type="button" color="primary" (click)="clickEvent();"
                        class="filter">{{filtername}}<i class="opalicon opal-filter fs-15 m-l-7" aria-hidden="true"></i></button>
                </div>
            </div>
        </div>
        <div fxLayout="row wrap">
            <div fxFlex.gt-sm="100" fxFlex="100" class="tabforclientelenew">
                <div #TABLE class="awaredtable">
                    <mat-table id="ExampleMaterialTable" #table class="scrolldata" [dataSource]="TrainingBranchData" matSort
                        matSortDisableClear (matSortChange)="announceSortChange($event)">
<!-- 1 -->
                        <ng-container matColumnDef="applictionno">
                            <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'branch.applform' | translate}}</mat-header-cell>
                            <mat-cell data-label="applictionno" fxFlex="200px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder"> <span *ngIf="BranchData.applictionno == null || BranchData.applictionno == ''">-</span> 
                                    <span *ngIf="BranchData.applictionno != null || BranchData.applictionno != ''">{{BranchData.applictionno}}</span> </div>
                               
                            </mat-cell>
                        </ng-container>
                        <!-- 2 -->
                        <ng-container matColumnDef="trainprovname">
                            <mat-header-cell fxFlex="300px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'branch.trainprovname' | translate}}</mat-header-cell>
                            <mat-cell data-label="trainprovname" fxFlex="300px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder"><span *ngIf="BranchData.omrm_tpname_en == null || BranchData.omrm_tpname_en == ''">-</span> 
                                    <span *ngIf="BranchData.omrm_tpname_en != null || BranchData.omrm_tpname_en != ''"> {{BranchData.omrm_tpname_en}}</span>  </div>
                               
                            </mat-cell>
                        </ng-container>
                        <!-- 3 -->
                        <ng-container matColumnDef="offictype">
                            <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'branch.offitype' | translate}}</mat-header-cell>
                            <mat-cell data-label="offictype" fxFlex="200px" *matCellDef="let BranchData"> 
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder"> <span *ngIf="BranchData.offictype == 1">
                                    {{'table.main' |translate}}
                                </span>
                                <span *ngIf="BranchData.offictype == 2">
                                    {{'table.branch' |translate}}
                                </span> </div>
                               

                               
                             
                            </mat-cell>
                        </ng-container>
                        <!-- 4 -->
                        <ng-container matColumnDef="branchname">
                            <mat-header-cell fxFlex="270px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'branch.branchname' | translate}}</mat-header-cell>
                            <mat-cell data-label="branchname" fxFlex="270px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder"><span *ngIf="BranchData.branchname == null || BranchData.branchname == ''">-</span> 
                                    <span *ngIf="BranchData.branchname != null || BranchData.branchname != ''">{{BranchData.branchname}}</span> </div>
                                
                            </mat-cell>
                       
                        </ng-container>

                        <!-- 5 -->
                        <ng-container matColumnDef="sitelocan">
                            <mat-header-cell fxFlex="170px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'branch.sitelocan' | translate}}</mat-header-cell>
                            <mat-cell data-label="sitelocan" fxFlex="170px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder"><a href="https://www.google.com.sa/maps/search/{{BranchData.sitelocan}},{{BranchData.appiim_loclongitude}}" target="_blank" matTooltip="{{'table.viewlocat' | translate}}"> <mat-icon class="txt-gry"> location_on</mat-icon></a>  </div>
                               </mat-cell>
                        </ng-container>
                        <!-- onclick="window.open('http:www.google.com','_blank','height=570,width=520,')" -->
                        <!-- 6 -->
                        <ng-container matColumnDef="coursetype">
                            <mat-header-cell fxFlex="190px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>
                                
                                {{'branch.courtype' | translate}}</mat-header-cell>
                            <mat-cell data-label="coursetype" fxFlex="190px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder"> <span *ngIf="BranchData.coursetype == 2">
                                    {{'table.stand' |translate}}
                                </span>
                                <span *ngIf="BranchData.coursetype == 3">
                                    {{'table.cust' |translate}} 
                                </span></div>
                               

                               
                                
                               </mat-cell>
                        </ng-container>
                        <!-- 7 -->
                        <ng-container matColumnDef="coursetitle">
                            <mat-header-cell fxFlex="280px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'branch.courtitl' | translate}}</mat-header-cell>
                            <mat-cell data-label="coursetitle" fxFlex="280px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder">{{BranchData.coursetitle}} </div>
                                </mat-cell>
                        </ng-container>
                          <!-- 8 -->
                          <ng-container matColumnDef="coursecate">
                            <mat-header-cell fxFlex="230px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'branch.courcate' | translate}}</mat-header-cell>
                            <mat-cell data-label="coursecate" fxFlex="230px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder">{{BranchData.coursecate}} </div>
                                </mat-cell>
                        </ng-container>
                          <!-- 9 -->
                          <ng-container matColumnDef="coursesubcate">
                            <mat-header-cell fxFlex="230px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'branch.coursubcate' | translate}}</mat-header-cell>
                            <mat-cell  data-label="coursesubcate" fxFlex="230px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder"> {{splitFunction(BranchData.coursesubcate)}}  {{coursesubcategory[0]}}
                             
                                    <div style="width: 50px;" *ngIf=" coursesubcategory.length != 1">
                                   <span  style="
                                  
                                cursor: pointer;" matTooltip="{{category_remove}}"> (+ {{coursesubcategory.length-1}}) </span>
                                </div> </div>
                               
                            
                            
                            
                            </mat-cell>
                        </ng-container>
                        <!-- 10 -->
                        <ng-container matColumnDef="applytype">
                            <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'branch.applytype' |
                                translate}}</mat-header-cell>
                            <mat-cell data-label="applytype" fxFlex="200px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder"><span *ngIf="BranchData.applytype == '1'">{{'table.initial'
                                    |translate}}</span>
                               
                                <span *ngIf="BranchData.applytype == '2'">{{'table.renewal'
                                    |translate}}</span> 
                                    <span *ngIf="BranchData.applytype == '3'">{{'table.update'
                                            |translate}}</span>
                                        </div>
                                    </mat-cell>
                                    
                        </ng-container>

                        <!-- 11 -->
                        <ng-container matColumnDef="applicationstatus">
                            <mat-header-cell fxFlex="250px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'branch.applstat' |
                                translate}}</mat-header-cell>
                            <mat-cell data-label="applicationstatus" fxFlex="250px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder">
                                     <!-- <span *ngIf="BranchData.applicationstatus == '1'">{{'table.yettosubmit'
                                    |translate}}</span> -->
                                <span *ngIf="BranchData.applicationstatus == '2'">Desktop review Pending</span>
                                <span *ngIf="BranchData.applicationstatus == '3'">{{'Missing Files' | translate}}</span>
                                <span *ngIf="BranchData.applicationstatus == '4'">Desktop review Pending</span>
                                <span *ngIf="BranchData.applicationstatus == '5'">{{'Payment Pending' | translate}}</span>
                                <span *ngIf="BranchData.applicationstatus == '6'">{{'Confirm Payment' | translate}}</span> 
                            <span  *ngIf="BranchData.applicationstatus == '7'">{{'Yet to Schedule for Site Audit' | translate}}</span> 
                            <span *ngIf="BranchData.applicationstatus == '8'">{{'Audit Date Selection (Training Provider)' | translate}}</span>
                            <span *ngIf="BranchData.applicationstatus == '9'">{{'table.readforaudit' | translate}}</span>
                            <span *ngIf="BranchData.applicationstatus == '10'">{{'Quality Manager Approval Pending' | translate}}</span>
                            <span *ngIf="BranchData.applicationstatus == '11'">{{'Authority Approval Pending' | translate}}</span>
                            <span *ngIf="BranchData.applicationstatus == '12'">{{'table.submforceo' | translate}}</span>
                            <span *ngIf="BranchData.applicationstatus == '13'">{{'Site Audit Report Declined' | translate}}</span> 
                            <span *ngIf="BranchData.applicationstatus == '14'">{{'Quality Manager Approval Pending' | translate}}</span> 
                            <span *ngIf="BranchData.applicationstatus == '15'">{{'Authority Approval Pending' | translate}}</span>
                            <span *ngIf="BranchData.applicationstatus == '16'">{{'table.resubmforceoapp' | translate}}</span> 
                                <span *ngIf="BranchData.applicationstatus == '17'">{{'Approved' | translate}}</span>
                            <span *ngIf="BranchData.applicationstatus == '18'"> Declined by Finance Team</span>
                            <span *ngIf="BranchData.applicationstatus == '19'">{{'Suspended' | translate}}</span>
                            <span *ngIf="BranchData.applicationstatus ==  '20'">{{'Certification Form Declined' | translate}}</span>
                             </div>
                               
                                 </mat-cell>
                        </ng-container>
                        <!-- 12 -->
                        <ng-container matColumnDef="certification">
                            <mat-header-cell fxFlex="250px" mat-header-cell *matHeaderCellDef mat-sort-header>
                                {{'branch.certstat' | translate}} </mat-header-cell>
                            <mat-cell data-label="certification" fxFlex="250px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder"> 
                                <span *ngIf="BranchData.dateofexpiry == '2'"  class="approved">{{'table.acti'
                                    |translate}}</span>
                               
                                <span *ngIf="BranchData.dateofexpiry == '1'"  class="red">{{'table.new'
                                    |translate}}</span>
                                <span *ngIf="BranchData.dateofexpiry == '3'" class="declined">{{'table.expi'
                                    |translate}}</span> </div>
                             </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="siteaudit">
                            <mat-header-cell fxFlex="263px" mat-header-cell *matHeaderCellDef mat-sort-header>
                                {{'Site Audit Scheduled on' | translate}} </mat-header-cell>
                            <mat-cell data-label="siteaudit" fxFlex="263px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder"> <span class="">{{BranchData.asd_date?(BranchData.asd_date | date: 'dd-MM-yyyy'):'-'}}</span></div>
                                </mat-cell>
                        </ng-container>
                        <!-- 13 -->
                        <ng-container matColumnDef="dateofexpiry">
                            <mat-header-cell fxFlex="263px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'branch.dateofexpi' | translate}}
                                
                            </mat-header-cell>
                            <mat-cell data-label="dateofexpiry" fxFlex="263px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder"> 
                                    <span *ngIf="BranchData.appdt_certificateexpiry == '' || BranchData.appdt_certificateexpiry == undefined">-</span>
                                    <span *ngIf="BranchData.appdt_certificateexpiry != '' || BranchData.appdt_certificateexpiry != undefined">{{BranchData.appdt_certificateexpiry | date: 'dd-MM-yyyy'}} </span>
                                     </div>
                                </mat-cell>
                        </ng-container>
                        <!-- 14 -->
                        <ng-container matColumnDef="addedon">
                            <mat-header-cell fxFlex="263px" mat-header-cell *matHeaderCellDef mat-sort-header>
                                {{'branch.addon' | translate}} </mat-header-cell>
                            <mat-cell data-label="addedon" fxFlex="263px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder">  
                                    <span *ngIf="BranchData.appdt_submittedon == '' || BranchData.appdt_submittedon == undefined">-</span>  
                                    <span *ngIf="BranchData.appdt_submittedon != '' || BranchData.appdt_submittedon != undefined">{{BranchData.appdt_submittedon  | date: 'dd-MM-yyyy'  }}</span>  
                                
                                </div>
                               
                             </mat-cell>
                        </ng-container>
                        <!-- 15 -->
                        <ng-container matColumnDef="lastUpdated">
                            <mat-header-cell fxFlex="263px" mat-header-cell *matHeaderCellDef mat-sort-header>
                                {{'branch.lastupdat' | translate}} </mat-header-cell>
                            <mat-cell data-label="lastUpdated" fxFlex="263px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder">  
                                    <span *ngIf="BranchData.appdt_updatedon == '' || BranchData.appdt_updatedon == undefined">-</span> 
                                
                                    <span *ngIf="BranchData.appdt_updatedon != '' || BranchData.appdt_updatedon != undefined">{{BranchData.appdt_updatedon | date: 'dd-MM-yyyy'}}</span></div>
                               
                            </mat-cell>
                        </ng-container>
                        <!-- 16 -->
                       
                        <ng-container matColumnDef="action" stickyEnd>
                            <mat-header-cell fxFlex="100px" mat-header-cell *matHeaderCellDef>{{'branch.action'
                                | translate}}
                            </mat-header-cell>
                            <mat-cell data-label="action" fxFlex="100px" *matCellDef="let BranchData">
                                <div *ngIf="tblplaceholder" class="w-100"><div class="tabledataloader"></div></div>
                                <div *ngIf="!tblplaceholder">     <div class="manageoptions">
                                    <button class="menubutton" mat-icon-button [matMenuTriggerFor]="actionmenu"
                                        aria-label="Example icon-button with a menu">
                                        <mat-icon class="moremenucolor">more_horiz</mat-icon>
                                    </button>
                                    <mat-menu #actionmenu="matMenu" class="master-menu whentootltipadded table_menu">
                                        <button *ngIf="( BranchData.applicationstatus == '2'  || BranchData.applicationstatus == '4' || BranchData.applicationstatus == '20') && accessRights.accessdesktop && BranchData.appdt_status != 19 && this.approvalaccess"
                                        type="button" mat-menu-item (click)='goToDesktopview(BranchData)'><span>{{'table.btndeskreview' |
                                                translate}} </span></button>


                                                <button
                                                type="button" mat-menu-item  *ngIf="this.readaccess"  (click)='viewcourse(BranchData , 1)'><span>{{'table.viewcoursecert' |
                                                        translate}} </span></button>


                                        <button *ngIf="BranchData.applicationstatus == '5' && this.readaccess" (click)="viewinvoice(BranchData.applicationdtlstmp_pk)"   type="button" mat-menu-item><span>{{'table.viewinvo' |
                                                translate}}</span></button>

                                        <button (click)="paymentdetails(BranchData.applicationdtlstmp_pk)" *ngIf="(BranchData.applicationstatus == '6' && BranchData.appdt_status != 19) && accessRights.accesspayement && this.approvalaccess"  type="button" mat-menu-item><span>{{'table.confpaym' |
                                                translate}}</span></button>

                                        <!-- <button *ngIf="( BranchData.applicationstatus == '7' )"  type="button" mat-menu-item><span>{{'table.viewpaymdetai' |
                                                translate}}</span></button> -->

                                                <!-- <button *ngIf="(BranchData.applicationstatus == '7')" type="button" mat-menu-item><span>{{'table.schesiteaudi' |
                                                    translate}}</span></button> -->
<!-- 
                                            <button *ngIf="( BranchData.applicationstatus == '7' )" type="button" mat-menu-item><span>{{'table.viewconfirmsite' |
                                                    translate}}</span></button> -->

                                            <button *ngIf="( BranchData.applicationstatus == '9' )&& accessRights.accessauditor && BranchData.appdt_status != 19 && this.approvalaccess" (click)="siteauditapproval(BranchData.applicationdtlstmp_pk)" type="button" mat-menu-item><span>{{'table.siteaudi' |
                                                        translate}}</span></button>

                                            <!-- <button *ngIf="( BranchData.applicationstatus == '7' )" mat-menu-item><span>{{'table.approsite' |
                                                translate}}</span></button> -->
                                                <button *ngIf="( BranchData.applicationstatus == '10' )&& accessRights.accessqualitymanager &&   (BranchData.applictonmovtype != 2 ) && BranchData.appdt_status != 19 && this.approvalaccess" (click)="siteaudit(BranchData.applicationdtlstmp_pk) " mat-menu-item><span>{{'table.approsite' |
                                                    translate}}</span></button>
                                                <button *ngIf="( BranchData.applicationstatus == '10' )&& accessRights.accessqualitymanager && ( BranchData.applictonmovtype == 2) && BranchData.appdt_status != 19 && this.approvalaccess"
                                                type="button" mat-menu-item (click)='viewcourse(BranchData , 2)'><span>{{'Approve Certification Form' | translate }}
                                                </span></button>  
                                            <!-- <button *ngIf="( BranchData.applicationstatus == '11' ) && accessRights.accessAuthority &&  ( BranchData.applytype == '1' ||  BranchData.applytype == '2' || ( BranchData.applytype == '3' && BranchData.appsit_iscarddetails == 1) ) " (click)="siteaudit(BranchData.applicationdtlstmp_pk) "  mat-menu-item><span>{{'table.approsite' |
                                                translate}}</span></button>
                                            <button *ngIf="( BranchData.applicationstatus == '11' ) && accessRights.accessAuthority && ( BranchData.applytype == '3' && BranchData.appsit_iscarddetails == 2)" 
                                            type="button"  mat-menu-item (click)='viewcourse(BranchData , 2)'><span>{{'table.approsite' |
                                                translate}}</span></button> -->
                                                <button *ngIf="( BranchData.applicationstatus == '11' ) && accessRights.accessAuthority &&  (BranchData.applictonmovtype != 2 ) && BranchData.appdt_status != 19 && this.approvalaccess" (click)="siteaudit(BranchData.applicationdtlstmp_pk) "  mat-menu-item><span>{{'table.approsite' |
                                                    translate}}</span></button>
                                                <button *ngIf="( BranchData.applicationstatus == '11' ) && accessRights.accessAuthority && ( BranchData.applictonmovtype == 2) && BranchData.appdt_status != 19 && this.approvalaccess" 
                                                type="button"  mat-menu-item (click)='viewcourse(BranchData , 2)'><span>{{'Approve Certification Form' | translate }}</span></button>
                                            <!-- <button *ngIf="( BranchData.applicationstatus == '12' )&& accessRights.accessceo" (click)="siteaudit(BranchData.applicationdtlstmp_pk) " mat-menu-item><span>{{'table.submforceo' |
                                                translate}}</span></button> -->
                                            <button *ngIf="( BranchData.applicationstatus == '13' )&& accessRights.accessauditor && BranchData.appdt_status != 19 && this.approvalaccess" (click)="siteaudit(BranchData.applicationdtlstmp_pk) " mat-menu-item><span>{{'table.updasite' |
                                                translate}}</span></button>
                                            <button *ngIf="( BranchData.applicationstatus == '14' ) && accessRights.accessqualitymanager && BranchData.appdt_status != 19 && this.approvalaccess && BranchData.applictonmovtype != 2" (click)="siteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.approsite' |
                                                translate}}</span></button>
                                            <button *ngIf="( BranchData.applicationstatus == '14' ) && accessRights.accessqualitymanager && BranchData.appdt_status != 19 && this.approvalaccess && BranchData.applictonmovtype == 2" (click)='viewcourse(BranchData , 2)' mat-menu-item><span>{{'Approve Certification Form' | translate }}</span></button>
                                            <button *ngIf="( BranchData.applicationstatus == '15' )&& accessRights.accessAuthority && BranchData.appdt_status != 19  && this.approvalaccess && BranchData.applictonmovtype != 2" (click)="siteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.approsite' |
                                                translate}}</span></button>
                                            <button *ngIf="( BranchData.applicationstatus == '15' )&& accessRights.accessAuthority && BranchData.appdt_status != 19  && this.approvalaccess && BranchData.applictonmovtype == 2" (click)='viewcourse(BranchData , 2)' mat-menu-item><span>{{'Approve Certification Form' | translate }}</span></button>
                                            <!-- <button *ngIf="( BranchData.applicationstatus == '16' ) && accessRights.accessceo" (click)="siteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.resubmforceoapp' |
                                                translate}}</span></button> -->
                                            
                                            <button *ngIf="( BranchData.applicationstatus == '10' ) && isUserViewAcccess && this.approvalaccess" (click)="viewsiteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.viewsiteauditreport' |
                                                translate}}</span></button>
                                            <button *ngIf="( BranchData.applicationstatus == '11' ) && isUserViewAcccess && this.approvalaccess" (click)="viewsiteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.viewsiteauditreport' |
                                                translate}}</span></button>
                                            <button *ngIf="( BranchData.applicationstatus == '13' ) && isUserViewAcccess && this.approvalaccess" (click)="viewsiteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.viewsiteauditreport' |
                                                translate}}</span></button>
                                            <button *ngIf="( BranchData.applicationstatus == '14' ) && isUserViewAcccess && this.approvalaccess" (click)="viewsiteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.viewsiteauditreport' |
                                                translate}}</span></button>
                                            <button *ngIf="( BranchData.applicationstatus == '15' ) && isUserViewAcccess && this.approvalaccess" (click)="viewsiteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.viewsiteauditreport' |
                                                translate}}</span></button> 
                                            <button *ngIf="( BranchData.applicationstatus == '17' ) && isUserViewAcccess && this.approvalaccess" (click)="viewsiteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.viewsiteauditreport' |
                                                    translate}}</span></button> 
                                            <button *ngIf="( BranchData.applicationstatus == '19' ) && isUserViewAcccess && this.approvalaccess" (click)="viewsiteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.viewsiteauditreport' |
                                                        translate}}</span></button> 
                                            <!-- <button *ngIf="(BranchData.applicationstatus == '17') && isUserViewAcccess" type="button" (click)="siteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.suspend' |
                                                translate}}</span></button>
                                            <button *ngIf="(BranchData.applicationstatus == '19') && isUserViewAcccess" (click)="siteaudit(BranchData.applicationdtlstmp_pk)" mat-menu-item><span>{{'table.approve' |
                                                translate}}</span></button> -->
                        
                                            <button *ngIf="( BranchData.applicationstatus == '17' ) &&   ((this.roleaccess  &&  this.updateaccess)  || this.accesssuperadmin)" (click)="suspend(BranchData)" mat-menu-item><span>{{'Suspend' | translate}}</span></button> 
                                            <button *ngIf="( BranchData.applicationstatus == '19' ) &&  ((this.roleaccess  &&  this.updateaccess)  || this.accesssuperadmin)" (click)="activate(BranchData)" mat-menu-item><span>{{'Activate' | translate}}</span></button>           
                                            <button (click)="opencertificate( BranchData.appdt_certificatepath )" *ngIf="BranchData.appdt_certificatepath && this.readaccess" type="button" mat-menu-item><span>
                                              {{'table.viewcert' |
                                                translate}}</span></button>
                                            <!-- <button  [routerLink]="['/centrecertification/auditlog',security.encrypt(BranchData.applicationdtlstmp_pk) , security.encrypt(2)]" type="button" mat-menu-item><span>{{'table.audilog' |
                                                translate}}</span></button> -->
                                    </mat-menu>
                                </div></div>
                           
                            </mat-cell>
                        </ng-container>
                       
                        <!-- 1 -->
                        <ng-container matColumnDef="row-first">
                            <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'table.search' |translate}}</mat-label>
                                    <input matInput [formControl]="appl_form_filter" (keyup)="applyFilter($event.target.value,'appl_form_filter')">
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 2 -->
                        <ng-container matColumnDef="row-second">
                            <mat-header-cell fxFlex="300px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'table.search' |
                                        translate}}</mat-label>
                                        <input matInput [formControl]="trainingprovide_filter" (keyup)="applyFilter($event.target.value,'trainingprovide_filter')">
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 3 -->
                        <ng-container matColumnDef="row-three">
                            <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'table.sele' |translate}}</mat-label>
                                    <mat-select [formControl]="officetype_filter" multiple (selectionChange)="applyFilter($event.value,'officetype_filter')">
                                            <mat-option value="1">{{'table.main' |translate}}</mat-option>
                                            <mat-option value="2">{{'table.branch' |translate}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 4 -->
                        <ng-container matColumnDef="row-four">
                            <mat-header-cell fxFlex="270px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'table.search' |
                                        translate}}</mat-label>
                                        <input matInput [formControl]="branch_filter" (keyup)="applyFilter($event.target.value,'branch_filter')">
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 5 -->
                        <ng-container matColumnDef="row-five">
                            <mat-header-cell fxFlex="170px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                             
                            </mat-header-cell>
                        </ng-container>
                        <!-- 6 -->
                        <ng-container matColumnDef="row-six">
                            <mat-header-cell fxFlex="190px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                <mat-label>{{'table.sele' |
                                    translate}}</mat-label>
                                <mat-select [formControl]="cour_type_filter" multiple (selectionChange)="applyFilter($event.value,'cour_type_filter')">
                                    <mat-option value="2">{{'table.stand' |translate}}</mat-option>
                                    <mat-option value="3">{{'table.cust' |translate}}</mat-option>
                                </mat-select>
                            </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 7 -->
                        <ng-container matColumnDef="row-seven">
                            <mat-header-cell fxFlex="280px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'table.search' |
                                        translate}}</mat-label>
                                    <!-- <mat-select [formControl]="course_titles_filter">
                                        <mat-option value="1">1</mat-option>
                                    </mat-select> -->
                                    <input matInput [formControl]="course_titles_filter" (keyup)="applyFilter($event.target.value,'course_titles_filter')">
                                    
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 8 -->
                        <ng-container matColumnDef="row-eight">
                            <mat-header-cell fxFlex="230px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'table.search' |
                                        translate}}</mat-label>
                                    <!-- <mat-select [formControl]="course_cat_filter">
                                        <mat-option value="1">1</mat-option>
                                    </mat-select> -->
                                    <input matInput [formControl]="course_cat_filter" (keyup)="applyFilter($event.target.value,'course_cat_filter')">

                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 9 -->
                        <ng-container matColumnDef="row-nine">
                            <mat-header-cell fxFlex="230px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'table.search' |
                                        translate}}</mat-label>
                                    <!-- <mat-select [formControl]="cour_subcate_filter">
                                        <mat-option value="1">1</mat-option>
                                    </mat-select> -->

                                    <input matInput [formControl]="cour_subcate_filter" (keyup)="applyFilter($event.target.value,'cour_subcate_filter')">
                                    
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 10 -->
                        <ng-container matColumnDef="row-ten">
                            <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef
                                style="text-align:center ">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'table.sele' |
                                        translate}}</mat-label>
                                    <mat-select [formControl]="appl_type_filter" multiple (selectionChange)="applyFilter($event.value,'appl_type_filter')">
                                        <mat-option value="1">{{'table.initial' |translate}}</mat-option>
                                        <mat-option value="2">{{'table.renewal' |translate}}</mat-option>
                                        <mat-option value="3">{{'table.update' |translate}}</mat-option>
                                       
                                    </mat-select>
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 11 -->
                        <ng-container matColumnDef="row-eleven">
                            <mat-header-cell fxFlex="250px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'table.sele' |
                                        translate}}</mat-label>
                                    <mat-select [formControl]="appl_status_filter" multiple  panelClass="select_with_search" (selectionChange)="applyFilter($event.value,'appl_status_filter')">

                                        <div class="option-listing"> 
                                             <!-- <mat-option value="1">{{'table.yettosubmit' |translate}}</mat-option> -->
                                       

                                        <mat-option value="2,4">Desktop review Pending</mat-option>
                                        <mat-option value="3">{{'Missing Files' | translate}}</mat-option>
                                        <!-- <mat-option value="4">{{'table.resubmdesk' |translate}}</mat-option> -->
                                        <mat-option value="5">{{'Payment Pending' | translate}}</mat-option>
                                        <mat-option value="6">{{'Confirm Payment' | translate}}</mat-option>
                                        <mat-option value="7">{{'Yet to Schedule for Site Audit' | translate}}</mat-option>
                                        <mat-option value="8">{{'Audit Date Selection (Training Provider)' | translate}}</mat-option>
                                        <mat-option value="9">{{'table.readforaudit' |translate}}</mat-option>
                                        <mat-option value="10,14">{{'Quality Manager Approval Pending' | translate}}</mat-option>
                                        <mat-option value="11,15">{{'Authority Approval Pending' | translate}}</mat-option>
                                        <!-- <mat-option value="12" >{{'table.submforceo' |translate}}</mat-option> -->
                                        <mat-option value="13">{{'Site Audit Report Declined' | translate}}</mat-option>
                                        <!-- <mat-option value="14">{{'table.resubmforqual' |translate}}</mat-option> -->
                                        <!-- <mat-option value="15">{{'table.resubmforauth' |translate}}</mat-option> -->
                                        <!-- <mat-option value="16">{{'table.resubmforceoapp' |translate}}</mat-option> -->
                                        <mat-option value="17">{{'table.approved' |translate}}</mat-option>
                                        <mat-option value="18">Declined by Finance Team</mat-option>
                                        <mat-option value="19">{{'Suspended' | translate}}</mat-option>
                                        <mat-option value="20">Certification Form Declined</mat-option>
                                        </div>
                                    </mat-select>
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 12 -->
                        <ng-container matColumnDef="row-twelve">
                            <mat-header-cell fxFlex="250px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'table.sele' |
                                        translate}}</mat-label>
                                    <mat-select [formControl]="cert_status_filter" (selectionChange)="applyFilter($event.value,'cert_status_filter')" multiple>
                                        <mat-option value='1'>{{'table.new' |translate}}</mat-option>
                                        <mat-option value='2'>{{'table.acti' |translate}}</mat-option>
                                        <mat-option value='3'>{{'table.expi' |translate}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>

                        <!-- new -->
                        <ng-container matColumnDef="row-new">
                            <mat-header-cell fxFlex="263px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <!-- <mat-label>{{'table.search' |translate}}</mat-label> -->
                                    <div class="drpicker" id="regapp">
                                        <input id="login_session" [formControl]="site_audit_filter"  (ngModelChange)="applyFilter($event.value,'site_audit_filter')" #pickers matInput type="text" autocomplete="off" ngxDaterangepickerMd  [showCustomRangeLabel]="true"  [alwaysShowCalendars]="true" [ranges]="ranges"  [locale]="locale" [linkedCalendars]="true"  [showClearButton]="true"  [maxDate]='selected2'  readonly class="form-control" />
                                        <div class="closeanddateicon">
                                            <mat-datepicker-toggle matSuffix >
                                            </mat-datepicker-toggle>
                                        </div>
                                    </div>
                                    <!-- <input matInput [formControl]="date_expiry_filter" (dateChange)="applydateofeoxdateFilter($event.value)" (click)="dateofeox.open()"
                                        [matDatepicker]="dateofeox">
                                    <mat-datepicker-toggle matSuffix [for]="dateofeox"></mat-datepicker-toggle>
                                    <mat-datepicker #dateofeox></mat-datepicker> -->
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 13 -->


                        <ng-container matColumnDef="row-thrideen">
                            <mat-header-cell fxFlex="263px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <!-- <mat-label>{{'table.search' |translate}}</mat-label> -->
                                    <div class="drpicker" id="regapp">
                                        <input id="login_session" [formControl]="date_expiry_filter" (ngModelChange)="applyFilter($event.value,'date_expiry_filter')"  #pickers matInput type="text" autocomplete="off" ngxDaterangepickerMd  [showCustomRangeLabel]="true"  [alwaysShowCalendars]="true" [ranges]="ranges"  [locale]="locale" [linkedCalendars]="true"  [showClearButton]="true"  [maxDate]='selected2'  readonly class="form-control" />
                                        <div class="closeanddateicon">
                                            <mat-datepicker-toggle matSuffix >
                                            </mat-datepicker-toggle>
                                        </div>
                                    </div>
                                    <!-- <input matInput [formControl]="date_expiry_filter" (dateChange)="applydateofeoxdateFilter($event.value)" (click)="dateofeox.open()"
                                        [matDatepicker]="dateofeox">
                                    <mat-datepicker-toggle matSuffix [for]="dateofeox"></mat-datepicker-toggle>
                                    <mat-datepicker #dateofeox></mat-datepicker> -->
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>




                        <ng-container matColumnDef="row-fourteen">
                            <mat-header-cell fxFlex="263px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <!-- <mat-label>{{'table.search' |translate}}</mat-label> -->
                                    <div class="drpicker" id="regapp">
                                        <input id="login_session" [formControl]="addedon_branch_filter"  (ngModelChange)="applyFilter($event.value,'addedon_branch_filter')"  #pickers matInput type="text" autocomplete="off" ngxDaterangepickerMd  [showCustomRangeLabel]="true"  [alwaysShowCalendars]="true" [ranges]="ranges"  [locale]="locale" [linkedCalendars]="true"  [showClearButton]="true"  [maxDate]='selected2'  readonly class="form-control" />
                                        <div class="closeanddateicon">
                                            <mat-datepicker-toggle matSuffix >
                                            </mat-datepicker-toggle>
                                        </div>
                                    </div>
                                    <!-- <input matInput [formControl]="addedon_branch_filter" (dateChange)="applyaddondateFilter($event.value)" (click)="addonbranch.open()"
                                        [matDatepicker]="addonbranch">
                                    <mat-datepicker-toggle matSuffix [for]="addonbranch"></mat-datepicker-toggle>
                                    <mat-datepicker #addonbranch></mat-datepicker> -->
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 14 -->
                        <ng-container matColumnDef="row-fifteen">
                            <mat-header-cell fxFlex="263px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <!-- <mat-label>{{'table.search' |translate}}</mat-label> -->
                                    <div class="drpicker" id="regapp">
                                        <input id="login_session" [formControl]="lastUpdated_branch_filter"  (ngModelChange)="applyFilter($event.value,'lastUpdated_branch_filter')"  #pickers matInput type="text" autocomplete="off" ngxDaterangepickerMd  [showCustomRangeLabel]="true"  [alwaysShowCalendars]="true" [ranges]="ranges"  [locale]="locale" [linkedCalendars]="true"  [showClearButton]="true"  [maxDate]='selected2'  readonly class="form-control" />
                                        <div class="closeanddateicon">
                                            <mat-datepicker-toggle matSuffix >
                                            </mat-datepicker-toggle>
                                        </div>
                                    </div>
                                    <!-- <input matInput [formControl]="lastUpdated_branch_filter" (dateChange)="applylastupdateFilter($event.value)" (click)="lastDatebran.open()"
                                        [matDatepicker]="lastDatebran">
                                    <mat-datepicker-toggle matSuffix [for]="lastDatebran"></mat-datepicker-toggle>
                                    <mat-datepicker #lastDatebran></mat-datepicker> -->
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                         <!-- column 15 -->
                         <ng-container matColumnDef="row-sixteen" stickyEnd>
                            <mat-header-cell fxFlex="100px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">

                                <i class="fa fa-refresh m-l-15 cursorview" (click)="clearFilter();filtersts=false;"
                                    aria-hidden="true" matTooltip="{{'table.refresh'|translate}}"></i>
                            </mat-header-cell>
                        </ng-container>

                        <mat-header-row id="headerrowcells" *matHeaderRowDef="BranchListData;">
                        </mat-header-row>
                        <mat-header-row id="searchrow"
                            *matHeaderRowDef="['row-first' , 'row-second' , 'row-three' , 'row-four' , 'row-five' , 'row-six' , 'row-seven' , 'row-eight' , 'row-nine' , 'row-ten' , 'row-eleven' , 'row-twelve' , 'row-new' ,'row-thrideen' ,'row-fourteen','row-fifteen','row-sixteen']">
                        </mat-header-row>
                        <mat-row mat-row *matRowDef="let row; columns: BranchListData;"></mat-row>
                        <ng-container matColumnDef="disclaimer">
                            <td mat-footer-cell *matFooterCellDef colspan="11">
                                <div [ngClass]="tblplaceholder == true ? ' ' : 'nofound'"  fxLayoutAlign="center" fxFlex.gt-sm="100"
                                fxFlex="100">
                                <div fxFlex="100" fxLayout="column" fxLayoutAlign="center center">
                                    <div fxLayout="row wrap" fxLayoutAlign="center center"  *ngIf="tblplaceholder"
                                    class="NorecordLoader"></div>
                                    <img src="assets/images/opalimages/norecord.svg" alt="norecord" *ngIf="!tblplaceholder">
                                    <p class="m-t-10 txt-gry3 fs-16" *ngIf="!tblplaceholder">{{'common.noreco' | translate}} 
                                    </p>
                                </div>
                            </div>
                        <!-- </div> -->
                            </td>
                            <!-- <td mat-footer-cell *matFooterCellDef colspan="11">
                               
                                    <div class="nofound" fxLayoutAlign="center" fxFlex.gt-sm="100" fxFlex="100" *ngIf="(TrainingBranchData?.length == 0 && !tblplaceholder) || (TrainingBranchData?.filteredData.length==0)">
                                                <div fxFlex="100" fxLayout="column" fxLayoutAlign="center center">
                                                    <img src="assets/images/opalimages/norecord.svg" alt="norecord">
                                                    <p class="m-t-10 txt-gry3 fs-16">{{'common.noreco' | translate}}</p>
                                        </div>
                                    </div>
                            </td> -->
                        </ng-container>
                        <ng-container>
                            <mat-footer-row [class.stickyclass]="(resultsLength1 != 0) ? 'none' : 'block'" [style.display]="(resultsLength1 != 0) ? 'none' : 'block' " 
                                *matFooterRowDef="['disclaimer']" style="justify-content: center">
                            </mat-footer-row>
                        </ng-container>
                    </mat-table>
                </div>
                <div fxLayout="row" fxLayoutAlign="end" class="m-b-15 m-t-30">
                    <div fxFlex.gt-sm="100" fxFlex="100" class="footerpaginator">
                        <mat-paginator class="p-r-10" ngClass.xs="block" ngClass.sm="block"
                            class="masterPage masterbottom " showFirstLastButtons [pageSize]="paginator?.pageSize"
                            (page)="syncPrimaryPaginator($event);" [pageIndex]="paginator?.pageIndex"
                            [length]="paginator?.length" [pageSizeOptions]="paginator?.pageSizeOptions">
                        </mat-paginator>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>                  
<app-responseloader *ngIf="disableSubmitButton"></app-responseloader>

