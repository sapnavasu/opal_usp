<div id="changestaff_container" #pageScroll>
    <div class="changestaff" fxLayout="row wrap" fxLayoutAlign="center">
        <div fxFlex="90">

            <div class="knowledgegrid m-t-10 m-b-20">
                <div class="details pd-15">
                    <p class="text-gray m-0 fs-15">{{'changestaff.audi' | translate}}</p>
                    <div class="d-flex head">
                        <h2 class="headcolor fs-18 m-0">{{oum_firstname}}</h2>
                    </div>
                    <p class="text-gray m-0 m-t-5 fs-15"  *ngIf="asd_projectmst_fk =='1'">{{'changestaff.prvdrname' | translate}}:
                        <span class="text-default"> {{omrm_tpname_en}}</span>
                    </p>
                    <p class="text-gray m-0 m-t-5 fs-15" *ngIf="asd_projectmst_fk =='4'">Centre Name:
                            <span class="text-default"> {{omrm_branch_en}}</span>
                        </p>
                    <div class="d-flex fs-13 m-t-15 m-b-10" fxLayout="row wrap">
                        <p class="application-detais m-r-10 text-gray m-0">{{'changestaff.date' | translate}}:
                            <span class="text-default"> {{asd_date}}</span>
                        </p>
                        <p class="application-detais m-r-10 text-gray m-0">{{'changestaff.status' | translate}}:
                            <span class="Booked">{{'changestaff.booked' | translate}} </span>
                        </p>
                        <p class="application-detais m-r-10 text-gray m-0">{{'changestaff.centre' | translate}}:
                            <span class="text-default"> {{center_name}}<a class="viewbtn m-l-5"
                                    (click)='viewapplication(appasdt_applicationdtlstmp_fk)'>{{'changestaff.view' |
                                    translate}}</a></span>
                        </p>
                       
                    </div>
                </div>
            </div>

            <h2 class="fs-18 m-0 m-t-30">{{'changestaff.assignas' | translate}} Auditor</h2>
            <form class="example-form" [formGroup]="changestaffform" (ngSubmit)="changestaff()">
                <div fxLayout="row wrap" class="p-t-15" fxLayoutAlign="space-between center">
                    <div fxFlex.gt-sm="50" fxFlex="100" class="paddingspacing" ngClass.sm="m-0">
                        <!-- <mat-form-field class="example-full-width" appearance="outline">
                                    <mat-label>{{'changestaff.selectstf' | translate}}</mat-label>
                                    <mat-select [errorStateMatcher]="matcher" required
                                    formControlName="staffname"
                                    (closed)="searchinststate = ''" 
                                    panelClass="select_with_search"
                                    *ngIf="(staffArray | filter : searchinststate) as inst_stateresult"
                                    [disableOptionCentering]="true"
                                   
                                    >

                                    <div class="searchinmultiselect">
                                        <mat-icon class="bgi bgi-search">search</mat-icon>
                                        <input (keydown.enter)="$event.preventDefault()" appAlphanumsymb matInput
                                        class="searchselect" type="Search" placeholder="{{'course.sear' | translate}} "
                                        (keydown)="$event.stopPropagation();" [(ngModel)]="searchinststate"
                                        [ngModelOptions]="{standalone: true}" autocomplete="off">
                                        <mat-icon (click)="searchinststate = ''" class="reseticon" matSuffix
                                        *ngIf="searchinststate !='' && searchinststate !=null">clear</mat-icon>
                                    </div>

                                    <div class="option-listing countryselectwithimage">
                                        <mat-option *ngFor="let staf of staffArray | filter : searchinststate"
                                            [[value]="staf.opalusermst_pk">
                                            {{staf.oum_firstname}}
                                        </mat-option>
                                        <div *ngIf="inst_stateresult.length == 0">{{'maincenter.nofoun' | translate}}</div>
                                    </div>
                            </mat-select>
                                    
                                    <mat-error *ngIf="changestfform.staffname.errors?.required">{{'changestaff.selctsatsnam' | translate}}</mat-error>
                            </mat-form-field> -->
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>{{'changestaff.selectstf' | translate}}</mat-label>
                            <mat-select (click)="searchinststate = ''" [errorStateMatcher]="matcher" *ngIf="(staffArray | filter : searchinststate) as inst_stateresult" required formControlName="staffname" panelClass="select_with_search">
                                <div class="searchinmultiselect">
                                    <mat-icon>search</mat-icon>
                                    <input (keydown.enter)="$event.preventDefault()" appAlphanumsymb matInput
                                        class="searchselect" type="Search" placeholder="{{'course.sear' | translate}} "
                                        (keydown)="$event.stopPropagation();" [(ngModel)]="searchinststate"
                                        [ngModelOptions]="{standalone: true}" autocomplete="off">
                                    <mat-icon (click)="searchinststate = ''" class="reseticon" matSuffix
                                        *ngIf="searchinststate !='' && searchinststate !=null">clear</mat-icon>
                                </div>
                                <div class="option-listing countryselectwithimage">
                                    <mat-option *ngFor="let staf of staffArray | filter : searchinststate" [value]="staf.opalusermst_pk">
                                        {{staf.oum_firstname}}
                                    </mat-option>
                                    <div *ngIf="inst_stateresult.length == 0">{{'changestaff.nofoun' | translate}}</div>
                                </div>
                            </mat-select>
                            <mat-error *ngIf="changestfform.staffname.errors?.required">{{'changestaff.selctsatsnam' |
                                translate}}</mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div fxLayout="row wrap" class="m-t-30" fxLayoutAlign="end">
                    <div fxFlex.gt-sm="100" fxFlex="100" fxLayoutAlign="flex-end center">
                        <button mat-raised-button type="button" color="secondary"
                            class="filterbtn m-r-10 height-45"  (click)='cancel()'>{{'changestaff.cancel' | translate}}</button>
                        <button mat-raised-button type="submit" color="primary"
                            class="addbtn height-45">{{'changestaff.submt' | translate}}</button>
                    </div>
                </div>
            </form>

        </div>
    </div>
</div>
<app-responseloader *ngIf="disableSubmitButton"></app-responseloader>