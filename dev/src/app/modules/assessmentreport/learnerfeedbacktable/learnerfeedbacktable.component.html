<div id="learnerfeedbacklist" fxLayoutAlign="center start">
    <app-responseloader *ngIf="fullPageLoaders"></app-responseloader>
    <div class="vehicleinspection" fxFlex="100" fxFlex.gt-sm="100">
        <div class="paginationwithfilter masterPageTop ">
            <mat-paginator class="masterPage masterPageTop" #paginator [length]="resultsLength" [pageSize]="page" 
                    [pageSizeOptions]="[5, 10, 25, 100]" (page)="syncPrimaryPaginator($event);" ></mat-paginator>
            <div fxLayout="row wrap" fxLayoutAlign="end">
                <div fxFlex.gt-sm="100" fxFlex="100">
                    
                    <button mat-raised-button type="button" color="primary" (click)="clickEvent();"
                        class="filter">{{filtername}}<i class="opalicon opal-filter fs-15 m-l-7"
                            aria-hidden="true"></i></button>
                </div>
            </div>
        </div>
        <div fxLayout="row wrap">
            <div fxFlex.gt-sm="100" fxFlex="100" class="tabforclientelenew">
                <div #TABLE class="awaredtable">
                    <mat-table id="ExampleMaterialTable" #table class="scrolldata" [dataSource]="dataSource" matSortActive="LearnerFdbkHdr_PK"
                    matSortDirection="desc" multiTemplateDataRows matSort matSortDisableClear>
                         <!-- new 1 -->
                         <ng-container matColumnDef="sir_idnumber">
                            <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'learnerfdbck.cvlno' | translate}}</mat-header-cell>
                            <mat-cell data-label="sir_idnumber" fxFlex="200px" *matCellDef="let element">
                                <div *ngIf="tblplaceholder" class="w-100">
                                    <div class="tabledataloader"></div>
                                </div>
                                <div *ngIf="!tblplaceholder">{{element.idnumber}}
                                </div>
                            </mat-cell>
                        </ng-container>
                        <!-- new 3 -->
                         <ng-container matColumnDef="sir_name_en">
                            <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'learnerfdbck.lrnrname' | translate}}</mat-header-cell>
                            <mat-cell data-label="sir_name_en" fxFlex="200px" *matCellDef="let element">
                                <div *ngIf="tblplaceholder" class="w-100">
                                    <div class="tabledataloader"></div>
                                </div>
                                <div *ngIf="!tblplaceholder">{{ifarabic == true ? element.learnername_ar != '' ? element.learnername_ar : element.learnername_en  : element.learnername_en}}
                                </div>
                            </mat-cell>
                        </ng-container>
                        <!-- new 2 -->
                        <ng-container matColumnDef="bmd_Batchno">
                            <mat-header-cell fxFlex="250px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'learnerfdbck.batchnno' | translate}}</mat-header-cell>
                            <mat-cell data-label="bmd_Batchno" fxFlex="250px" *matCellDef="let element">
                                <div *ngIf="tblplaceholder" class="w-100">
                                    <div class="tabledataloader"></div>
                                </div>
                                <div *ngIf="!tblplaceholder">{{element.batchnumb}}
                                </div>
                            </mat-cell>
                        </ng-container>
                        <!-- 1 -->
                        <ng-container matColumnDef="Tomrm_tpname_en">
                            <mat-header-cell fxFlex="280px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'learnerfdbck.traingprvdr' | translate}}</mat-header-cell>
                            <mat-cell data-label="learnername" fxFlex="280px" *matCellDef="let element">
                                <div *ngIf="tblplaceholder" class="w-100">
                                    <div class="tabledataloader"></div>
                                </div>
                                <div *ngIf="!tblplaceholder">{{ifarabic == true ? element.trainerprovi_ar != '' ? element.trainerprovi_ar : element.trainerprovi_en : element.trainerprovi_en}}
                                </div>
                            </mat-cell>
                        </ng-container>
                        <!-- 2 -->
                        <ng-container matColumnDef="Aomrm_tpname_en">
                            <mat-header-cell fxFlex="280px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'learnerfdbck.assmntcntre' | translate}}</mat-header-cell>
                            <mat-cell data-label="courtype" fxFlex="280px" *matCellDef="let element">
                                <div *ngIf="tblplaceholder" class="w-100">
                                    <div class="tabledataloader"></div>
                                </div>
                                <div *ngIf="!tblplaceholder">{{ifarabic == true ? element.assessercentre_ar  != '' ? element.assessercentre_ar : element.assessercentre_en : element.assessercentre_en}}
                                </div>
                            </mat-cell>
                        </ng-container>
                        <!-- 3 -->
                        <ng-container matColumnDef="feedback">
                            <mat-header-cell fxFlex="280px" mat-header-cell *matHeaderCellDef
                                mat-sort-header>{{'learnerfdbck.feedbck' | translate}}</mat-header-cell>
                            <mat-cell data-label="category" fxFlex="280px" *matCellDef="let element">
                                <div *ngIf="tblplaceholder" class="w-100">
                                    <div class="tabledataloader"></div>
                                </div>
                                <div *ngIf="!tblplaceholder">{{element.feedbackcomments}}
                                </div>
                            </mat-cell>
                        </ng-container>
                       
                        <ng-container matColumnDef="action" stickyEnd>
                            <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef>{{'learnerfdbck.action'
                                | translate}}
                            </mat-header-cell>
                            <mat-cell data-label="action" fxFlex="200px" *matCellDef="let element">
                                <div *ngIf="tblplaceholder" class="w-100">
                                    <div class="tabledataloader"></div>
                                </div>
                                <div *ngIf="!tblplaceholder">
                                    <a target="_blank" [routerLink]="['/assessmentreport/learnerfeedbackview',element.lid]">{{'learnerfdbck.view' | translate}}</a>
                                </div>
                            </mat-cell>
                        </ng-container>
                        <!-- new 1 -->
                        <ng-container matColumnDef="row-one">
                            <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'learnerfdbck.srch' |translate}}</mat-label>
                                    <input matInput [formControl]="civilnumber" >
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- new 3 -->
                        <ng-container matColumnDef="row-two">
                            <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'learnerfdbck.srch' |translate}}</mat-label>
                                    <input matInput [formControl]="learnername" >
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- new 2 -->
                        <ng-container matColumnDef="row-three">
                            <mat-header-cell fxFlex="250px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'learnerfdbck.srch' |translate}}</mat-label>
                                    <input matInput [formControl]="batchnumber">
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 1 -->
                        <ng-container matColumnDef="row-four">
                            <mat-header-cell fxFlex="280px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'learnerfdbck.srch' |translate}}</mat-label>
                                    <input matInput [formControl]="trainingprovider" >
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        <!-- 2 -->
                        <ng-container matColumnDef="row-five">
                            <mat-header-cell fxFlex="280px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">
                                <mat-form-field class="filter" appearance="outline">
                                    <mat-label>{{'learnerfdbck.srch' |translate}}</mat-label>
                                    <input matInput [formControl]="assessmentcentre" >
                                </mat-form-field>
                            </mat-header-cell>
                        </ng-container>
                        
                        <ng-container matColumnDef="row-six">
                            <mat-header-cell fxFlex="280px" class="serachrow" *matHeaderCellDef
                                style="text-align:center">

                            </mat-header-cell>
                        </ng-container>
                        <!-- 4 -->
                        
                        <ng-container matColumnDef="row-seven" stickyEnd>
                            <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef
                            style="text-align:center">
                            <i class="fa fa-refresh m-l-15 cursorview" (click)="clearFilter();filtersts=false;"
                                aria-hidden="true" matTooltip="{{'table.refr'|translate}}"></i>
                        </mat-header-cell>
                        </ng-container>
                       
                        <mat-header-row id="headerrowcells" *matHeaderRowDef="displayedColumns;">
                        </mat-header-row>
                        <mat-header-row id="searchrow"
                            *matHeaderRowDef="displaySearchColumns">
                        </mat-header-row>
                        <mat-row mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                        <ng-container matColumnDef="disclaimer">
                            <td mat-footer-cell *matFooterCellDef colspan="11">
                                <div fxFlex="100" fxLayout="column" [ngClass]="tblplaceholder?'':'nofound'" fxLayoutAlign="center center">
                                    <div fxLayout="row wrap" fxLayoutAlign="center center"  *ngIf="tblplaceholder"
                                    class="NorecordLoader m-t-20"></div>
                                    <img src="assets/images/opalimages/norecord.svg" alt="norecord" *ngIf="!tblplaceholder" />
                                    <p class="m-t-10 txt-gry3 fs-16" *ngIf="!tblplaceholder && !start">{{'No Records' | translate}} </p>
                                        <p class="m-t-10 txt-gry3 fs-16" *ngIf="!tblplaceholder && start">{{'To view a specific Learner information, use the Search option on the Information required.' | translate}} </p>
                                    
                                </div>
                            </td>
                        </ng-container>
                        <ng-container >
                            <mat-footer-row [class.stickyclass]="(resultsLength > 0) ? 'none' : 'block'"
                                [style.display]="(resultsLength > 0) ? 'none' : 'block' "
                                *matFooterRowDef="['disclaimer']" style="justify-content: center">
                            </mat-footer-row>
                        </ng-container>
                    </mat-table>
                </div>
                <div fxLayout="row" fxLayoutAlign="end" class="m-b-15 m-t-30">
                    <div fxFlex.gt-sm="100" fxFlex="100" class="footerpaginator">
                        <mat-paginator class="p-r-10" ngClass.xs="block" ngClass.sm="block"
                            class="masterPage masterbottom " showFirstLastButtons [pageSize]="paginator?.pageSize"
                            (page)="syncPrimaryPaginator($event);" [pageIndex]="paginator?.pageIndex"
                            [length]="learnercard_length" [pageSizeOptions]="paginator?.pageSizeOptions">
                        </mat-paginator>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
