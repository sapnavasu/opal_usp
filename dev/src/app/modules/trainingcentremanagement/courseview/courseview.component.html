<div id="courseview" fxLayout="row wrap" fxLayoutAlign="center">
    <div class="viewcourseview m-b-25" fxFlex="100">
        <div class="verify" fxflex fxLayoutAlign="space-between">
            <h2 class="headcolor fs-18 m-0" *ngIf="tabtype == 'staff'">{{'courseview.stafviw' | translate}}<span class="aprove fs-13 pd-3 m-l-10" *ngIf="appsit_status == 3">{{'courseview.approv' | translate}}</span><span
                    class="declin fs-13 pd-3 m-l-10" *ngIf="appsit_status == 4">{{'courseview.declin' | translate}}</span></h2>

            <h2 class="headcolor fs-18 m-0" *ngIf="tabtype == 'course'">{{'courseview.courseviw' | translate}}
            <span class="aprove fs-13 pd-3 m-l-10" *ngIf="appoct_status == 3">{{'courseview.approv' | translate}}</span>
            <span
            class="declin fs-13 pd-3 m-l-10" *ngIf="appoct_status == 4">{{'courseview.declin' | translate}}
            </span></h2>
            <!-- <button mat-raised-button>{{'courseview.validat' | translate}}</button> -->

     <div  *ngIf="this.projectpk == 1">
            <app-viewvalidation [callbackFn]="onValidation" [hidebtn]="true" [newbtn]="true" *ngIf="(appdt_status == 2 || appdt_status == 4) && viewtype == 'desktopreview'"></app-viewvalidation>
    </div>

          

        </div>
        <div  *ngIf="tabtype == 'course'" class="m-t-20" >
            <div class="successcmd m-l-0 m-r-0 m-b-20" *ngIf="appoct_status == 3">
                <p class="18 comment">{{'institute.declcomm' | translate}}</p>
                <p class="16 m-b-30" [innerHtml]='appoct_appdeccomment'></p>
                    <mat-divider></mat-divider>
                   <div class="validinfo"  fxLayout="row wrap" >
                    <p class="fs-16 txt-gry m-r-40">{{'institute.lastvalion' | translate}} : <span class="fs-16 txt-gry3">{{appoct_appdecon}}</span></p>
                    <p class="fs-16 txt-gry m-l-30">{{'institute.lastvaliby' | translate}} : <span class="fs-16 txt-gry3">{{username}}</span></p>
                   </div>
            </div>
            <div class="declinecmd m-l-0 m-r-0 m-b-20" *ngIf="appoct_status == 4">
                <p class="18 comment">{{'institute.declcomm' | translate}}</p>
                <p class="16 m-b-30" [innerHtml]='appoct_appdeccomment'></p>
                    <mat-divider></mat-divider>
                   <div class="validinfo"  fxLayout="row wrap" >
                    <p class="fs-16 txt-gry m-r-40">{{'institute.lastvalion' | translate}} : <span class="fs-16 txt-gry3">{{appoct_appdecon}}</span></p>
                    <p class="fs-16 txt-gry m-l-30">{{'institute.lastvaliby' | translate}} : <span class="fs-16 txt-gry3">{{username}}</span></p>
                   </div>
            </div>
        <!-- <div class="coments pd-15 m-t-30"  *ngIf="appoct_status == 3">
            <span class="fs-18">{{'courseview.coments' | translate}}</span>
            <p class="text-default p-b-20" [innerHtml]='appoct_appdeccomment'></p>
            <div class="validmsg d-flex">
                <mat-divider></mat-divider>
                <p class="text-gray fs-16 m-r-20">{{'courseview.veryon' | translate}}: <span class=" text-default fs-14">{{appoct_appdecon}}</span>
                </p>
                <p class="text-gray fs-16 m-l-20">{{'courseview.veryby' | translate}}: <span class=" text-default fs-14">{{username}}</span>
                </p>
            </div> 
        </div> -->
        <!-- <div class="decline pd-15 m-t-30" *ngIf="appoct_status == 3">
            <span class="fs-18">{{'courseview.coments' | translate}}</span>
            <p class="text-default p-b-20" [innerHtml]='appoct_appdeccomment'></p>
            <div class="validmsg d-flex">
                <mat-divider></mat-divider>
                <p class="text-gray fs-16 m-r-20">{{'courseview.veryon' | translate}}: <span class=" text-default fs-14">{{appoct_appdecon}}</span>
                </p>
                <p class="text-gray fs-16 m-l-20">{{'courseview.veryby' | translate}}: <span class=" text-default fs-14">{{username}}</span>
                </p>

            </div>
        </div> -->

      </div>
      <div  *ngIf="tabtype == 'staff'" >
        <!-- <div class="coments pd-15 m-t-30" *ngIf="appsit_status == 3" >
            <h4 class="fs-18 txt-gry3" >{{'courseview.coments' | translate}}</h4>
            <p class="text-default p-b-20" [innerHtml]='appsit_appdeccomment'></p>
            <div class="validmsg d-flex">
                <mat-divider></mat-divider>
                <p class="text-gray fs-16 m-r-20">{{'courseview.veryon' | translate}}: <span class="text-default fs-14">{{appsit_appdecon}}</span>
                </p>
                <p class="text-gray fs-16 m-l-20">{{'courseview.veryby' | translate}}: <span class="bold text-default fs-14">{{username1}}</span>
                </p>
            </div> 
        </div> -->
        <div class="successcmd m-l-0 m-r-0 m-b-20 m-t-20" *ngIf="appsit_status == 3">
            <p class="18 comment">{{'institute.declcomm' | translate}}</p>
            <p class="16 m-b-30" [innerHtml]='appsit_appdeccomment'></p>
                <mat-divider></mat-divider>
               <div class="validinfo"  fxLayout="row wrap" >
                <p class="fs-16 txt-gry m-r-40">{{'institute.lastvalion' | translate}} : <span class="fs-16 txt-gry3">{{appsit_appdecon  | date: 'dd-MM-yyyy'}}</span></p>
                <p class="fs-16 txt-gry m-l-30">{{'institute.lastvaliby' | translate}} : <span class="fs-16 txt-gry3">{{username1}}</span></p>
               </div>
        </div>
        <div class="declinecmd m-l-0 m-r-0 m-b-20 m-t-20" *ngIf="appsit_status == 4">
            <p class="18 comment">{{'institute.declcomm' | translate}}</p>
            <p class="16 m-b-30" [innerHtml]='appsit_appdeccomment'></p>
                <mat-divider></mat-divider>
               <div class="validinfo"  fxLayout="row wrap" >
                <p class="fs-16 txt-gry m-r-40">{{'institute.lastvalion' | translate}} : <span class="fs-16 txt-gry3">{{appsit_appdecon  | date: 'dd-MM-yyyy'}}</span></p>
                <p class="fs-16 txt-gry m-l-30">{{'institute.lastvaliby' | translate}} : <span class="fs-16 txt-gry3">{{username1}}</span></p>
               </div>
        </div>
        <!-- <div class="decline pd-15 m-t-30" *ngIf="appsit_status == 4">
            <h4 class="fs-18 txt-gry3">{{'courseview.coments' | translate}}</h4>
            <p class="text-default p-b-20"  [innerHtml]='appsit_appdeccomment'></p>
            <div class="validmsg d-flex">
                <mat-divider></mat-divider>
                <p class="text-gray fs-16 m-r-20">{{'courseview.veryon' | translate}}: <span class=" text-default fs-14">{{appsit_appdecon}}</span>
                </p>
                <p class="text-gray fs-16 m-l-20">{{'courseview.veryby' | translate}}: <span class="text-default fs-14">{{username1}}</span>
                </p>

            </div>
        </div> -->

      </div>
        <div class="company_dtlview m-t-50 m-b-30">
            <!-- ---------course profile------ -->
            <div class="view_dtl m-t-25" fxLayout="row" *ngIf="tabtype == 'course'">
                <p class="m-0">{{'courseview.courtitile' | translate}}</p>
                <span>{{courcename}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'course'">
                <p class="m-0">{{'courseview.courdura' | translate}}</p>
                <span>{{appoct_courseduration}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'course'">
                <p class="m-0">{{'courseview.doesthecourcon' | translate}}</p>
                <span style="display: flex;align-items: center;" *ngIf="appoct_foundationprog == true">{{'Yes'}}</span>
                <span style="display: flex;align-items: center;" *ngIf="appoct_foundationprog == false">{{'No'}}</span>

            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'course'">
                <p class="m-0">{{'courseview.courlevl' | translate}} </p>
                <span>{{levelName}} </span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'course'">
                <p class="m-0">{{'courseview.coursecateg' | translate}}</p>
                <span>{{appoct_coursecategorymst_fk}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'course'">
                <p class="m-0">{{'courseview.coursesubcateg' | translate}}</p>
                <span>
                    <ul class="pd-0 m-0" *ngFor="let subCat of array" >
                        <li>{{subCat.ccm_catname_en}} </li>
                   
                    </ul>
                </span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'course'">
                <p class="m-0">{{'courseview.courtest' | translate}}</p>
                <span>{{coursetestName}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'course'">
                <p class="m-0">{{'courseview.recinteorgof' | translate}}</p>
                <span *ngIf="intreg">
                    <ul class="pd-0 m-0" *ngFor="let int of intreg">
                        <li>{{ interarray[int] }}</li>
                      
                    </ul>
                </span>
                <span *ngIf="!intreg"> - </span>
                   
                   
            </div>

            <!-- --------user profile---- -->
            <div class="view_dtl m-t-25" fxLayout="row" *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.civilno' | translate}}</p>
                <span>{{sir_idnumber}} </span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.stafnameng' | translate}} </p>
                <span>{{sir_name_en}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.stafnamarabi' | translate}} </p>
                <span>{{sir_name_ar}} </span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.emaiid' | translate}}</p>
                <span>{{sir_emailid}}  </span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.datofbirth' | translate}}</p>
                <span>{{sir_dob?(sir_dob| date: 'dd-MM-yyyy'):'-'}} </span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.age' | translate}} </p>
                <span>{{age}} </span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.gen' | translate}}</p>
                <span>{{sir_gender == 1?'Male':'Female'}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.nationlit' | translate}} </p>
                <span>{{sir_nationality}}</span>
            </div>
          
            <!-- <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.house/street' | translate}} 1</p>
                <span>{{sir_addrline1}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.house/street' | translate}} 2</p>
                <span>{{sir_addrline2}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.count' | translate}}</p>
                <span>{{sir_nationality}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.gove' | translate}}</p>
                <span>{{sir_opalstatemst_fk}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.wila' | translate}}</p>
                <span>UNC002</span>
            </div> -->
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff' && this.projectpk == 1">
                <p class="m-0">{{'courseview.mainrol' | translate}}</p>
                <span>{{appsit_mainrole}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.jobtitl' | translate}}</p>
                <span>{{appsit_jobtitle}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.conttyp' | translate}}</p>
                <span>{{appsit_contracttype == 1?'Temporary':'Permanent'}}</span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="tabtype == 'staff'">
                <p class="m-0">{{'courseview.permresid' | translate}}</p>
                <span *ngIf="address">{{address}}</span>
               
            </div>
            
        </div>
        <div class="verify m-t-50" *ngIf="tabtype == 'course'" fxLayout="column">
            <h2 class="fs-18 m-0">{{'courseview.coursunit' | translate}}</h2>
            <div class="paginationwithfilter masterPageTop pd-0 d-flex" *ngIf="resultsLength1>5">
                <mat-paginator class="masterPage masterPageTop" #paginator [length]="resultsLength1" [pageSize]="10"
                    [pageSizeOptions]="[1, 10, 25, 100]" (page)="syncPrimaryPaginator1($event);"></mat-paginator>
            </div>
            <div class="company-profile pd-10 m-b-10 m-t-20" *ngFor="let unit of courseunit">
                <p class="text-gray fs-15">{{'courseview.unitcode' | translate}} : <span class="text-default fs-15">{{unit.appocut_unitcode}}</span></p>
                <p class="text-default fs-15">{{unit.appocut_unittitle}}</p>
            </div>

            <div fxFlex="100" fxLayout="column" fxLayoutAlign="center center" *ngIf="resultsLength1 == 0">
                <img src="assets/images/opalimages/norecord.svg" alt="norecord" >
                <p class="m-t-10 txt-gry3 fs-16" >{{'common.noreco' | translate}} 
                </p>
            </div>
            <div class="submitbtn m-t-15" fxLayout="row wrap" fxLayoutAlign="flex-end center" fxFlex="100" >
                <button mat-raised-button class="cancbtn m-r-15" type="button" (click)="goBack()">{{'Back' | translate}}</button>
            </div>
        </div>
        <div class="tab m-b-10 m-t-40" *ngIf="tabtype == 'staff'">
            <mat-tab-group>
                <mat-tab label="{{'courseview.eduquali' | translate}}">
                    <div class="tab-content" *ngIf="resultsLength2 !=0">
                        <div class="paginationwithfilter masterPageTop pd-0 d-flex m-t-20">
                            <mat-paginator *ngIf="resultsLength2>5" class="masterPage masterPageTop" #paginator [length]="resultsLength2"
                                [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]"
                                (page)="syncPrimaryPaginator2($event);"></mat-paginator>
                        </div>
                        <div class="institute-detail m-t-20" *ngFor="let acad of staffacd">
                            <div class="institue-name pd-10">
                                <h4 class="fs-18 txt-gry3 m-5 txt-cap">{{acad.sacd_institutename}}</h4>
                                <!-- <p class="text-gray">{{'courseview.locan' | translate}}: <span class="text-default">{{acad.ocim_cityname_en}},   
                                    {{acad.osm_statename_en}},  {{acad.ocym_countryname_en}}  </span></p> -->
                            </div>
                            <!-- <div fxLayout="row wrap" class="p-r-15 p-l-15 p-b-10">
                                <div class="managedetials m-r-25">
                                   
                                    <p class="fs-16 txt-gry">{{'courseview.start' | translate}} : <span
                                            class="fs-16 txt-gry3">{{acad.sacd_startdate}}</span></p>
                                    <p class="fs-16 txt-gry">{{'courseview.end' | translate}} : <span
                                            class="fs-16 txt-gry3">{{acad.sacd_enddate}}</span></p>
                                            <p class="fs-16 txt-gry">{{'courseview.educinst' | translate}} : <span
                                                class="fs-16 txt-gry3">{{acad.sacd_institutename}}</span></p>
                                            
                                </div>
                                <div class="">
                                   
                                    <p class="fs-16 txt-gry">{{'courseview.count' | translate}}: <span
                                            class="fs-16 txt-gry3">{{acad.ocym_countryname_en}}</span></p>
                                    <div *ngIf="!oman">
                                        <p class="fs-16 txt-gry">{{'courseview.state' | translate}}: <span
                                            class="fs-16 txt-gry3">{{acad.osm_statename_en}}</span></p>
                                            <p class="fs-16 txt-gry">{{'courseview.city' | translate}}: <span
                                                class="fs-16 txt-gry3">{{acad.ocim_cityname_en}}</span></p>
                                    </div>
                                    <div *ngIf="!oman">
                                        <p class="fs-16 txt-gry">{{'courseview.gove' | translate}}: <span
                                            class="fs-16 txt-gry3">{{acad.osm_statename_en}}</span></p>
                                            <p class="fs-16 txt-gry">{{'courseview.wila' | translate}}: <span
                                                class="fs-16 txt-gry3">{{acad.ocim_cityname_en}}</span></p>
                                    </div>
                                </div>
                                <div class="">
                                  
                                    <p class="fs-16 txt-gry">{{'courseview.educleve' | translate}}: <span
                                            class="fs-16 txt-gry3">{{acad.sacd_edulevel}}</span></p>
                                            <p class="fs-16 txt-gry">{{'courseview.high' | translate}} :  <span
                                                class="fs-16 txt-gry3">{{acad.sacd_degorcert}}</span></p>
                                    <p class="fs-16 txt-gry">{{'courseview.gpagrad' | translate}}: <span
                                            class="fs-16 txt-gry3">{{acad.sacd_grade}}</span></p>
                                </div>
                            </div> -->
                            <div class="institute-location pd-10" fxLayout="row wrap">
                               
                                <div class="m-r-30">
                                    <div class="view_dtl m-t-15" fxLayout="row">
                                        <p class="m-0 txt-cap text-gray">{{'courseview.high' | translate}} </p>
                                        <span class="txt-cap">{{acad.sacd_degorcert}}</span>
                                    </div>
                                    <div class="view_dtl m-t-25" fxLayout="row">
                                        <p class="m-0 text-gray">{{'Graduation Date' | translate }} </p>
                                        <span>{{acad.sacd_enddate}}</span>
                                    </div>
                                    <!-- <div class="view_dtl m-t-25" fxLayout="row">
                                        <p class="m-0 text-gray">{{'courseview.end' | translate}} </p>
                                        <span>{{acad.sacd_enddate}}</span>
                                    </div> -->
                                    <div class="view_dtl m-t-25" fxLayout="row">
                                        <p class="m-0 text-gray">{{'Uploaded Certificate' | translate}} </p>
                                        <span><a fxLayoutAlign="start center" href="{{acad.coverImg}}" class="txt-gry3 fs-16" target="_blank"><img  src="assets\images\opalimages\{{acad.mcfd_filetype}}_new.svg " class="documentimg m-r-10" alt=""cractivitydocument>View</a></span>
                                    </div>
                                </div>
                                <div class="">
                                    <div class="view_dtl m-t-15" fxLayout="row">
                                        <p class="m-0 text-gray">{{'courseview.educleve' | translate}} </p>
                                        <span>{{acad.sacd_edulevel}}</span>
                                    </div>
                                    <div class="view_dtl m-t-25" fxLayout="row">
                                        <p class="m-0 text-gray">{{'courseview.gpagrad' | translate}} </p>
                                        <span>{{acad.sacd_grade}}</span>
                                    </div>
                                   
                                </div>
                            </div>
                        </div>
                        </div>
                        <!-- <div [ngClass]="tblplaceholder == true ? ' ' : 'nofound'"  fxLayoutAlign="center" fxFlex.gt-sm="100"
                        fxFlex="100"> -->
                        <div fxFlex="100" class="norecordfound" fxLayout="column" fxLayoutAlign="center center" *ngIf="resultsLength2 == 0">
                            <img src="assets/images/opalimages/norecord.svg" alt="norecord" >
                            <p class="m-t-10 txt-gry3 fs-16" >{{'common.noreco' | translate}} 
                            </p>
                        </div>
                </mat-tab>
                <mat-tab label="{{'courseview.workexp' | translate}}">
                    <div class="tab-content" *ngIf="resultsLength3 !=0">
                        <div class="paginationwithfilter masterPageTop pd-0 d-flex m-t-20">
                            <mat-paginator *ngIf="resultsLength3>5" class="masterPage masterPageTop" #paginator [length]="resultsLength3"
                                [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]"
                                (page)="syncPrimaryPaginator3($event);"></mat-paginator>
                        </div>
                        <div class="institute-detail m-t-20"  *ngFor="let wrk of staffwrk">
                            <div class="institue-name pd-10">
                                <h2 class="fs-18 txt-gry3 m-0 txt-cap">{{wrk.sexp_employername}}</h2>
                                <p class="text-gray m-0">{{'courseview.locan' | translate}}: <span class="text-default">
                                    <span *ngIf= "wrk.ocim_cityname_en">{{wrk.ocim_cityname_en}},</span>
                                       <span *ngIf= "wrk.osm_statename_en"> {{wrk.osm_statename_en}}, </span>{{wrk.ocym_countryname_en}}</span></p>
                            </div>
        
                            <div class="institute-location pd-10">
                               
                                <div class="view_dtl m-t-15" fxLayout="row">
                                    <p class="m-0 text text-gray">{{'courseview.jobtitl' | translate}} </p>
                                    <span class="txt-cap">  {{wrk.appsit_jobtitle}}</span>
                                </div>
                                <div class="view_dtl m-t-20" fxLayout="row" *ngIf= "wrk.sexp_doj">
                                    <p class="m-0 text-gray">{{'courseview.datofjoin' | translate}} </p>
                                    <span> {{wrk.sexp_doj}}</span>
                                </div>
                                <div class="view_dtl m-t-20" fxLayout="row">
                                    <p class="m-0 text-gray">{{'courseview.worktil' | translate}} </p>
                                    <span> {{(wrk.sexp_currentlyworking == 2)?wrk.sexp_eod:'
                                            Till date'}}</span>
                                </div>
                                <div class="view_dtl m-t-25" fxLayout="row" *ngIf= "wrk.mcfd_filetype">
                                    <p class="m-0 text-gray">{{'Uploaded Document' | translate}} </p>
                                    <span><a fxLayoutAlign="start center" href="{{wrk.coverImageswork}}" class="txt-gry3 fs-16" target="_blank"><img  src="assets\images\opalimages\{{wrk.mcfd_filetype}}_new.svg " class="documentimg m-r-10" alt=""cractivitydocument>{{'View' | translate}}</a></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div fxFlex="100" fxLayout="column" class="norecordfound" fxLayoutAlign="center center" *ngIf="resultsLength3 == 0">
                        <img src="assets/images/opalimages/norecord.svg" alt="norecord" >
                        <p class="m-t-10 txt-gry3 fs-16" >{{'common.noreco' | translate}} 
                        </p>
                    </div>
                </mat-tab>
            </mat-tab-group>
        </div>

        <!-- <div fxLayout="row" fxLayoutAlign="end" class="m-b-15 m-t-30">
            <div fxFlex.gt-sm="100" fxFlex="100" class="footerpaginator">
                <mat-paginator class="p-r-10" ngClass.xs="block" ngClass.sm="block" class="masterPage masterbottom "
                    showFirstLastButtons [pageSize]="paginator?.pageSize" (page)="syncPrimaryPaginator($event);"
                    [pageIndex]="paginator?.pageIndex" [length]="paginator?.length"
                    [pageSizeOptions]="paginator?.pageSizeOptions">
                </mat-paginator>
            </div>
        </div> -->
        <div class="company_dtlview m-t-50" *ngIf="tabtype == 'staff'" fxLayout="column">
            <div class="view_dtl m-t-25" fxLayout="row" *ngIf="this.projectpk == 1">
                <p class="m-0 text-default fs-18">{{'courseview.mohapprocard' | translate}}</p>
                <span  *ngIf="!documenttype">Nil</span>
                <span  *ngIf="documenttype" fxLayoutAlign="start center" class="document"><a fxLayoutAlign="start center" href="{{coverImg}}" class="txt-gry3 fs-16" target="_blank"><img src="assets\images\opalimages\{{mcfd_filetype}}_new.svg " class="documentimg m-r-10" alt=""cractivitydocument>{{'View' | translate}}</a></span>
            </div>
            <div class="{{'view' | translate}}_dtl m-t-25" fxLayout="column" *ngIf="this.projectpk == 4 && isInspector">
                <h4 class="m-0 text-default fs-18">{{'Other Documents' | translate}}</h4>
                <div class="view_dtl m-t-25" fxLayout="row" fxLayoutAlign="start center"  *ngIf="tabtype == 'staff'">
                    <p class="m-0">{{'Upload ID Card' | translate}}</p>
                    <span><a fxLayoutAlign="start center" href="{{coverImg1}}" class="txt-gry3 fs-16" target="_blank"><img  src="assets\images\opalimages\{{civilfiletype}}_new.svg " class="documentimg m-r-10" alt="{{civilfiletype}}" cractivitydocument>{{'View' | translate}}</a></span>
                </div>
                <div class="view_dtl m-t-25" fxLayout="row" fxLayoutAlign="start center"  *ngIf="tabtype == 'staff'">
                    <p class="m-0">{{'Upload ROP Driver License' | translate}}</p>
                    <span><a fxLayoutAlign="start center" href="{{coverImg2}}" class="txt-gry3 fs-16" target="_blank"><img  src="assets\images\opalimages\{{licencefiletype}}_new.svg " class="documentimg m-r-10" alt="{{licencefiletype}}" cractivitydocument>{{'View' | translate}}</a></span>
                </div>
                <div class="view_dtl m-t-25" fxLayout="row" fxLayoutAlign="start center" *ngIf="tabtype == 'staff'">
                    <p class="m-0">{{'Upload MOL Employment Contract' | translate}}</p>
                    <span><a fxLayoutAlign="start center" href="{{coverImg}}" class="txt-gry3 fs-16" target="_blank"><img  src="assets\images\opalimages\{{mcfd_filetype}}_new.svg " class="documentimg m-r-10" alt="{{mcfd_filetype}}" cractivitydocument>{{'View' | translate}}</a></span>
                </div>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row"  *ngIf="this.projectpk == 1">
                <p class="m-0 text-default fs-18">{{'courseview.offrdcour' | translate}}</p>
                <span  *ngIf="arrayoffercourse.length == '0'">Nil</span>
                <span  *ngIf="arrayoffercourse.length != '0'">
                    <ul class="pd-0 m-0" *ngFor="let level of arrayoffercourse">
                       <li>{{coursearray[level]}}</li>
                    </ul>
                </span>
            </div>
            <div class="view_dtl m-t-25" fxLayout="row wrap" fxLayoutAlign="start center">
                <h4 class="m-0 text-default fs-18">{{'courseview.curvitcv' | translate}}</h4>
                <span class="m-l-50"><button mat-raised-button class="cvbtn"  (click)="staffCv(sir_staffcv)">{{'courseview.viewcurvitcv' | translate}}</button></span>
            </div>
            <div class="submitbtn m-t-15" fxLayout="row wrap" fxLayoutAlign="flex-end center" fxFlex="100" *ngIf="this.projectpk == 1">
                <button mat-raised-button class="cancbtn m-r-15" type="button" (click)="goBack()">{{'Back' | translate}}</button>
            </div>
            <div class="grid" *ngIf="this.projectpk == 4">
                <h4 class="fs-16 txt-gry3">{{'Inspection Categories' | translate}}</h4>
                <div class="paginationwithfilter masterPageTop ">
                    <mat-paginator #paginatortwo class="masterPage masterPageTop" [length]="resultsLength5" [pageSize]="10"
                        [pageSizeOptions]="[5, 10, 25, 100] " (page)="syncPrimaryInspect($event);"></mat-paginator>
                    <div fxLayout="row wrap" fxLayoutAlign="end">
                        <div fxFlex.gt-sm="100" fxFlex="100">
                            <button mat-raised-button type="button" *ngIf="this.stktype == 1" 
                            class="transformbtn m-r-15" (click)="exportgridData();" >{{'Export' | translate}}</button>
                            <button mat-raised-button type="button" *ngIf="this.stktype != 1 && (createaccess || isfocalpoint ==1)" (click)="registerNow();"
                            class="transformbtns m-r-15">{{'Register New Vehicle' | translate}}</button>
                            <button mat-raised-button type="button" color="primary" (click)="clickEvent();"
                                class="filter">{{filtername}}<i class="opalicon opal-filter fs-15 m-l-7"
                                    aria-hidden="true"></i></button>
                        </div>
                    </div>
                </div>
                <div fxLayout="row wrap">
                    <div fxFlex.gt-sm="100" fxFlex="100" class="tabforclientelenew">
                        <div #TABLE class="awaredtable lastColumn">
                            <mat-table id="ExampleMaterialTable" #table class="scrolldata" [dataSource]="inspectionListData"
                                matSort matSortDisableClear  matSortActive="apprasvehinspcattmp_pk">
                              
                                <!-- new 1 -->
                                <ng-container matColumnDef="arvict_rascategorymst_fk">
                                    <mat-header-cell fxFlex="270px" mat-header-cell *matHeaderCellDef
                                        mat-sort-header>{{'Inspection  Categories' | translate}}</mat-header-cell>
                                    <mat-cell data-label="arvict_rascategorymst_fk" fxFlex="270px" *matCellDef="let element">
                                        <div *ngIf="tblplaceholder" class="w-100">
                                            <div class="tabledataloader"></div>
                                        </div>
                                        <div *ngIf="!tblplaceholder">{{element.rcm_coursesubcatname_en}}
                                        </div>
                                    </mat-cell>
                                </ng-container>
                                 <!-- new ROLE -->
                                 <ng-container matColumnDef="arvict_status">
                                    <mat-header-cell fxFlex="270px"  mat-header-cell *matHeaderCellDef
                                        mat-sort-header>{{'Roles' | translate}}</mat-header-cell>
                                    <mat-cell data-label="arvict_status" fxFlex="270px" *matCellDef="let element">
                                        <div *ngIf="tblplaceholder" class="w-100">
                                            <div class="tabledataloader"></div>
                                        </div>
                                        <div *ngIf="!tblplaceholder">
                                               {{element.rolename?.split(',')[0]}}
                                                
                                                <span
                                                    *ngIf="element.rolename?.split(',').length>1"  style="cursor: pointer;" matTooltip="{{element.rolename}}">(+{{element.rolename?.split(',').length-1}})</span>
                                            
                                        </div>
                                    </mat-cell>
                                </ng-container>
                                 <!-- new 2 -->
                                 <ng-container matColumnDef="knowassessment">
                                    <mat-header-cell fxFlex="270px" fxFlex.gt-md="290px" mat-header-cell *matHeaderCellDef
                                        mat-sort-header>{{'Knowledge Assessment Status' | translate}}</mat-header-cell>
                                    <mat-cell data-label="knowassessment" fxFlex="270px" fxFlex.gt-md="290px" *matCellDef="let element">
                                        <div *ngIf="tblplaceholder" class="w-100">
                                            <div class="tabledataloader"></div>
                                        </div>
                                        <div *ngIf="!tblplaceholder">
                                        
                                            <div *ngIf="(element.appsit_iscarddetails == 1 || element.appsit_iscarddetails == 3 ) && element.knowpending ==2 &&  fromview == '2' && (element.appdt_status == 2 || element.appdt_status == 4)">
                                                <span *ngIf="(!element.staffevanfee && element.asmtstatus != 2 && element.asmtstatus != 7) || ((element.appsit_iscarddetails == 1  || element.appsit_iscarddetails == 3) && element.knowpending == 2)" class="Pending">{{'Pending' | translate }}</span>
                                            </div>
                                            <div *ngIf="element.knowpending ==1  || (element.knowpending ==2 && element.appsit_iscarddetails == 2) || (fromview == '1') ||  (element.appdt_status != 2 &&  element.appdt_status != 4)">
                                                <span *ngIf="(!element.staffevanfee && element.asmtstatus != 2 && element.asmtstatus != 7)" class="Pending">{{'Pending' | translate }}</span>
                                                <span *ngIf="element.asmtstatus == 5 " class="Pass">{{'Pass' | translate }} </span>
                                                <span *ngIf="element.asmtstatus ==  6" class="Fail">{{ 'Fail' | translate }} </span>
                                                <span *ngIf="element.asmtstatus == 2 || element.asmtstatus == 7" class="Available Not">{{'Not Applicable' | translate }}</span>
                                            </div>
                                            
                                            
                                        </div>
                                    </mat-cell>
                                </ng-container>
                                   <!-- new 3 -->
                                   <ng-container matColumnDef="practassessment">
                                    <mat-header-cell fxFlex="270px" fxFlex.gt-md="300px" mat-header-cell *matHeaderCellDef
                                        mat-sort-header>{{'Practical Assessment Status' | translate}}</mat-header-cell>
                                    <mat-cell data-label="practassessment" fxFlex="270px" fxFlex.gt-md="300px" *matCellDef="let element">
                                        <div *ngIf="tblplaceholder" class="w-100">
                                            <div class="tabledataloader"></div>
                                        </div>
                                        <div *ngIf="!tblplaceholder">
                                  
                                            <div *ngIf="element.appsit_iscarddetails == 1 && element.pracpending == 2 &&  fromview == '2' && (element.appdt_status == 2 || element.appdt_status == 4)">
                                             
                                                 <span *ngIf="(element.staffevanfee  &&  element.asmtstatusp != 3 &&  element.asmtstatusp != 4 &&  element.asmtstatusp != 2 && (element.asmtstatus == 1 ||  element.asmtstatus == 5 || element.asmtstatus == 6 || element.asmtstatus == 7) ) ||  (!element.staffevanfee && element.asmtstatus != 2 ) || ((element.appsit_iscarddetails == 1 || element.appsit_iscarddetails == 3) && element.pracpending == 2)" class="Pending">{{'Pending' | translate }}</span>
                                            </div>
                                            <div *ngIf="element.pracpending ==1 || (element.pracpending ==2 && element.appsit_iscarddetails == 2 ) ||  (element.appdt_status != 2 &&  element.appdt_status != 4)  || fromview == '1'">
                                                <span *ngIf="(element.staffevanfee  &&  element.asmtstatusp != 3 &&  element.asmtstatusp != 4 &&  element.asmtstatusp != 2 && (element.asmtstatus == 1 ||  element.asmtstatus == 5 || element.asmtstatus == 6 || element.asmtstatus == 7) ) ||  (!element.staffevanfee && element.asmtstatus != 2 )" class="Pending">{{'Pending' | translate }}</span>
                                                <span *ngIf="element.asmtstatusp == 3 "  class="Pass">{{'Competent' | translate }}</span>
                                                <span *ngIf="element.asmtstatusp == 4 " class="Fail">{{'Not Yet Competent' | translate }}</span>
                                                <span *ngIf="element.asmtstatusp == 2 " class="Available Not">{{'Not Applicable' | translate }}</span>
                                           </div>  
                                        </div>
                                    </mat-cell>
                                </ng-container>
                                <!-- new 4 -->
                                <ng-container matColumnDef="action" stickyEnd>
                                    <mat-header-cell fxFlex="200px" mat-header-cell *matHeaderCellDef>{{'Action'
                                        | translate}}
                                    </mat-header-cell>
                                    <mat-cell data-label="action" fxFlex="200px" *matCellDef="let element">
                                        <div *ngIf="tblplaceholder" class="w-100">
                                            <div class="tabledataloader"></div>
                                        </div>
                                       
                                    <div *ngIf="!tblplaceholder" style="cursor: pointer;">
                                      
                                        <span type="button" class="fs-15 blue" *ngIf="assessment   ==  1  && ((element.appdt_status != '2' &&  element.appdt_status != '4') ||  viewtype == 'view' || fromview == '1')" (click)="viewandUpdate('View' , element )">{{'View' | translate }}</span>
                                        <span type="button" class="fs-15 blue" *ngIf="assessment   ==  1 &&   viewtype == 'desktopreview' &&  fromview == '2' &&  (element.appdt_status == '2' || element.appdt_status == '4') &&  (element.knowpending ==1 || (element.knowpending ==2 && element.appsit_iscarddetails == 2)) &&  ((!element.staffevanfee && ( element.asmtstatus == 2 ||  element.asmtstatus == 7)) ||   ( element.staffevanfee && (element.asmtstatus == 6 || element.asmtstatus == 2 || element.asmtstatus == 7 || element.asmtstatus == 5)))" (click)="viewandUpdate('Update', element )">{{'View & Update Assessment Report' | translate }}</span>
                                        <span type="button" class="fs-15 blue"  *ngIf="assessment  ==  1  && viewtype == 'desktopreview' &&   fromview == '2' &&  (element.appdt_status == '2' || element.appdt_status == '4') &&  ((!element.staffevanfee && element.asmtstatus != 2 &&  element.asmtstatus != 7) ||  ((element.appsit_iscarddetails == 1 || element.appsit_iscarddetails == 3 ) && element.knowpending ==2))" (click)="viewandUpdate('Upload', element)">{{'Upload Assessment Report' | translate }}</span>
                                   
                                      
                                        <span type="button" class="fs-15 blue" *ngIf="(assessment ==  2  &&   (element.appdt_status != 9 ||  fromview == 1))" (click)="viewandUpdate('View' , element )">{{'View' | translate }}</span>
                                        <span type="button" class="fs-15 blue" *ngIf="assessment ==  2   &&  (element.appdt_status   == 9 && (element.asmtstatusp == 3 || element.asmtstatusp == 4 || element.asmtstatusp == 2)  && fromview == 2)" (click)="viewandUpdate('Update', element )">{{'View & Update Assessment Report' | translate }}</span>
                                        <span type="button" class="fs-15 blue" *ngIf="assessment ==  2 
                                         &&  (element.appdt_status   == 9 && fromview == 2
                                        && (element.asmtstatusp != '3' &&  element.asmtstatusp != '4' &&  element.asmtstatusp != '2') 
                                         && ((element.staffevanfee && (element.asmtstatus == 1 ||  element.asmtstatus == 5 || element.asmtstatus == 6 || element.asmtstatus == 7)) || (element.staffevanfeep && element.asmtstatusp == 7)))" (click)="viewandUpdate('Upload', element)">{{'Upload Assessment Report' | translate }}</span>
                                    </div>
                                    
                                    </mat-cell>
                                </ng-container>
                                <!-- new 1 -->
                                <ng-container matColumnDef="row-first">
                                    <mat-header-cell fxFlex="270px" class="serachrow" *matHeaderCellDef
                                        style="text-align:center">
                                        <mat-form-field class="filter" appearance="outline">
                                            <mat-label>{{'table.select' | translate}}</mat-label>
                                            <mat-select [formControl]="arvict_rascategorymst_fk" multiple>
                                                <mat-option value="1">{{'Light Vehicle' | translate }}</mat-option>
                                                <mat-option value="2">{{'Heavy Vehicle' | translate}}</mat-option>
                                                <mat-option value="3">{{'Trailer/Tanker' | translate}}</mat-option>
                                                <mat-option value="4">{{'Bus' | translate}}</mat-option>
                                            </mat-select>
            
                                        </mat-form-field>
                                    </mat-header-cell>
                                </ng-container>
                            
                                 <!-- new 2 -->
                                 <ng-container matColumnDef="row-second">
                                    <mat-header-cell fxFlex="270px" class="serachrow" *matHeaderCellDef
                                        style="text-align:center">
                                        <mat-form-field class="filter" appearance="outline">
                                            <mat-label>{{'table.select' | translate}}</mat-label>
                                            <input matInput [formControl]="arvict_status">
                                        </mat-form-field>
                                    </mat-header-cell>
                                </ng-container>
                                <!-- new 3 -->
                                <ng-container matColumnDef="row-three">
                                    <mat-header-cell fxFlex="270px"  fxFlex.gt-md="290px"  class="serachrow" *matHeaderCellDef
                                        style="text-align:center">
                                        <mat-form-field class="filter" appearance="outline">
                                            <mat-label>{{'table.select' | translate}}</mat-label>
                                            <mat-select [formControl]="knowassessment">
                                                <mat-option value="1">{{'Pending' | translate}}</mat-option>
                                                <mat-option value="2">{{'Not Applicable' | translate}}</mat-option>
                                                <mat-option value="3">{{'Pass' | translate}}</mat-option>
                                                <mat-option value="4">{{'Fail' | translate}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </mat-header-cell>
                                </ng-container>
                                <!-- new 4 -->
                                <ng-container matColumnDef="row-four">
                                    <mat-header-cell fxFlex="270px" fxFlex.gt-md="300px" class="serachrow" *matHeaderCellDef
                                        style="text-align:center">
                                        
                                        <mat-form-field class="filter" appearance="outline">
                                            <mat-label>{{'table.select' | translate}}</mat-label>
                                            <mat-select [formControl]="practassessment">
                                                <mat-option value="4">{{'Pending' | translate}}</mat-option>
                                                <mat-option value="1">{{'Competent' | translate}}</mat-option>
                                                <mat-option value="2">{{'Not Competent' | translate}}</mat-option>
                                                <mat-option value="3">{{'Not Applicable' | translate}}</mat-option>

                                            </mat-select>
                                        </mat-form-field>
                                    </mat-header-cell>
                                </ng-container>
                                <!--new 5 -->
                                <ng-container matColumnDef="row-five" stickyEnd>
                                    <mat-header-cell fxFlex="200px" class="serachrow" *matHeaderCellDef
                                    style="text-align:center">
                                    <i class="fa fa-refresh m-l-15 cursorview" (click)="clearFilter();filtersts=false;"
                                        aria-hidden="true" matTooltip="{{'table.refr'| translate}}"></i>
                                </mat-header-cell>
                                </ng-container>
                               
                                <mat-header-row id="headerrowcells" *matHeaderRowDef="staffDataList">
                                </mat-header-row>
                                <mat-header-row id="searchrow" *matHeaderRowDef="['row-first' , 'row-second', 'row-three' , 'row-four', 'row-five']">
                                </mat-header-row>
                                <!-- <mat-header-row id="searchrow" *matHeaderRowDef="getdisplayedsearc">
                                </mat-header-row> -->
                                <mat-row mat-row *matRowDef="let row; columns: staffDataList;"></mat-row>
                                <ng-container matColumnDef="disclaimer">
                                    <td mat-footer-cell *matFooterCellDef colspan="11">
                                        <div class="nofound" fxLayoutAlign="center" fxFlex.gt-sm="100" fxFlex="100">
                                            <div fxFlex="100" fxLayout="column" fxLayoutAlign="center center">
                                                <div fxLayout="row wrap" fxLayoutAlign="center center"  *ngIf="tblplaceholder"
                                                                class="NorecordLoader"></div>
                                                <img src="assets/images/opalimages/norecord.svg" alt="norecord" *ngIf="!tblplaceholder">
                                                <p class="m-t-10 txt-gry3 fs-16" *ngIf="!tblplaceholder">{{'No Records' | translate}}</p>
                                            </div>
                                        </div>
                                    </td>
                                </ng-container>
                                <ng-container>
                                    <mat-footer-row [class.stickyclass]="(resultsLength5 > 0) ? 'none' : 'block'"
                                        [style.display]="(resultsLength5 > 0) ? 'none' : 'block' "
                                        *matFooterRowDef="['disclaimer']" style="justify-content: center">
                                    </mat-footer-row>
                                </ng-container>
                            </mat-table>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="end" class="m-b-15 m-t-30">
                            <div fxFlex.gt-sm="100" fxFlex="100" class="footerpaginator">
                                <mat-paginator class="p-r-10" ngClass.xs="block" ngClass.sm="block"
                                class="masterPage masterbottom " showFirstLastButtons
                                [pageSize]="paginatortwo?.pageSize" (page)="syncPrimaryInspect($event);"
                                [pageIndex]="paginatortwo?.pageIndex" [length]="paginatortwo?.length"
                                [pageSizeOptions]="paginatortwo?.pageSizeOptions">
                            </mat-paginator>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div *ngIf="this.projectpk == 4 && !validateComment && this.assessment == 1"  [style.min-height.px]="toggleopen? '460' : '50'" class="verify submitbtnValidate m-t-15" fxLayout="row wrap" fxLayoutAlign="flex-end start" fxFlex="100">
                <button mat-raised-button class="cancbtn m-r-15" type="button" (click)="goBack()">{{'Cancel' | translate}}</button>
                <!-- <app-viewvalidation     (shareData)="recivedGetData($event)" [rasCentre]="true" [validationPlaceholder]="validationPlaceholder"  [submitPlaceholder]="'Submit'"></app-viewvalidation> -->
                <app-viewvalidation [callbackFn]="onValidation"   (shareData)="recivedGetData($event)" [hidebtn]="true" [newbtn]="true" [isDisabled] = 'isValidated' *ngIf="this.projectpk == 4 && this.assessment == 1 && viewtype == 'desktopreview'"></app-viewvalidation>
                </div>
            <div fxFlex="100" *ngIf="this.projectpk == 4 && validateComment" fxLayout="column" >
                <div class="verify"  fxLayoutAlign="start center">
                    <h4 class="txt-gry3 fs-18 m-0" >{{'Status' | translate}}<span class="aprove fs-13 pd-3 m-l-10" >{{'courseview.approv' | translate}}</span><span
                            class="declin fs-13 pd-3 m-l-10" >{{'courseview.declin' | translate}}</span></h4>
                </div>
                <div class="declinecmd m-l-0 m-r-0 m-b-20 m-t-25"   [ngClass]="declinedmessage == true ? 'declinecmd' : 'successcmd '">
                    <p class="18 comment">{{'institute.declcomm' | translate}}</p>
                    <p class="16 m-b-30" [innerHtml]='appoct_appdeccomment'></p>
                        <mat-divider></mat-divider>
                       <div class="validinfo"  fxLayout="row wrap" >
                        <p class="fs-16 txt-gry m-r-40">{{'institute.lastvalion' | translate}} : <span class="fs-16 txt-gry3">{{appoct_appdecon}}</span></p>
                        <p class="fs-16 txt-gry m-l-30">{{'institute.lastvaliby' | translate}} : <span class="fs-16 txt-gry3">{{username}}</span></p>
                       </div>
                </div>
                
            </div>
            <div class="submitbtn m-t-15" fxLayout="row wrap" fxLayoutAlign="flex-end center" fxFlex="100" *ngIf="this.projectpk == 4 && !validateComment && this.assessment != 1">
                <button mat-raised-button class="cancbtn m-r-15" type="button" (click)="goBack()">{{'Back' | translate}}</button>
            </div>
           
        </div>
      
    </div>
    <!-- <div class="submitbtn m-t-15" fxLayout="row wrap" fxLayoutAlign="flex-end center" fxFlex="100" *ngIf="this.projectpk != 4">
        <button mat-raised-button class="cancbtn m-r-15" type="button" (click)="goBack()">{{'Back' | translate}}</button>
    </div> -->
</div>
<!-- <div *ngIf="ViewAssessment">
    <app-assessmentreport></app-assessmentreport>

</div> -->
<app-responseloader *ngIf="disableSubmitButton"></app-responseloader>